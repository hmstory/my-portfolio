var Rw=Object.defineProperty,Pw=Object.defineProperties;var Nw=Object.getOwnPropertyDescriptors;var Du=Object.getOwnPropertySymbols,Dw=Object.getPrototypeOf,ag=Object.prototype.hasOwnProperty,lg=Object.prototype.propertyIsEnumerable,Vw=Reflect.get;var og=(i,e,t)=>e in i?Rw(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Ne=(i,e)=>{for(var t in e||(e={}))ag.call(e,t)&&og(i,t,e[t]);if(Du)for(var t of Du(e))lg.call(e,t)&&og(i,t,e[t]);return i},En=(i,e)=>Pw(i,Nw(e));var lo=(i,e)=>{var t={};for(var s in i)ag.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&Du)for(var s of Du(i))e.indexOf(s)<0&&lg.call(i,s)&&(t[s]=i[s]);return t};var bw=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var os=(i,e,t)=>Vw(Dw(i),t,e);var k=(i,e,t)=>new Promise((s,o)=>{var l=g=>{try{m(t.next(g))}catch(_){o(_)}},h=g=>{try{m(t.throw(g))}catch(_){o(_)}},m=g=>g.done?s(g.value):Promise.resolve(g.value).then(l,h);m((t=t.apply(i,e)).next())});var bC=bw(Tn=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Jy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hd={exports:{}},Va={},dd={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Ow(){if(ug)return Pe;ug=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function P(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,G={};function q(O,W,ke){this.props=O,this.context=W,this.refs=G,this.updater=ke||B}q.prototype.isReactComponent={},q.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pe(){}pe.prototype=q.prototype;function de(O,W,ke){this.props=O,this.context=W,this.refs=G,this.updater=ke||B}var we=de.prototype=new pe;we.constructor=de,J(we,q.prototype),we.isPureReactComponent=!0;var xe=Array.isArray,je=Object.prototype.hasOwnProperty,Ce={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(O,W,ke){var te,he={},me=null,ze=null;if(W!=null)for(te in W.ref!==void 0&&(ze=W.ref),W.key!==void 0&&(me=""+W.key),W)je.call(W,te)&&!R.hasOwnProperty(te)&&(he[te]=W[te]);var Le=arguments.length-2;if(Le===1)he.children=ke;else if(1<Le){for(var ge=Array(Le),qt=0;qt<Le;qt++)ge[qt]=arguments[qt+2];he.children=ge}if(O&&O.defaultProps)for(te in Le=O.defaultProps,Le)he[te]===void 0&&(he[te]=Le[te]);return{$$typeof:i,type:O,key:me,ref:ze,props:he,_owner:Ce.current}}function C(O,W){return{$$typeof:i,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ke){return W[ke]})}var L=/\/+/g;function x(O,W){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):W.toString(36)}function $e(O,W,ke,te,he){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var ze=!1;if(O===null)ze=!0;else switch(me){case"string":case"number":ze=!0;break;case"object":switch(O.$$typeof){case i:case e:ze=!0}}if(ze)return ze=O,he=he(ze),O=te===""?"."+x(ze,0):te,xe(he)?(ke="",O!=null&&(ke=O.replace(L,"$&/")+"/"),$e(he,W,ke,"",function(qt){return qt})):he!=null&&(V(he)&&(he=C(he,ke+(!he.key||ze&&ze.key===he.key?"":(""+he.key).replace(L,"$&/")+"/")+O)),W.push(he)),1;if(ze=0,te=te===""?".":te+":",xe(O))for(var Le=0;Le<O.length;Le++){me=O[Le];var ge=te+x(me,Le);ze+=$e(me,W,ke,ge,he)}else if(ge=P(O),typeof ge=="function")for(O=ge.call(O),Le=0;!(me=O.next()).done;)me=me.value,ge=te+x(me,Le++),ze+=$e(me,W,ke,ge,he);else if(me==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ze}function tt(O,W,ke){if(O==null)return O;var te=[],he=0;return $e(O,te,"","",function(me){return W.call(ke,me,he++)}),te}function at(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ke){(O._status===0||O._status===-1)&&(O._status=1,O._result=ke)},function(ke){(O._status===0||O._status===-1)&&(O._status=2,O._result=ke)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Fe={current:null},ee={transition:null},ce={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ce};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:tt,forEach:function(O,W,ke){tt(O,function(){W.apply(this,arguments)},ke)},count:function(O){var W=0;return tt(O,function(){W++}),W},toArray:function(O){return tt(O,function(W){return W})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Pe.Component=q,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=de,Pe.StrictMode=s,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Pe.act=ie,Pe.cloneElement=function(O,W,ke){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var te=J({},O.props),he=O.key,me=O.ref,ze=O._owner;if(W!=null){if(W.ref!==void 0&&(me=W.ref,ze=Ce.current),W.key!==void 0&&(he=""+W.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(ge in W)je.call(W,ge)&&!R.hasOwnProperty(ge)&&(te[ge]=W[ge]===void 0&&Le!==void 0?Le[ge]:W[ge])}var ge=arguments.length-2;if(ge===1)te.children=ke;else if(1<ge){Le=Array(ge);for(var qt=0;qt<ge;qt++)Le[qt]=arguments[qt+2];te.children=Le}return{$$typeof:i,type:O.type,key:he,ref:me,props:te,_owner:ze}},Pe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Pe.createElement=A,Pe.createFactory=function(O){var W=A.bind(null,O);return W.type=O,W},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(O){return{$$typeof:m,render:O}},Pe.isValidElement=V,Pe.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:at}},Pe.memo=function(O,W){return{$$typeof:_,type:O,compare:W===void 0?null:W}},Pe.startTransition=function(O){var W=ee.transition;ee.transition={};try{O()}finally{ee.transition=W}},Pe.unstable_act=ie,Pe.useCallback=function(O,W){return Fe.current.useCallback(O,W)},Pe.useContext=function(O){return Fe.current.useContext(O)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(O){return Fe.current.useDeferredValue(O)},Pe.useEffect=function(O,W){return Fe.current.useEffect(O,W)},Pe.useId=function(){return Fe.current.useId()},Pe.useImperativeHandle=function(O,W,ke){return Fe.current.useImperativeHandle(O,W,ke)},Pe.useInsertionEffect=function(O,W){return Fe.current.useInsertionEffect(O,W)},Pe.useLayoutEffect=function(O,W){return Fe.current.useLayoutEffect(O,W)},Pe.useMemo=function(O,W){return Fe.current.useMemo(O,W)},Pe.useReducer=function(O,W,ke){return Fe.current.useReducer(O,W,ke)},Pe.useRef=function(O){return Fe.current.useRef(O)},Pe.useState=function(O){return Fe.current.useState(O)},Pe.useSyncExternalStore=function(O,W,ke){return Fe.current.useSyncExternalStore(O,W,ke)},Pe.useTransition=function(){return Fe.current.useTransition()},Pe.version="18.3.1",Pe}var cg;function rf(){return cg||(cg=1,dd.exports=Ow()),dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Lw(){if(hg)return Va;hg=1;var i=rf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var T,I={},P=null,B=null;_!==void 0&&(P=""+_),g.key!==void 0&&(P=""+g.key),g.ref!==void 0&&(B=g.ref);for(T in g)s.call(g,T)&&!l.hasOwnProperty(T)&&(I[T]=g[T]);if(m&&m.defaultProps)for(T in g=m.defaultProps,g)I[T]===void 0&&(I[T]=g[T]);return{$$typeof:e,type:m,key:P,ref:B,props:I,_owner:o.current}}return Va.Fragment=t,Va.jsx=h,Va.jsxs=h,Va}var dg;function Mw(){return dg||(dg=1,hd.exports=Lw()),hd.exports}var E=Mw(),Re=rf();const jw=Jy(Re);var Vu={},fd={exports:{}},Jt={},pd={exports:{}},md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function Fw(){return fg||(fg=1,(function(i){function e(ee,ce){var ie=ee.length;ee.push(ce);e:for(;0<ie;){var O=ie-1>>>1,W=ee[O];if(0<o(W,ce))ee[O]=ce,ee[ie]=W,ie=O;else break e}}function t(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],ie=ee.pop();if(ie!==ce){ee[0]=ie;e:for(var O=0,W=ee.length,ke=W>>>1;O<ke;){var te=2*(O+1)-1,he=ee[te],me=te+1,ze=ee[me];if(0>o(he,ie))me<W&&0>o(ze,he)?(ee[O]=ze,ee[me]=ie,O=me):(ee[O]=he,ee[te]=ie,O=te);else if(me<W&&0>o(ze,ie))ee[O]=ze,ee[me]=ie,O=me;else break e}}return ce}function o(ee,ce){var ie=ee.sortIndex-ce.sortIndex;return ie!==0?ie:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],_=[],T=1,I=null,P=3,B=!1,J=!1,G=!1,q=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function we(ee){for(var ce=t(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=ee)s(_),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(_)}}function xe(ee){if(G=!1,we(ee),!J)if(t(g)!==null)J=!0,at(je);else{var ce=t(_);ce!==null&&Fe(xe,ce.startTime-ee)}}function je(ee,ce){J=!1,G&&(G=!1,pe(A),A=-1),B=!0;var ie=P;try{for(we(ce),I=t(g);I!==null&&(!(I.expirationTime>ce)||ee&&!D());){var O=I.callback;if(typeof O=="function"){I.callback=null,P=I.priorityLevel;var W=O(I.expirationTime<=ce);ce=i.unstable_now(),typeof W=="function"?I.callback=W:I===t(g)&&s(g),we(ce)}else s(g);I=t(g)}if(I!==null)var ke=!0;else{var te=t(_);te!==null&&Fe(xe,te.startTime-ce),ke=!1}return ke}finally{I=null,P=ie,B=!1}}var Ce=!1,R=null,A=-1,C=5,V=-1;function D(){return!(i.unstable_now()-V<C)}function L(){if(R!==null){var ee=i.unstable_now();V=ee;var ce=!0;try{ce=R(!0,ee)}finally{ce?x():(Ce=!1,R=null)}}else Ce=!1}var x;if(typeof de=="function")x=function(){de(L)};else if(typeof MessageChannel!="undefined"){var $e=new MessageChannel,tt=$e.port2;$e.port1.onmessage=L,x=function(){tt.postMessage(null)}}else x=function(){q(L,0)};function at(ee){R=ee,Ce||(Ce=!0,x())}function Fe(ee,ce){A=q(function(){ee(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){J||B||(J=!0,at(je))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_getFirstCallbackNode=function(){return t(g)},i.unstable_next=function(ee){switch(P){case 1:case 2:case 3:var ce=3;break;default:ce=P}var ie=P;P=ce;try{return ee()}finally{P=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=P;P=ee;try{return ce()}finally{P=ie}},i.unstable_scheduleCallback=function(ee,ce,ie){var O=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?O+ie:O):ie=O,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ie+W,ee={id:T++,callback:ce,priorityLevel:ee,startTime:ie,expirationTime:W,sortIndex:-1},ie>O?(ee.sortIndex=ie,e(_,ee),t(g)===null&&ee===t(_)&&(G?(pe(A),A=-1):G=!0,Fe(xe,ie-O))):(ee.sortIndex=W,e(g,ee),J||B||(J=!0,at(je))),ee},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ee){var ce=P;return function(){var ie=P;P=ce;try{return ee.apply(this,arguments)}finally{P=ie}}}})(md)),md}var pg;function Uw(){return pg||(pg=1,pd.exports=Fw()),pd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function zw(){if(mg)return Jt;mg=1;var i=rf(),e=Uw();function t(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,r){h(n,r),h(n+"Capture",r)}function h(n,r){for(o[n]=r,n=0;n<r.length;n++)s.add(r[n])}var m=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},I={};function P(n){return g.call(I,n)?!0:g.call(T,n)?!1:_.test(n)?I[n]=!0:(T[n]=!0,!1)}function B(n,r,a,c){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function J(n,r,a,c){if(r===null||typeof r=="undefined"||B(n,r,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function G(n,r,a,c,d,f,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=r,this.sanitizeURL=f,this.removeEmptyString=v}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){q[n]=new G(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];q[r]=new G(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){q[n]=new G(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){q[n]=new G(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){q[n]=new G(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){q[n]=new G(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){q[n]=new G(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){q[n]=new G(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){q[n]=new G(n,5,!1,n.toLowerCase(),null,!1,!1)});var pe=/[\-:]([a-z])/g;function de(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(pe,de);q[r]=new G(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(pe,de);q[r]=new G(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(pe,de);q[r]=new G(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){q[n]=new G(n,1,!1,n.toLowerCase(),null,!1,!1)}),q.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){q[n]=new G(n,1,!1,n.toLowerCase(),null,!0,!0)});function we(n,r,a,c){var d=q.hasOwnProperty(r)?q[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(J(r,a,d,c)&&(a=null),c||d===null?P(r)&&(a===null?n.removeAttribute(r):n.setAttribute(r,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(r=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(r):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,r,a):n.setAttribute(r,a))))}var xe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,O;function W(n){if(O===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+n}var ke=!1;function te(n,r){if(!n||ke)return"";ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(U){var c=U}Reflect.construct(n,[],r)}else{try{r.call()}catch(U){c=U}n.call(r.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),f=c.stack.split(`
`),v=d.length-1,S=f.length-1;1<=v&&0<=S&&d[v]!==f[S];)S--;for(;1<=v&&0<=S;v--,S--)if(d[v]!==f[S]){if(v!==1||S!==1)do if(v--,S--,0>S||d[v]!==f[S]){var N=`
`+d[v].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=v&&0<=S);break}}}finally{ke=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function he(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=te(n.type,!1),n;case 11:return n=te(n.type.render,!1),n;case 1:return n=te(n.type,!0),n;default:return""}}function me(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case Ce:return"Portal";case C:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case $e:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case L:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tt:return r=n.displayName||null,r!==null?r:me(n.type)||"Memo";case at:r=n._payload,n=n._init;try{return me(n(r))}catch(a){}}return null}function ze(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ge(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function qt(n){var r=ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,f.call(this,v)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Es(n){n._valueTracker||(n._valueTracker=qt(n))}function Fo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return n&&(c=ge(n)?n.checked?"true":"false":n.value),n=c,n!==a?(r.setValue(n),!0):!1}function Or(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(r){return n.body}}function ws(n,r){var a=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:n._wrapperState.initialChecked})}function yl(n,r){var a=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;a=Le(r.value!=null?r.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ts(n,r){r=r.checked,r!=null&&we(n,"checked",r,!1)}function Vi(n,r){Ts(n,r);var a=Le(r.value),c=r.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?dt(n,r.type,a):r.hasOwnProperty("defaultValue")&&dt(n,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Uo(n,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,a||r===n.value||(n.value=r),n.defaultValue=r}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function dt(n,r,a){(r!=="number"||Or(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var lt=Array.isArray;function In(n,r,a,c){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Le(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function zo(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Bo(n,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(t(92));if(lt(a)){if(1<a.length)throw Error(t(93));a=a[0]}r=a}r==null&&(r=""),a=r}n._wrapperState={initialValue:Le(a)}}function _l(n,r){var a=Le(r.value),c=Le(r.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),r.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Lr(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function $o(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Is(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?$o(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Mr,vl=(function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(r,a,c,d)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Mr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function bi(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},El=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(n){El.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),jr[r]=jr[n]})});function Fr(n,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||jr.hasOwnProperty(n)&&jr[n]?(""+r).trim():r+"px"}function Ss(n,r){n=n.style;for(var a in r)if(r.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Fr(a,r[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var qo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(n,r){if(r){if(qo[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(t(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(t(61))}if(r.style!=null&&typeof r.style!="object")throw Error(t(62))}}function As(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ur=null;function xs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var cr=null,hr=null,st=null;function Ho(n){if(n=_a(n)){if(typeof cr!="function")throw Error(t(280));var r=n.stateNode;r&&(r=Gl(r),cr(n.stateNode,n.type,r))}}function zr(n){hr?st?st.push(n):st=[n]:hr=n}function Br(){if(hr){var n=hr,r=st;if(st=hr=null,Ho(n),r)for(n=0;n<r.length;n++)Ho(r[n])}}function wl(n,r){return n(r)}function Tl(){}var jn=!1;function Il(n,r,a){if(jn)return n(r,a);jn=!0;try{return wl(n,r,a)}finally{jn=!1,(hr!==null||st!==null)&&(Tl(),Br())}}function Oi(n,r){var a=n.stateNode;if(a===null)return null;var c=Gl(a);if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,r,typeof a));return a}var $r=!1;if(m)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){$r=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch(n){$r=!1}function Sl(n,r,a,c,d,f,v,S,N){var U=Array.prototype.slice.call(arguments,3);try{r.apply(a,U)}catch(Q){this.onError(Q)}}var dr=!1,Fn=null,Cs=!1,dn=null,Al={onError:function(n){dr=!0,Fn=n}};function xl(n,r,a,c,d,f,v,S,N){dr=!1,Fn=null,Sl.apply(Al,arguments)}function Wo(n,r,a,c,d,f,v,S,N){if(xl.apply(this,arguments),dr){if(dr){var U=Fn;dr=!1,Fn=null}else throw Error(t(198));Cs||(Cs=!0,dn=U)}}function An(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Go(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Cl(n){if(An(n)!==n)throw Error(t(188))}function kl(n){var r=n.alternate;if(!r){if(r=An(n),r===null)throw Error(t(188));return r!==n?null:n}for(var a=n,c=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return Cl(d),n;if(f===c)return Cl(d),r;f=f.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=f;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,c=f;break}if(S===c){v=!0,c=d,a=f;break}S=S.sibling}if(!v){for(S=f.child;S;){if(S===a){v=!0,a=f,c=d;break}if(S===c){v=!0,c=f,a=d;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:r}function Rl(n){return n=kl(n),n!==null?Li(n):null}function Li(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Li(n);if(r!==null)return r;n=n.sibling}return null}var Ko=e.unstable_scheduleCallback,ks=e.unstable_cancelCallback,Mi=e.unstable_shouldYield,fr=e.unstable_requestPaint,Ye=e.unstable_now,Bc=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,Qo=e.unstable_UserBlockingPriority,ji=e.unstable_NormalPriority,Yo=e.unstable_LowPriority,Ps=e.unstable_IdlePriority,Fi=null,tn=null;function Pl(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Fi,n,void 0,(n.current.flags&128)===128)}catch(r){}}var nn=Math.clz32?Math.clz32:Ui,Un=Math.log,fn=Math.LN2;function Ui(n){return n>>>=0,n===0?32:31-(Un(n)/fn|0)|0}var zn=64,Hr=4194304;function qe(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pr(n,r){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,f=n.pingedLanes,v=a&268435455;if(v!==0){var S=v&~d;S!==0?c=qe(S):(f&=v,f!==0&&(c=qe(f)))}else v=a&~d,v!==0?c=qe(v):f!==0&&(c=qe(f));if(c===0)return 0;if(r!==0&&r!==c&&(r&d)===0&&(d=c&-c,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((c&4)!==0&&(c|=a&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)a=31-nn(r),d=1<<a,c|=n[a],r&=~d;return c}function zi(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bi(n,r){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes;0<f;){var v=31-nn(f),S=1<<v,N=d[v];N===-1?((S&a)===0||(S&c)!==0)&&(d[v]=zi(S,r)):N<=r&&(n.expiredLanes|=S),f&=~S}}function Xo(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Jo(){var n=zn;return zn<<=1,(zn&4194240)===0&&(zn=64),n}function Zo(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function $i(n,r,a){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-nn(r),n[r]=a}function $c(n,r){var a=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-nn(a),f=1<<d;r[d]=0,c[d]=-1,n[d]=-1,a&=~f}}function ea(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var c=31-nn(a),d=1<<c;d&r|n[c]&r&&(n[c]|=r),a&=~d}}var Oe=0;function Bn(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ta,Ns,na,ra,ia,$n=!1,Ds=[],qn=null,Hn=null,kt=null,qi=new Map,mr=new Map,rn=[],Nl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wr(n,r){switch(n){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":qi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(r.pointerId)}}function xn(n,r,a,c,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:f,targetContainers:[d]},r!==null&&(r=_a(r),r!==null&&Ns(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function Dl(n,r,a,c,d){switch(r){case"focusin":return qn=xn(qn,n,r,a,c,d),!0;case"dragenter":return Hn=xn(Hn,n,r,a,c,d),!0;case"mouseover":return kt=xn(kt,n,r,a,c,d),!0;case"pointerover":var f=d.pointerId;return qi.set(f,xn(qi.get(f)||null,n,r,a,c,d)),!0;case"gotpointercapture":return f=d.pointerId,mr.set(f,xn(mr.get(f)||null,n,r,a,c,d)),!0}return!1}function Vs(n){var r=Ki(n.target);if(r!==null){var a=An(r);if(a!==null){if(r=a.tag,r===13){if(r=Go(a),r!==null){n.blockedOn=r,ia(n.priority,function(){na(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ge(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=bs(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ur=c,a.target.dispatchEvent(c),Ur=null}else return r=_a(a),r!==null&&Ns(r),n.blockedOn=a,!1;r.shift()}return!0}function Vl(n,r,a){Ge(n)&&a.delete(r)}function qc(){$n=!1,qn!==null&&Ge(qn)&&(qn=null),Hn!==null&&Ge(Hn)&&(Hn=null),kt!==null&&Ge(kt)&&(kt=null),qi.forEach(Vl),mr.forEach(Vl)}function Gr(n,r){n.blockedOn===r&&(n.blockedOn=null,$n||($n=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qc)))}function Kr(n){function r(d){return Gr(d,n)}if(0<Ds.length){Gr(Ds[0],n);for(var a=1;a<Ds.length;a++){var c=Ds[a];c.blockedOn===n&&(c.blockedOn=null)}}for(qn!==null&&Gr(qn,n),Hn!==null&&Gr(Hn,n),kt!==null&&Gr(kt,n),qi.forEach(r),mr.forEach(r),a=0;a<rn.length;a++)c=rn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<rn.length&&(a=rn[0],a.blockedOn===null);)Vs(a),a.blockedOn===null&&rn.shift()}var gr=xe.ReactCurrentBatchConfig,yr=!0;function Wn(n,r,a,c){var d=Oe,f=gr.transition;gr.transition=null;try{Oe=1,sa(n,r,a,c)}finally{Oe=d,gr.transition=f}}function bl(n,r,a,c){var d=Oe,f=gr.transition;gr.transition=null;try{Oe=4,sa(n,r,a,c)}finally{Oe=d,gr.transition=f}}function sa(n,r,a,c){if(yr){var d=bs(n,r,a,c);if(d===null)th(n,r,c,Gn,a),Wr(n,c);else if(Dl(d,n,r,a,c))c.stopPropagation();else if(Wr(n,c),r&4&&-1<Nl.indexOf(n)){for(;d!==null;){var f=_a(d);if(f!==null&&ta(f),f=bs(n,r,a,c),f===null&&th(n,r,c,Gn,a),f===d)break;d=f}d!==null&&c.stopPropagation()}else th(n,r,c,null,a)}}var Gn=null;function bs(n,r,a,c){if(Gn=null,n=xs(c),n=Ki(n),n!==null)if(r=An(n),r===null)n=null;else if(a=r.tag,a===13){if(n=Go(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Gn=n,null}function Os(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bc()){case Rs:return 1;case Qo:return 4;case ji:case Yo:return 16;case Ps:return 536870912;default:return 16}default:return 16}}var sn=null,Ls=null,_r=null;function Ol(){if(_r)return _r;var n,r=Ls,a=r.length,c,d="value"in sn?sn.value:sn.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&r[a-c]===d[f-c];c++);return _r=d.slice(n,1<c?1-c:void 0)}function Hi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Kn(){return!0}function oa(){return!1}function Ot(n){function r(a,c,d,f,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:oa,this.isPropagationStopped=oa,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),r}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Ot(Qn),Qr=ie({},Qn,{view:0,detail:0}),Ms=Ot(Qr),js,Fs,on,Gi=ie({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Se,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==on&&(on&&n.type==="mousemove"?(js=n.screenX-on.screenX,Fs=n.screenY-on.screenY):Fs=js=0,on=n),js)},movementY:function(n){return"movementY"in n?n.movementY:Fs}}),aa=Ot(Gi),Ll=ie({},Gi,{dataTransfer:0}),Ml=Ot(Ll),Us=ie({},Qr,{relatedTarget:0}),Rt=Ot(Us),jl=ie({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fl=Ot(jl),Yr=ie({},Qn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),u=Ot(Yr),p=ie({},Qn,{data:0}),y=Ot(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=z[n])?!!r[n]:!1}function Se(){return Z}var ut=ie({},Qr,{key:function(n){if(n.key){var r=w[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Hi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?j[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Se,charCode:function(n){return n.type==="keypress"?Hi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),We=Ot(ut),ft=ie({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),an=Ot(ft),vr=ie({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Se}),Yn=Ot(vr),Xn=ie({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zs=Ot(Xn),la=ie({},Gi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),IE=Ot(la),SE=[9,13,27,32],Hc=m&&"CompositionEvent"in window,ua=null;m&&"documentMode"in document&&(ua=document.documentMode);var AE=m&&"TextEvent"in window&&!ua,Jf=m&&(!Hc||ua&&8<ua&&11>=ua),Zf=" ",ep=!1;function tp(n,r){switch(n){case"keyup":return SE.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function np(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bs=!1;function xE(n,r){switch(n){case"compositionend":return np(r);case"keypress":return r.which!==32?null:(ep=!0,Zf);case"textInput":return n=r.data,n===Zf&&ep?null:n;default:return null}}function CE(n,r){if(Bs)return n==="compositionend"||!Hc&&tp(n,r)?(n=Ol(),_r=Ls=sn=null,Bs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Jf&&r.locale!=="ko"?null:r.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!kE[n.type]:r==="textarea"}function ip(n,r,a,c){zr(c),r=ql(r,"onChange"),0<r.length&&(a=new Wi("onChange","change",null,a,c),n.push({event:a,listeners:r}))}var ca=null,ha=null;function RE(n){Tp(n,0)}function Ul(n){var r=Gs(n);if(Fo(r))return n}function PE(n,r){if(n==="change")return r}var sp=!1;if(m){var Wc;if(m){var Gc="oninput"in document;if(!Gc){var op=document.createElement("div");op.setAttribute("oninput","return;"),Gc=typeof op.oninput=="function"}Wc=Gc}else Wc=!1;sp=Wc&&(!document.documentMode||9<document.documentMode)}function ap(){ca&&(ca.detachEvent("onpropertychange",lp),ha=ca=null)}function lp(n){if(n.propertyName==="value"&&Ul(ha)){var r=[];ip(r,ha,n,xs(n)),Il(RE,r)}}function NE(n,r,a){n==="focusin"?(ap(),ca=r,ha=a,ca.attachEvent("onpropertychange",lp)):n==="focusout"&&ap()}function DE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ul(ha)}function VE(n,r){if(n==="click")return Ul(r)}function bE(n,r){if(n==="input"||n==="change")return Ul(r)}function OE(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Cn=typeof Object.is=="function"?Object.is:OE;function da(n,r){if(Cn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(r,d)||!Cn(n[d],r[d]))return!1}return!0}function up(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function cp(n,r){var a=up(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=r&&c>=r)return{node:a,offset:r-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=up(a)}}function hp(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?hp(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function dp(){for(var n=window,r=Or();r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch(c){a=!1}if(a)n=r.contentWindow;else break;r=Or(n.document)}return r}function Kc(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function LE(n){var r=dp(),a=n.focusedElem,c=n.selectionRange;if(r!==a&&a&&a.ownerDocument&&hp(a.ownerDocument.documentElement,a)){if(c!==null&&Kc(a)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(n,a.value.length);else if(n=(r=a.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,f=Math.min(c.start,d);c=c.end===void 0?f:Math.min(c.end,d),!n.extend&&f>c&&(d=c,c=f,f=d),d=cp(a,f);var v=cp(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),n.removeAllRanges(),f>c?(n.addRange(r),n.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),n.addRange(r)))}}for(r=[],n=a;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)n=r[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ME=m&&"documentMode"in document&&11>=document.documentMode,$s=null,Qc=null,fa=null,Yc=!1;function fp(n,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||$s==null||$s!==Or(c)||(c=$s,"selectionStart"in c&&Kc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fa&&da(fa,c)||(fa=c,c=ql(Qc,"onSelect"),0<c.length&&(r=new Wi("onSelect","select",null,r,a),n.push({event:r,listeners:c}),r.target=$s)))}function zl(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var qs={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},Xc={},pp={};m&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Bl(n){if(Xc[n])return Xc[n];if(!qs[n])return n;var r=qs[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in pp)return Xc[n]=r[a];return n}var mp=Bl("animationend"),gp=Bl("animationiteration"),yp=Bl("animationstart"),_p=Bl("transitionend"),vp=new Map,Ep="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(n,r){vp.set(n,r),l(r,[n])}for(var Jc=0;Jc<Ep.length;Jc++){var Zc=Ep[Jc],jE=Zc.toLowerCase(),FE=Zc[0].toUpperCase()+Zc.slice(1);Xr(jE,"on"+FE)}Xr(mp,"onAnimationEnd"),Xr(gp,"onAnimationIteration"),Xr(yp,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(_p,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function wp(n,r,a){var c=n.type||"unknown-event";n.currentTarget=a,Wo(c,r,void 0,n),n.currentTarget=null}function Tp(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var f=void 0;if(r)for(var v=c.length-1;0<=v;v--){var S=c[v],N=S.instance,U=S.currentTarget;if(S=S.listener,N!==f&&d.isPropagationStopped())break e;wp(d,S,U),f=N}else for(v=0;v<c.length;v++){if(S=c[v],N=S.instance,U=S.currentTarget,S=S.listener,N!==f&&d.isPropagationStopped())break e;wp(d,S,U),f=N}}}if(Cs)throw n=dn,Cs=!1,dn=null,n}function Xe(n,r){var a=r[ah];a===void 0&&(a=r[ah]=new Set);var c=n+"__bubble";a.has(c)||(Ip(r,n,2,!1),a.add(c))}function eh(n,r,a){var c=0;r&&(c|=4),Ip(a,n,c,r)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ma(n){if(!n[$l]){n[$l]=!0,s.forEach(function(a){a!=="selectionchange"&&(UE.has(a)||eh(a,!1,n),eh(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[$l]||(r[$l]=!0,eh("selectionchange",!1,r))}}function Ip(n,r,a,c){switch(Os(r)){case 1:var d=Wn;break;case 4:d=bl;break;default:d=sa}a=d.bind(null,r,a,n),d=void 0,!$r||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function th(n,r,a,c,d){var f=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;S!==null;){if(v=Ki(S),v===null)return;if(N=v.tag,N===5||N===6){c=f=v;continue e}S=S.parentNode}}c=c.return}Il(function(){var U=f,Q=xs(a),Y=[];e:{var K=vp.get(n);if(K!==void 0){var re=Wi,ae=n;switch(n){case"keypress":if(Hi(a)===0)break e;case"keydown":case"keyup":re=We;break;case"focusin":ae="focus",re=Rt;break;case"focusout":ae="blur",re=Rt;break;case"beforeblur":case"afterblur":re=Rt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ml;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Yn;break;case mp:case gp:case yp:re=Fl;break;case _p:re=zs;break;case"scroll":re=Ms;break;case"wheel":re=IE;break;case"copy":case"cut":case"paste":re=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=an}var le=(r&4)!==0,ct=!le&&n==="scroll",M=le?K!==null?K+"Capture":null:K;le=[];for(var b=U,F;b!==null;){F=b;var X=F.stateNode;if(F.tag===5&&X!==null&&(F=X,M!==null&&(X=Oi(b,M),X!=null&&le.push(ga(b,X,F)))),ct)break;b=b.return}0<le.length&&(K=new re(K,ae,null,a,Q),Y.push({event:K,listeners:le}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",K&&a!==Ur&&(ae=a.relatedTarget||a.fromElement)&&(Ki(ae)||ae[Er]))break e;if((re||K)&&(K=Q.window===Q?Q:(K=Q.ownerDocument)?K.defaultView||K.parentWindow:window,re?(ae=a.relatedTarget||a.toElement,re=U,ae=ae?Ki(ae):null,ae!==null&&(ct=An(ae),ae!==ct||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=U),re!==ae)){if(le=aa,X="onMouseLeave",M="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(le=an,X="onPointerLeave",M="onPointerEnter",b="pointer"),ct=re==null?K:Gs(re),F=ae==null?K:Gs(ae),K=new le(X,b+"leave",re,a,Q),K.target=ct,K.relatedTarget=F,X=null,Ki(Q)===U&&(le=new le(M,b+"enter",ae,a,Q),le.target=F,le.relatedTarget=ct,X=le),ct=X,re&&ae)t:{for(le=re,M=ae,b=0,F=le;F;F=Hs(F))b++;for(F=0,X=M;X;X=Hs(X))F++;for(;0<b-F;)le=Hs(le),b--;for(;0<F-b;)M=Hs(M),F--;for(;b--;){if(le===M||M!==null&&le===M.alternate)break t;le=Hs(le),M=Hs(M)}le=null}else le=null;re!==null&&Sp(Y,K,re,le,!1),ae!==null&&ct!==null&&Sp(Y,ct,ae,le,!0)}}e:{if(K=U?Gs(U):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var ue=PE;else if(rp(K))if(sp)ue=bE;else{ue=DE;var ye=NE}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=VE);if(ue&&(ue=ue(n,U))){ip(Y,ue,a,Q);break e}ye&&ye(n,K,U),n==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&dt(K,"number",K.value)}switch(ye=U?Gs(U):window,n){case"focusin":(rp(ye)||ye.contentEditable==="true")&&($s=ye,Qc=U,fa=null);break;case"focusout":fa=Qc=$s=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,fp(Y,a,Q);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":fp(Y,a,Q)}var _e;if(Hc)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Bs?tp(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Jf&&a.locale!=="ko"&&(Bs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Bs&&(_e=Ol()):(sn=Q,Ls="value"in sn?sn.value:sn.textContent,Bs=!0)),ye=ql(U,Te),0<ye.length&&(Te=new y(Te,n,null,a,Q),Y.push({event:Te,listeners:ye}),_e?Te.data=_e:(_e=np(a),_e!==null&&(Te.data=_e)))),(_e=AE?xE(n,a):CE(n,a))&&(U=ql(U,"onBeforeInput"),0<U.length&&(Q=new y("onBeforeInput","beforeinput",null,a,Q),Y.push({event:Q,listeners:U}),Q.data=_e))}Tp(Y,r)})}function ga(n,r,a){return{instance:n,listener:r,currentTarget:a}}function ql(n,r){for(var a=r+"Capture",c=[];n!==null;){var d=n,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Oi(n,a),f!=null&&c.unshift(ga(n,f,d)),f=Oi(n,r),f!=null&&c.push(ga(n,f,d))),n=n.return}return c}function Hs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Sp(n,r,a,c,d){for(var f=r._reactName,v=[];a!==null&&a!==c;){var S=a,N=S.alternate,U=S.stateNode;if(N!==null&&N===c)break;S.tag===5&&U!==null&&(S=U,d?(N=Oi(a,f),N!=null&&v.unshift(ga(a,N,S))):d||(N=Oi(a,f),N!=null&&v.push(ga(a,N,S)))),a=a.return}v.length!==0&&n.push({event:r,listeners:v})}var zE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Ap(n){return(typeof n=="string"?n:""+n).replace(zE,`
`).replace(BE,"")}function Hl(n,r,a){if(r=Ap(r),Ap(n)!==r&&a)throw Error(t(425))}function Wl(){}var nh=null,rh=null;function ih(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sh=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,qE=typeof queueMicrotask=="function"?queueMicrotask:typeof xp!="undefined"?function(n){return xp.resolve(null).then(n).catch(HE)}:sh;function HE(n){setTimeout(function(){throw n})}function oh(n,r){var a=r,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Kr(r);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Kr(r)}function Jr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Cp(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Ws,ya="__reactProps$"+Ws,Er="__reactContainer$"+Ws,ah="__reactEvents$"+Ws,WE="__reactListeners$"+Ws,GE="__reactHandles$"+Ws;function Ki(n){var r=n[Jn];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Er]||a[Jn]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Cp(n);n!==null;){if(a=n[Jn])return a;n=Cp(n)}return r}n=a,a=n.parentNode}return null}function _a(n){return n=n[Jn]||n[Er],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Gs(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Gl(n){return n[ya]||null}var lh=[],Ks=-1;function Zr(n){return{current:n}}function Je(n){0>Ks||(n.current=lh[Ks],lh[Ks]=null,Ks--)}function Ke(n,r){Ks++,lh[Ks]=n.current,n.current=r}var ei={},Lt=Zr(ei),Gt=Zr(!1),Qi=ei;function Qs(n,r){var a=n.type.contextTypes;if(!a)return ei;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in a)d[f]=r[f];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=d),d}function Kt(n){return n=n.childContextTypes,n!=null}function Kl(){Je(Gt),Je(Lt)}function kp(n,r,a){if(Lt.current!==ei)throw Error(t(168));Ke(Lt,r),Ke(Gt,a)}function Rp(n,r,a){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(t(108,ze(n)||"Unknown",d));return ie({},a,c)}function Ql(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ei,Qi=Lt.current,Ke(Lt,n),Ke(Gt,Gt.current),!0}function Pp(n,r,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Rp(n,r,Qi),c.__reactInternalMemoizedMergedChildContext=n,Je(Gt),Je(Lt),Ke(Lt,n)):Je(Gt),Ke(Gt,a)}var wr=null,Yl=!1,uh=!1;function Np(n){wr===null?wr=[n]:wr.push(n)}function KE(n){Yl=!0,Np(n)}function ti(){if(!uh&&wr!==null){uh=!0;var n=0,r=Oe;try{var a=wr;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}wr=null,Yl=!1}catch(d){throw wr!==null&&(wr=wr.slice(n+1)),Ko(Rs,ti),d}finally{Oe=r,uh=!1}}return null}var Ys=[],Xs=0,Xl=null,Jl=0,pn=[],mn=0,Yi=null,Tr=1,Ir="";function Xi(n,r){Ys[Xs++]=Jl,Ys[Xs++]=Xl,Xl=n,Jl=r}function Dp(n,r,a){pn[mn++]=Tr,pn[mn++]=Ir,pn[mn++]=Yi,Yi=n;var c=Tr;n=Ir;var d=32-nn(c)-1;c&=~(1<<d),a+=1;var f=32-nn(r)+d;if(30<f){var v=d-d%5;f=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Tr=1<<32-nn(r)+d|a<<d|c,Ir=f+n}else Tr=1<<f|a<<d|c,Ir=n}function ch(n){n.return!==null&&(Xi(n,1),Dp(n,1,0))}function hh(n){for(;n===Xl;)Xl=Ys[--Xs],Ys[Xs]=null,Jl=Ys[--Xs],Ys[Xs]=null;for(;n===Yi;)Yi=pn[--mn],pn[mn]=null,Ir=pn[--mn],pn[mn]=null,Tr=pn[--mn],pn[mn]=null}var ln=null,un=null,et=!1,kn=null;function Vp(n,r){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=n,r=n.deletions,r===null?(n.deletions=[a],n.flags|=16):r.push(a)}function bp(n,r){switch(n.tag){case 5:var a=n.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,ln=n,un=Jr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,ln=n,un=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Yi!==null?{id:Tr,overflow:Ir}:null,n.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=r,a.return=n,n.child=a,ln=n,un=null,!0):!1;default:return!1}}function dh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fh(n){if(et){var r=un;if(r){var a=r;if(!bp(n,r)){if(dh(n))throw Error(t(418));r=Jr(a.nextSibling);var c=ln;r&&bp(n,r)?Vp(c,a):(n.flags=n.flags&-4097|2,et=!1,ln=n)}}else{if(dh(n))throw Error(t(418));n.flags=n.flags&-4097|2,et=!1,ln=n}}}function Op(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function Zl(n){if(n!==ln)return!1;if(!et)return Op(n),et=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!ih(n.type,n.memoizedProps)),r&&(r=un)){if(dh(n))throw Lp(),Error(t(418));for(;r;)Vp(n,r),r=Jr(r.nextSibling)}if(Op(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(r===0){un=Jr(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}n=n.nextSibling}un=null}}else un=ln?Jr(n.stateNode.nextSibling):null;return!0}function Lp(){for(var n=un;n;)n=Jr(n.nextSibling)}function Js(){un=ln=null,et=!1}function ph(n){kn===null?kn=[n]:kn.push(n)}var QE=xe.ReactCurrentBatchConfig;function va(n,r,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,f=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(v){var S=d.refs;v===null?delete S[f]:S[f]=v},r._stringRef=f,r)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function eu(n,r){throw n=Object.prototype.toString.call(r),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function Mp(n){var r=n._init;return r(n._payload)}function jp(n){function r(M,b){if(n){var F=M.deletions;F===null?(M.deletions=[b],M.flags|=16):F.push(b)}}function a(M,b){if(!n)return null;for(;b!==null;)r(M,b),b=b.sibling;return null}function c(M,b){for(M=new Map;b!==null;)b.key!==null?M.set(b.key,b):M.set(b.index,b),b=b.sibling;return M}function d(M,b){return M=ui(M,b),M.index=0,M.sibling=null,M}function f(M,b,F){return M.index=F,n?(F=M.alternate,F!==null?(F=F.index,F<b?(M.flags|=2,b):F):(M.flags|=2,b)):(M.flags|=1048576,b)}function v(M){return n&&M.alternate===null&&(M.flags|=2),M}function S(M,b,F,X){return b===null||b.tag!==6?(b=sd(F,M.mode,X),b.return=M,b):(b=d(b,F),b.return=M,b)}function N(M,b,F,X){var ue=F.type;return ue===R?Q(M,b,F.props.children,X,F.key):b!==null&&(b.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===at&&Mp(ue)===b.type)?(X=d(b,F.props),X.ref=va(M,b,F),X.return=M,X):(X=Su(F.type,F.key,F.props,null,M.mode,X),X.ref=va(M,b,F),X.return=M,X)}function U(M,b,F,X){return b===null||b.tag!==4||b.stateNode.containerInfo!==F.containerInfo||b.stateNode.implementation!==F.implementation?(b=od(F,M.mode,X),b.return=M,b):(b=d(b,F.children||[]),b.return=M,b)}function Q(M,b,F,X,ue){return b===null||b.tag!==7?(b=ss(F,M.mode,X,ue),b.return=M,b):(b=d(b,F),b.return=M,b)}function Y(M,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return b=sd(""+b,M.mode,F),b.return=M,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case je:return F=Su(b.type,b.key,b.props,null,M.mode,F),F.ref=va(M,null,b),F.return=M,F;case Ce:return b=od(b,M.mode,F),b.return=M,b;case at:var X=b._init;return Y(M,X(b._payload),F)}if(lt(b)||ce(b))return b=ss(b,M.mode,F,null),b.return=M,b;eu(M,b)}return null}function K(M,b,F,X){var ue=b!==null?b.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ue!==null?null:S(M,b,""+F,X);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case je:return F.key===ue?N(M,b,F,X):null;case Ce:return F.key===ue?U(M,b,F,X):null;case at:return ue=F._init,K(M,b,ue(F._payload),X)}if(lt(F)||ce(F))return ue!==null?null:Q(M,b,F,X,null);eu(M,F)}return null}function re(M,b,F,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number")return M=M.get(F)||null,S(b,M,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case je:return M=M.get(X.key===null?F:X.key)||null,N(b,M,X,ue);case Ce:return M=M.get(X.key===null?F:X.key)||null,U(b,M,X,ue);case at:var ye=X._init;return re(M,b,F,ye(X._payload),ue)}if(lt(X)||ce(X))return M=M.get(F)||null,Q(b,M,X,ue,null);eu(b,X)}return null}function ae(M,b,F,X){for(var ue=null,ye=null,_e=b,Te=b=0,St=null;_e!==null&&Te<F.length;Te++){_e.index>Te?(St=_e,_e=null):St=_e.sibling;var Be=K(M,_e,F[Te],X);if(Be===null){_e===null&&(_e=St);break}n&&_e&&Be.alternate===null&&r(M,_e),b=f(Be,b,Te),ye===null?ue=Be:ye.sibling=Be,ye=Be,_e=St}if(Te===F.length)return a(M,_e),et&&Xi(M,Te),ue;if(_e===null){for(;Te<F.length;Te++)_e=Y(M,F[Te],X),_e!==null&&(b=f(_e,b,Te),ye===null?ue=_e:ye.sibling=_e,ye=_e);return et&&Xi(M,Te),ue}for(_e=c(M,_e);Te<F.length;Te++)St=re(_e,M,Te,F[Te],X),St!==null&&(n&&St.alternate!==null&&_e.delete(St.key===null?Te:St.key),b=f(St,b,Te),ye===null?ue=St:ye.sibling=St,ye=St);return n&&_e.forEach(function(ci){return r(M,ci)}),et&&Xi(M,Te),ue}function le(M,b,F,X){var ue=ce(F);if(typeof ue!="function")throw Error(t(150));if(F=ue.call(F),F==null)throw Error(t(151));for(var ye=ue=null,_e=b,Te=b=0,St=null,Be=F.next();_e!==null&&!Be.done;Te++,Be=F.next()){_e.index>Te?(St=_e,_e=null):St=_e.sibling;var ci=K(M,_e,Be.value,X);if(ci===null){_e===null&&(_e=St);break}n&&_e&&ci.alternate===null&&r(M,_e),b=f(ci,b,Te),ye===null?ue=ci:ye.sibling=ci,ye=ci,_e=St}if(Be.done)return a(M,_e),et&&Xi(M,Te),ue;if(_e===null){for(;!Be.done;Te++,Be=F.next())Be=Y(M,Be.value,X),Be!==null&&(b=f(Be,b,Te),ye===null?ue=Be:ye.sibling=Be,ye=Be);return et&&Xi(M,Te),ue}for(_e=c(M,_e);!Be.done;Te++,Be=F.next())Be=re(_e,M,Te,Be.value,X),Be!==null&&(n&&Be.alternate!==null&&_e.delete(Be.key===null?Te:Be.key),b=f(Be,b,Te),ye===null?ue=Be:ye.sibling=Be,ye=Be);return n&&_e.forEach(function(kw){return r(M,kw)}),et&&Xi(M,Te),ue}function ct(M,b,F,X){if(typeof F=="object"&&F!==null&&F.type===R&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case je:e:{for(var ue=F.key,ye=b;ye!==null;){if(ye.key===ue){if(ue=F.type,ue===R){if(ye.tag===7){a(M,ye.sibling),b=d(ye,F.props.children),b.return=M,M=b;break e}}else if(ye.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===at&&Mp(ue)===ye.type){a(M,ye.sibling),b=d(ye,F.props),b.ref=va(M,ye,F),b.return=M,M=b;break e}a(M,ye);break}else r(M,ye);ye=ye.sibling}F.type===R?(b=ss(F.props.children,M.mode,X,F.key),b.return=M,M=b):(X=Su(F.type,F.key,F.props,null,M.mode,X),X.ref=va(M,b,F),X.return=M,M=X)}return v(M);case Ce:e:{for(ye=F.key;b!==null;){if(b.key===ye)if(b.tag===4&&b.stateNode.containerInfo===F.containerInfo&&b.stateNode.implementation===F.implementation){a(M,b.sibling),b=d(b,F.children||[]),b.return=M,M=b;break e}else{a(M,b);break}else r(M,b);b=b.sibling}b=od(F,M.mode,X),b.return=M,M=b}return v(M);case at:return ye=F._init,ct(M,b,ye(F._payload),X)}if(lt(F))return ae(M,b,F,X);if(ce(F))return le(M,b,F,X);eu(M,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,b!==null&&b.tag===6?(a(M,b.sibling),b=d(b,F),b.return=M,M=b):(a(M,b),b=sd(F,M.mode,X),b.return=M,M=b),v(M)):a(M,b)}return ct}var Zs=jp(!0),Fp=jp(!1),tu=Zr(null),nu=null,eo=null,mh=null;function gh(){mh=eo=nu=null}function yh(n){var r=tu.current;Je(tu),n._currentValue=r}function _h(n,r,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===a)break;n=n.return}}function to(n,r){nu=n,mh=eo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(Qt=!0),n.firstContext=null)}function gn(n){var r=n._currentValue;if(mh!==n)if(n={context:n,memoizedValue:r,next:null},eo===null){if(nu===null)throw Error(t(308));eo=n,nu.dependencies={lanes:0,firstContext:n}}else eo=eo.next=n;return r}var Ji=null;function vh(n){Ji===null?Ji=[n]:Ji.push(n)}function Up(n,r,a,c){var d=r.interleaved;return d===null?(a.next=a,vh(r)):(a.next=d.next,d.next=a),r.interleaved=a,Sr(n,c)}function Sr(n,r){n.lanes|=r;var a=n.alternate;for(a!==null&&(a.lanes|=r),a=n,n=n.return;n!==null;)n.childLanes|=r,a=n.alternate,a!==null&&(a.childLanes|=r),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ni=!1;function Eh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ar(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function ri(n,r,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,Sr(n,a)}return d=c.interleaved,d===null?(r.next=r,vh(c)):(r.next=d.next,d.next=r),c.interleaved=r,Sr(n,a)}function ru(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,ea(n,a)}}function Bp(n,r){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};f===null?d=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}function iu(n,r,a,c){var d=n.updateQueue;ni=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var N=S,U=N.next;N.next=null,v===null?f=U:v.next=U,v=N;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=U:S.next=U,Q.lastBaseUpdate=N))}if(f!==null){var Y=d.baseState;v=0,Q=U=N=null,S=f;do{var K=S.lane,re=S.eventTime;if((c&K)===K){Q!==null&&(Q=Q.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=n,le=S;switch(K=r,re=a,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(re,Y,K);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,K=typeof ae=="function"?ae.call(re,Y,K):ae,K==null)break e;Y=ie({},Y,K);break e;case 2:ni=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,K=d.effects,K===null?d.effects=[S]:K.push(S))}else re={eventTime:re,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(U=Q=re,N=Y):Q=Q.next=re,v|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(Q===null&&(N=Y),d.baseState=N,d.firstBaseUpdate=U,d.lastBaseUpdate=Q,r=d.shared.interleaved,r!==null){d=r;do v|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);ts|=v,n.lanes=v,n.memoizedState=Y}}function $p(n,r,a){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ea={},Zn=Zr(Ea),wa=Zr(Ea),Ta=Zr(Ea);function Zi(n){if(n===Ea)throw Error(t(174));return n}function wh(n,r){switch(Ke(Ta,r),Ke(wa,n),Ke(Zn,Ea),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Is(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Is(r,n)}Je(Zn),Ke(Zn,r)}function no(){Je(Zn),Je(wa),Je(Ta)}function qp(n){Zi(Ta.current);var r=Zi(Zn.current),a=Is(r,n.type);r!==a&&(Ke(wa,n),Ke(Zn,a))}function Th(n){wa.current===n&&(Je(Zn),Je(wa))}var nt=Zr(0);function su(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ih=[];function Sh(){for(var n=0;n<Ih.length;n++)Ih[n]._workInProgressVersionPrimary=null;Ih.length=0}var ou=xe.ReactCurrentDispatcher,Ah=xe.ReactCurrentBatchConfig,es=0,rt=null,_t=null,Tt=null,au=!1,Ia=!1,Sa=0,YE=0;function Mt(){throw Error(t(321))}function xh(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Cn(n[a],r[a]))return!1;return!0}function Ch(n,r,a,c,d,f){if(es=f,rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ou.current=n===null||n.memoizedState===null?ew:tw,n=a(c,d),Ia){f=0;do{if(Ia=!1,Sa=0,25<=f)throw Error(t(301));f+=1,Tt=_t=null,r.updateQueue=null,ou.current=nw,n=a(c,d)}while(Ia)}if(ou.current=cu,r=_t!==null&&_t.next!==null,es=0,Tt=_t=rt=null,au=!1,r)throw Error(t(300));return n}function kh(){var n=Sa!==0;return Sa=0,n}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function yn(){if(_t===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var r=Tt===null?rt.memoizedState:Tt.next;if(r!==null)Tt=r,_t=n;else{if(n===null)throw Error(t(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Tt===null?rt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function Aa(n,r){return typeof r=="function"?r(n):r}function Rh(n){var r=yn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=_t,d=c.baseQueue,f=a.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}c.baseQueue=d=f,a.pending=null}if(d!==null){f=d.next,c=c.baseState;var S=v=null,N=null,U=f;do{var Q=U.lane;if((es&Q)===Q)N!==null&&(N=N.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var Y={lane:Q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};N===null?(S=N=Y,v=c):N=N.next=Y,rt.lanes|=Q,ts|=Q}U=U.next}while(U!==null&&U!==f);N===null?v=c:N.next=S,Cn(c,r.memoizedState)||(Qt=!0),r.memoizedState=c,r.baseState=v,r.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do f=d.lane,rt.lanes|=f,ts|=f,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Ph(n){var r=yn(),a=r.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do f=n(f,v.action),v=v.next;while(v!==d);Cn(f,r.memoizedState)||(Qt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,c]}function Hp(){}function Wp(n,r){var a=rt,c=yn(),d=r(),f=!Cn(c.memoizedState,d);if(f&&(c.memoizedState=d,Qt=!0),c=c.queue,Nh(Qp.bind(null,a,c,n),[n]),c.getSnapshot!==r||f||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,xa(9,Kp.bind(null,a,c,d,r),void 0,null),It===null)throw Error(t(349));(es&30)!==0||Gp(a,r,d)}return d}function Gp(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Kp(n,r,a,c){r.value=a,r.getSnapshot=c,Yp(r)&&Xp(n)}function Qp(n,r,a){return a(function(){Yp(r)&&Xp(n)})}function Yp(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Cn(n,a)}catch(c){return!0}}function Xp(n){var r=Sr(n,1);r!==null&&Dn(r,n,1,-1)}function Jp(n){var r=er();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:n},r.queue=n,n=n.dispatch=ZE.bind(null,rt,n),[r.memoizedState,n]}function xa(n,r,a,c){return n={tag:n,create:r,destroy:a,deps:c,next:null},r=rt.updateQueue,r===null?(r={lastEffect:null,stores:null},rt.updateQueue=r,r.lastEffect=n.next=n):(a=r.lastEffect,a===null?r.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,r.lastEffect=n)),n}function Zp(){return yn().memoizedState}function lu(n,r,a,c){var d=er();rt.flags|=n,d.memoizedState=xa(1|r,a,void 0,c===void 0?null:c)}function uu(n,r,a,c){var d=yn();c=c===void 0?null:c;var f=void 0;if(_t!==null){var v=_t.memoizedState;if(f=v.destroy,c!==null&&xh(c,v.deps)){d.memoizedState=xa(r,a,f,c);return}}rt.flags|=n,d.memoizedState=xa(1|r,a,f,c)}function em(n,r){return lu(8390656,8,n,r)}function Nh(n,r){return uu(2048,8,n,r)}function tm(n,r){return uu(4,2,n,r)}function nm(n,r){return uu(4,4,n,r)}function rm(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function im(n,r,a){return a=a!=null?a.concat([n]):null,uu(4,4,rm.bind(null,r,n),a)}function Dh(){}function sm(n,r){var a=yn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&xh(r,c[1])?c[0]:(a.memoizedState=[n,r],n)}function om(n,r){var a=yn();r=r===void 0?null:r;var c=a.memoizedState;return c!==null&&r!==null&&xh(r,c[1])?c[0]:(n=n(),a.memoizedState=[n,r],n)}function am(n,r,a){return(es&21)===0?(n.baseState&&(n.baseState=!1,Qt=!0),n.memoizedState=a):(Cn(a,r)||(a=Jo(),rt.lanes|=a,ts|=a,n.baseState=!0),r)}function XE(n,r){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=Ah.transition;Ah.transition={};try{n(!1),r()}finally{Oe=a,Ah.transition=c}}function lm(){return yn().memoizedState}function JE(n,r,a){var c=ai(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},um(n))cm(r,a);else if(a=Up(n,r,a,c),a!==null){var d=Wt();Dn(a,n,c,d),hm(a,r,c)}}function ZE(n,r,a){var c=ai(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(um(n))cm(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,S=f(v,a);if(d.hasEagerState=!0,d.eagerState=S,Cn(S,v)){var N=r.interleaved;N===null?(d.next=d,vh(r)):(d.next=N.next,N.next=d),r.interleaved=d;return}}catch(U){}finally{}a=Up(n,r,d,c),a!==null&&(d=Wt(),Dn(a,n,c,d),hm(a,r,c))}}function um(n){var r=n.alternate;return n===rt||r!==null&&r===rt}function cm(n,r){Ia=au=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function hm(n,r,a){if((a&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,a|=c,r.lanes=a,ea(n,a)}}var cu={readContext:gn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},ew={readContext:gn,useCallback:function(n,r){return er().memoizedState=[n,r===void 0?null:r],n},useContext:gn,useEffect:em,useImperativeHandle:function(n,r,a){return a=a!=null?a.concat([n]):null,lu(4194308,4,rm.bind(null,r,n),a)},useLayoutEffect:function(n,r){return lu(4194308,4,n,r)},useInsertionEffect:function(n,r){return lu(4,2,n,r)},useMemo:function(n,r){var a=er();return r=r===void 0?null:r,n=n(),a.memoizedState=[n,r],n},useReducer:function(n,r,a){var c=er();return r=a!==void 0?a(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=JE.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var r=er();return n={current:n},r.memoizedState=n},useState:Jp,useDebugValue:Dh,useDeferredValue:function(n){return er().memoizedState=n},useTransition:function(){var n=Jp(!1),r=n[0];return n=XE.bind(null,n[1]),er().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,a){var c=rt,d=er();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=r(),It===null)throw Error(t(349));(es&30)!==0||Gp(c,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,em(Qp.bind(null,c,f,n),[n]),c.flags|=2048,xa(9,Kp.bind(null,c,f,a,r),void 0,null),a},useId:function(){var n=er(),r=It.identifierPrefix;if(et){var a=Ir,c=Tr;a=(c&~(1<<32-nn(c)-1)).toString(32)+a,r=":"+r+"R"+a,a=Sa++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=YE++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},tw={readContext:gn,useCallback:sm,useContext:gn,useEffect:Nh,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:Rh,useRef:Zp,useState:function(){return Rh(Aa)},useDebugValue:Dh,useDeferredValue:function(n){var r=yn();return am(r,_t.memoizedState,n)},useTransition:function(){var n=Rh(Aa)[0],r=yn().memoizedState;return[n,r]},useMutableSource:Hp,useSyncExternalStore:Wp,useId:lm,unstable_isNewReconciler:!1},nw={readContext:gn,useCallback:sm,useContext:gn,useEffect:Nh,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:om,useReducer:Ph,useRef:Zp,useState:function(){return Ph(Aa)},useDebugValue:Dh,useDeferredValue:function(n){var r=yn();return _t===null?r.memoizedState=n:am(r,_t.memoizedState,n)},useTransition:function(){var n=Ph(Aa)[0],r=yn().memoizedState;return[n,r]},useMutableSource:Hp,useSyncExternalStore:Wp,useId:lm,unstable_isNewReconciler:!1};function Rn(n,r){if(n&&n.defaultProps){r=ie({},r),n=n.defaultProps;for(var a in n)r[a]===void 0&&(r[a]=n[a]);return r}return r}function Vh(n,r,a,c){r=n.memoizedState,a=a(c,r),a=a==null?r:ie({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hu={isMounted:function(n){return(n=n._reactInternals)?An(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var c=Wt(),d=ai(n),f=Ar(c,d);f.payload=r,a!=null&&(f.callback=a),r=ri(n,f,d),r!==null&&(Dn(r,n,d,c),ru(r,n,d))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var c=Wt(),d=ai(n),f=Ar(c,d);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ri(n,f,d),r!==null&&(Dn(r,n,d,c),ru(r,n,d))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Wt(),c=ai(n),d=Ar(a,c);d.tag=2,r!=null&&(d.callback=r),r=ri(n,d,c),r!==null&&(Dn(r,n,c,a),ru(r,n,c))}};function dm(n,r,a,c,d,f,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,f,v):r.prototype&&r.prototype.isPureReactComponent?!da(a,c)||!da(d,f):!0}function fm(n,r,a){var c=!1,d=ei,f=r.contextType;return typeof f=="object"&&f!==null?f=gn(f):(d=Kt(r)?Qi:Lt.current,c=r.contextTypes,f=(c=c!=null)?Qs(n,d):ei),r=new r(a,f),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=hu,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=f),r}function pm(n,r,a,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==n&&hu.enqueueReplaceState(r,r.state,null)}function bh(n,r,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Eh(n);var f=r.contextType;typeof f=="object"&&f!==null?d.context=gn(f):(f=Kt(r)?Qi:Lt.current,d.context=Qs(n,f)),d.state=n.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(Vh(n,r,f,a),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&hu.enqueueReplaceState(d,d.state,null),iu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function ro(n,r){try{var a="",c=r;do a+=he(c),c=c.return;while(c);var d=a}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:n,source:r,stack:d,digest:null}}function Oh(n,r,a){return{value:n,source:null,stack:a!=null?a:null,digest:r!=null?r:null}}function Lh(n,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var rw=typeof WeakMap=="function"?WeakMap:Map;function mm(n,r,a){a=Ar(-1,a),a.tag=3,a.payload={element:null};var c=r.value;return a.callback=function(){_u||(_u=!0,Xh=c),Lh(n,r)},a}function gm(n,r,a){a=Ar(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;a.payload=function(){return c(d)},a.callback=function(){Lh(n,r)}}var f=n.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(a.callback=function(){Lh(n,r),typeof c!="function"&&(si===null?si=new Set([this]):si.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),a}function ym(n,r,a){var c=n.pingCache;if(c===null){c=n.pingCache=new rw;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(a)||(d.add(a),n=yw.bind(null,n,r,a),r.then(n,n))}function _m(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function vm(n,r,a,c,d){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Ar(-1,1),r.tag=2,ri(a,r,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var iw=xe.ReactCurrentOwner,Qt=!1;function Ht(n,r,a,c){r.child=n===null?Fp(r,null,a,c):Zs(r,n.child,a,c)}function Em(n,r,a,c,d){a=a.render;var f=r.ref;return to(r,d),c=Ch(n,r,a,c,f,d),a=kh(),n!==null&&!Qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,xr(n,r,d)):(et&&a&&ch(r),r.flags|=1,Ht(n,r,c,d),r.child)}function wm(n,r,a,c,d){if(n===null){var f=a.type;return typeof f=="function"&&!id(f)&&f.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=f,Tm(n,r,f,c,d)):(n=Su(a.type,null,c,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,(n.lanes&d)===0){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:da,a(v,c)&&n.ref===r.ref)return xr(n,r,d)}return r.flags|=1,n=ui(f,c),n.ref=r.ref,n.return=r,r.child=n}function Tm(n,r,a,c,d){if(n!==null){var f=n.memoizedProps;if(da(f,c)&&n.ref===r.ref)if(Qt=!1,r.pendingProps=c=f,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Qt=!0);else return r.lanes=n.lanes,xr(n,r,d)}return Mh(n,r,a,c,d)}function Im(n,r,a){var c=r.pendingProps,d=c.children,f=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(so,cn),cn|=a;else{if((a&1073741824)===0)return n=f!==null?f.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ke(so,cn),cn|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:a,Ke(so,cn),cn|=c}else f!==null?(c=f.baseLanes|a,r.memoizedState=null):c=a,Ke(so,cn),cn|=c;return Ht(n,r,d,a),r.child}function Sm(n,r){var a=r.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Mh(n,r,a,c,d){var f=Kt(a)?Qi:Lt.current;return f=Qs(r,f),to(r,d),a=Ch(n,r,a,c,f,d),c=kh(),n!==null&&!Qt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~d,xr(n,r,d)):(et&&c&&ch(r),r.flags|=1,Ht(n,r,a,d),r.child)}function Am(n,r,a,c,d){if(Kt(a)){var f=!0;Ql(r)}else f=!1;if(to(r,d),r.stateNode===null)fu(n,r),fm(r,a,c),bh(r,a,c,d),c=!0;else if(n===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var N=v.context,U=a.contextType;typeof U=="object"&&U!==null?U=gn(U):(U=Kt(a)?Qi:Lt.current,U=Qs(r,U));var Q=a.getDerivedStateFromProps,Y=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||N!==U)&&pm(r,v,c,U),ni=!1;var K=r.memoizedState;v.state=K,iu(r,c,v,d),N=r.memoizedState,S!==c||K!==N||Gt.current||ni?(typeof Q=="function"&&(Vh(r,a,Q,c),N=r.memoizedState),(S=ni||dm(r,a,S,c,K,N,U))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=N),v.props=c,v.state=N,v.context=U,c=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{v=r.stateNode,zp(n,r),S=r.memoizedProps,U=r.type===r.elementType?S:Rn(r.type,S),v.props=U,Y=r.pendingProps,K=v.context,N=a.contextType,typeof N=="object"&&N!==null?N=gn(N):(N=Kt(a)?Qi:Lt.current,N=Qs(r,N));var re=a.getDerivedStateFromProps;(Q=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==N)&&pm(r,v,c,N),ni=!1,K=r.memoizedState,v.state=K,iu(r,c,v,d);var ae=r.memoizedState;S!==Y||K!==ae||Gt.current||ni?(typeof re=="function"&&(Vh(r,a,re,c),ae=r.memoizedState),(U=ni||dm(r,a,U,c,K,ae,N)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ae,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ae,N)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ae),v.props=c,v.state=ae,v.context=N,c=U):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),c=!1)}return jh(n,r,a,c,f,d)}function jh(n,r,a,c,d,f){Sm(n,r);var v=(r.flags&128)!==0;if(!c&&!v)return d&&Pp(r,a,!1),xr(n,r,f);c=r.stateNode,iw.current=r;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&v?(r.child=Zs(r,n.child,null,f),r.child=Zs(r,null,S,f)):Ht(n,r,S,f),r.memoizedState=c.state,d&&Pp(r,a,!0),r.child}function xm(n){var r=n.stateNode;r.pendingContext?kp(n,r.pendingContext,r.pendingContext!==r.context):r.context&&kp(n,r.context,!1),wh(n,r.containerInfo)}function Cm(n,r,a,c,d){return Js(),ph(d),r.flags|=256,Ht(n,r,a,c),r.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Uh(n){return{baseLanes:n,cachePool:null,transitions:null}}function km(n,r,a){var c=r.pendingProps,d=nt.current,f=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(f=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Ke(nt,d&1),n===null)return fh(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=c.children,n=c.fallback,f?(c=r.mode,f=r.child,v={mode:"hidden",children:v},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=Au(v,c,0,null),n=ss(n,c,a,null),f.return=r,n.return=r,f.sibling=n,r.child=f,r.child.memoizedState=Uh(a),r.memoizedState=Fh,n):zh(r,v));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return sw(n,r,v,c,S,d,a);if(f){f=c.fallback,v=r.mode,d=n.child,S=d.sibling;var N={mode:"hidden",children:c.children};return(v&1)===0&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=N,r.deletions=null):(c=ui(d,N),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=ui(S,f):(f=ss(f,v,a,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,v=n.child.memoizedState,v=v===null?Uh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=n.childLanes&~a,r.memoizedState=Fh,c}return f=n.child,n=f.sibling,c=ui(f,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=a),c.return=r,c.sibling=null,n!==null&&(a=r.deletions,a===null?(r.deletions=[n],r.flags|=16):a.push(n)),r.child=c,r.memoizedState=null,c}function zh(n,r){return r=Au({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function du(n,r,a,c){return c!==null&&ph(c),Zs(r,n.child,null,a),n=zh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function sw(n,r,a,c,d,f,v){if(a)return r.flags&256?(r.flags&=-257,c=Oh(Error(t(422))),du(n,r,v,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(f=c.fallback,d=r.mode,c=Au({mode:"visible",children:c.children},d,0,null),f=ss(f,d,v,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,(r.mode&1)!==0&&Zs(r,n.child,null,v),r.child.memoizedState=Uh(v),r.memoizedState=Fh,f);if((r.mode&1)===0)return du(n,r,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,f=Error(t(419)),c=Oh(f,c,void 0),du(n,r,v,c)}if(S=(v&n.childLanes)!==0,Qt||S){if(c=It,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Sr(n,d),Dn(c,n,d,-1))}return rd(),c=Oh(Error(t(421))),du(n,r,v,c)}return d.data==="$?"?(r.flags|=128,r.child=n.child,r=_w.bind(null,n),d._reactRetry=r,null):(n=f.treeContext,un=Jr(d.nextSibling),ln=r,et=!0,kn=null,n!==null&&(pn[mn++]=Tr,pn[mn++]=Ir,pn[mn++]=Yi,Tr=n.id,Ir=n.overflow,Yi=r),r=zh(r,c.children),r.flags|=4096,r)}function Rm(n,r,a){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),_h(n.return,r,a)}function Bh(n,r,a,c,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=a,f.tailMode=d)}function Pm(n,r,a){var c=r.pendingProps,d=c.revealOrder,f=c.tail;if(Ht(n,r,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rm(n,a,r);else if(n.tag===19)Rm(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Ke(nt,c),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&su(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),Bh(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&su(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Bh(r,!0,a,null,f);break;case"together":Bh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fu(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function xr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),ts|=r.lanes,(a&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(t(153));if(r.child!==null){for(n=r.child,a=ui(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ui(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function ow(n,r,a){switch(r.tag){case 3:xm(r),Js();break;case 5:qp(r);break;case 1:Kt(r.type)&&Ql(r);break;case 4:wh(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;Ke(tu,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ke(nt,nt.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?km(n,r,a):(Ke(nt,nt.current&1),n=xr(n,r,a),n!==null?n.sibling:null);Ke(nt,nt.current&1);break;case 19:if(c=(a&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Pm(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(nt,nt.current),c)break;return null;case 22:case 23:return r.lanes=0,Im(n,r,a)}return xr(n,r,a)}var Nm,$h,Dm,Vm;Nm=function(n,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$h=function(){},Dm=function(n,r,a,c){var d=n.memoizedProps;if(d!==c){n=r.stateNode,Zi(Zn.current);var f=null;switch(a){case"input":d=ws(n,d),c=ws(n,c),f=[];break;case"select":d=ie({},d,{value:void 0}),c=ie({},c,{value:void 0}),f=[];break;case"textarea":d=zo(n,d),c=zo(n,c),f=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Wl)}Sn(a,c);var v;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var S=d[U];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?f||(f=[]):(f=f||[]).push(U,null));for(U in c){var N=c[U];if(S=d!=null?d[U]:void 0,c.hasOwnProperty(U)&&N!==S&&(N!=null||S!=null))if(U==="style")if(S){for(v in S)!S.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in N)N.hasOwnProperty(v)&&S[v]!==N[v]&&(a||(a={}),a[v]=N[v])}else a||(f||(f=[]),f.push(U,a)),a=N;else U==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,S=S?S.__html:void 0,N!=null&&S!==N&&(f=f||[]).push(U,N)):U==="children"?typeof N!="string"&&typeof N!="number"||(f=f||[]).push(U,""+N):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(N!=null&&U==="onScroll"&&Xe("scroll",n),f||S===N||(f=[])):(f=f||[]).push(U,N))}a&&(f=f||[]).push("style",a);var U=f;(r.updateQueue=U)&&(r.flags|=4)}},Vm=function(n,r,a,c){a!==c&&(r.flags|=4)};function Ca(n,r){if(!et)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function jt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,r}function aw(n,r,a){var c=r.pendingProps;switch(hh(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(r),null;case 1:return Kt(r.type)&&Kl(),jt(r),null;case 3:return c=r.stateNode,no(),Je(Gt),Je(Lt),Sh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Zl(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,kn!==null&&(ed(kn),kn=null))),$h(n,r),jt(r),null;case 5:Th(r);var d=Zi(Ta.current);if(a=r.type,n!==null&&r.stateNode!=null)Dm(n,r,a,c,d),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(t(166));return jt(r),null}if(n=Zi(Zn.current),Zl(r)){c=r.stateNode,a=r.type;var f=r.memoizedProps;switch(c[Jn]=r,c[ya]=f,n=(r.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(d=0;d<pa.length;d++)Xe(pa[d],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":yl(c,f),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Xe("invalid",c);break;case"textarea":Bo(c,f),Xe("invalid",c)}Sn(a,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var S=f[v];v==="children"?typeof S=="string"?c.textContent!==S&&(f.suppressHydrationWarning!==!0&&Hl(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&Hl(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Xe("scroll",c)}switch(a){case"input":Es(c),Uo(c,f,!0);break;case"textarea":Es(c),Lr(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=Wl)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=$o(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Jn]=r,n[ya]=c,Nm(n,r,!1,!1),r.stateNode=n;e:{switch(v=As(a,c),a){case"dialog":Xe("cancel",n),Xe("close",n),d=c;break;case"iframe":case"object":case"embed":Xe("load",n),d=c;break;case"video":case"audio":for(d=0;d<pa.length;d++)Xe(pa[d],n);d=c;break;case"source":Xe("error",n),d=c;break;case"img":case"image":case"link":Xe("error",n),Xe("load",n),d=c;break;case"details":Xe("toggle",n),d=c;break;case"input":yl(n,c),d=ws(n,c),Xe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ie({},c,{value:void 0}),Xe("invalid",n);break;case"textarea":Bo(n,c),d=zo(n,c),Xe("invalid",n);break;default:d=c}Sn(a,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var N=S[f];f==="style"?Ss(n,N):f==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&vl(n,N)):f==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&bi(n,N):typeof N=="number"&&bi(n,""+N):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?N!=null&&f==="onScroll"&&Xe("scroll",n):N!=null&&we(n,f,N,v))}switch(a){case"input":Es(n),Uo(n,c,!1);break;case"textarea":Es(n),Lr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Le(c.value));break;case"select":n.multiple=!!c.multiple,f=c.value,f!=null?In(n,!!c.multiple,f,!1):c.defaultValue!=null&&In(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=Wl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return jt(r),null;case 6:if(n&&r.stateNode!=null)Vm(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(t(166));if(a=Zi(Ta.current),Zi(Zn.current),Zl(r)){if(c=r.stateNode,a=r.memoizedProps,c[Jn]=r,(f=c.nodeValue!==a)&&(n=ln,n!==null))switch(n.tag){case 3:Hl(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Hl(c.nodeValue,a,(n.mode&1)!==0)}f&&(r.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Jn]=r,r.stateNode=c}return jt(r),null;case 13:if(Je(nt),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&un!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Lp(),Js(),r.flags|=98560,f=!1;else if(f=Zl(r),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(t(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[Jn]=r}else Js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;jt(r),f=!1}else kn!==null&&(ed(kn),kn=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(nt.current&1)!==0?vt===0&&(vt=3):rd())),r.updateQueue!==null&&(r.flags|=4),jt(r),null);case 4:return no(),$h(n,r),n===null&&ma(r.stateNode.containerInfo),jt(r),null;case 10:return yh(r.type._context),jt(r),null;case 17:return Kt(r.type)&&Kl(),jt(r),null;case 19:if(Je(nt),f=r.memoizedState,f===null)return jt(r),null;if(c=(r.flags&128)!==0,v=f.rendering,v===null)if(c)Ca(f,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(v=su(n),v!==null){for(r.flags|=128,Ca(f,!1),c=v.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=a,a=r.child;a!==null;)f=a,n=c,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=n,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,n=v.dependencies,f.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Ke(nt,nt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Ye()>oo&&(r.flags|=128,c=!0,Ca(f,!1),r.lanes=4194304)}else{if(!c)if(n=su(v),n!==null){if(r.flags|=128,c=!0,a=n.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Ca(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!et)return jt(r),null}else 2*Ye()-f.renderingStartTime>oo&&a!==1073741824&&(r.flags|=128,c=!0,Ca(f,!1),r.lanes=4194304);f.isBackwards?(v.sibling=r.child,r.child=v):(a=f.last,a!==null?a.sibling=v:r.child=v,f.last=v)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ye(),r.sibling=null,a=nt.current,Ke(nt,c?a&1|2:a&1),r):(jt(r),null);case 22:case 23:return nd(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(cn&1073741824)!==0&&(jt(r),r.subtreeFlags&6&&(r.flags|=8192)):jt(r),null;case 24:return null;case 25:return null}throw Error(t(156,r.tag))}function lw(n,r){switch(hh(r),r.tag){case 1:return Kt(r.type)&&Kl(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return no(),Je(Gt),Je(Lt),Sh(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Th(r),null;case 13:if(Je(nt),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(t(340));Js()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Je(nt),null;case 4:return no(),null;case 10:return yh(r.type._context),null;case 22:case 23:return nd(),null;case 24:return null;default:return null}}var pu=!1,Ft=!1,uw=typeof WeakSet=="function"?WeakSet:Set,oe=null;function io(n,r){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(n,r,c)}else a.current=null}function qh(n,r,a){try{a()}catch(c){ot(n,r,c)}}var bm=!1;function cw(n,r){if(nh=yr,n=dp(),Kc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{a.nodeType,f.nodeType}catch(X){a=null;break e}var v=0,S=-1,N=-1,U=0,Q=0,Y=n,K=null;t:for(;;){for(var re;Y!==a||d!==0&&Y.nodeType!==3||(S=v+d),Y!==f||c!==0&&Y.nodeType!==3||(N=v+c),Y.nodeType===3&&(v+=Y.nodeValue.length),(re=Y.firstChild)!==null;)K=Y,Y=re;for(;;){if(Y===n)break t;if(K===a&&++U===d&&(S=v),K===f&&++Q===c&&(N=v),(re=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=re}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(rh={focusedElem:n,selectionRange:a},yr=!1,oe=r;oe!==null;)if(r=oe,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,oe=n;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,ct=ae.memoizedState,M=r.stateNode,b=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:Rn(r.type,le),ct);M.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){ot(r,r.return,X)}if(n=r.sibling,n!==null){n.return=r.return,oe=n;break}oe=r.return}return ae=bm,bm=!1,ae}function ka(n,r,a){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var f=d.destroy;d.destroy=void 0,f!==void 0&&qh(r,a,f)}d=d.next}while(d!==c)}}function mu(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==r)}}function Hh(n){var r=n.ref;if(r!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof r=="function"?r(n):r.current=n}}function Om(n){var r=n.alternate;r!==null&&(n.alternate=null,Om(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Jn],delete r[ya],delete r[ah],delete r[WE],delete r[GE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Lm(n){return n.tag===5||n.tag===3||n.tag===4}function Mm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Lm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wl));else if(c!==4&&(n=n.child,n!==null))for(Wh(n,r,a),n=n.sibling;n!==null;)Wh(n,r,a),n=n.sibling}function Gh(n,r,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Gh(n,r,a),n=n.sibling;n!==null;)Gh(n,r,a),n=n.sibling}var Pt=null,Pn=!1;function ii(n,r,a){for(a=a.child;a!==null;)jm(n,r,a),a=a.sibling}function jm(n,r,a){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Fi,a)}catch(S){}switch(a.tag){case 5:Ft||io(a,r);case 6:var c=Pt,d=Pn;Pt=null,ii(n,r,a),Pt=c,Pn=d,Pt!==null&&(Pn?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Pn?(n=Pt,a=a.stateNode,n.nodeType===8?oh(n.parentNode,a):n.nodeType===1&&oh(n,a),Kr(n)):oh(Pt,a.stateNode));break;case 4:c=Pt,d=Pn,Pt=a.stateNode.containerInfo,Pn=!0,ii(n,r,a),Pt=c,Pn=d;break;case 0:case 11:case 14:case 15:if(!Ft&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&qh(a,r,v),d=d.next}while(d!==c)}ii(n,r,a);break;case 1:if(!Ft&&(io(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){ot(a,r,S)}ii(n,r,a);break;case 21:ii(n,r,a);break;case 22:a.mode&1?(Ft=(c=Ft)||a.memoizedState!==null,ii(n,r,a),Ft=c):ii(n,r,a);break;default:ii(n,r,a)}}function Fm(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new uw),r.forEach(function(c){var d=vw.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Nn(n,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var f=n,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:Pt=S.stateNode,Pn=!1;break e;case 3:Pt=S.stateNode.containerInfo,Pn=!0;break e;case 4:Pt=S.stateNode.containerInfo,Pn=!0;break e}S=S.return}if(Pt===null)throw Error(t(160));jm(f,v,d),Pt=null,Pn=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(U){ot(d,r,U)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Um(r,n),r=r.sibling}function Um(n,r){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Nn(r,n),tr(n),c&4){try{ka(3,n,n.return),mu(3,n)}catch(le){ot(n,n.return,le)}try{ka(5,n,n.return)}catch(le){ot(n,n.return,le)}}break;case 1:Nn(r,n),tr(n),c&512&&a!==null&&io(a,a.return);break;case 5:if(Nn(r,n),tr(n),c&512&&a!==null&&io(a,a.return),n.flags&32){var d=n.stateNode;try{bi(d,"")}catch(le){ot(n,n.return,le)}}if(c&4&&(d=n.stateNode,d!=null)){var f=n.memoizedProps,v=a!==null?a.memoizedProps:f,S=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&Ts(d,f),As(S,v);var U=As(S,f);for(v=0;v<N.length;v+=2){var Q=N[v],Y=N[v+1];Q==="style"?Ss(d,Y):Q==="dangerouslySetInnerHTML"?vl(d,Y):Q==="children"?bi(d,Y):we(d,Q,Y,U)}switch(S){case"input":Vi(d,f);break;case"textarea":_l(d,f);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var re=f.value;re!=null?In(d,!!f.multiple,re,!1):K!==!!f.multiple&&(f.defaultValue!=null?In(d,!!f.multiple,f.defaultValue,!0):In(d,!!f.multiple,f.multiple?[]:"",!1))}d[ya]=f}catch(le){ot(n,n.return,le)}}break;case 6:if(Nn(r,n),tr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,f=n.memoizedProps;try{d.nodeValue=f}catch(le){ot(n,n.return,le)}}break;case 3:if(Nn(r,n),tr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Kr(r.containerInfo)}catch(le){ot(n,n.return,le)}break;case 4:Nn(r,n),tr(n);break;case 13:Nn(r,n),tr(n),d=n.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Yh=Ye())),c&4&&Fm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(Ft=(U=Ft)||Q,Nn(r,n),Ft=U):Nn(r,n),tr(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!Q&&(n.mode&1)!==0)for(oe=n,Q=n.child;Q!==null;){for(Y=oe=Q;oe!==null;){switch(K=oe,re=K.child,K.tag){case 0:case 11:case 14:case 15:ka(4,K,K.return);break;case 1:io(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){c=K,a=K.return;try{r=c,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){ot(c,a,le)}}break;case 5:io(K,K.return);break;case 22:if(K.memoizedState!==null){$m(Y);continue}}re!==null?(re.return=K,oe=re):$m(Y)}Q=Q.sibling}e:for(Q=null,Y=n;;){if(Y.tag===5){if(Q===null){Q=Y;try{d=Y.stateNode,U?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=Y.stateNode,N=Y.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,S.style.display=Fr("display",v))}catch(le){ot(n,n.return,le)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=U?"":Y.memoizedProps}catch(le){ot(n,n.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===n)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===n)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===n)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Nn(r,n),tr(n),c&4&&Fm(n);break;case 21:break;default:Nn(r,n),tr(n)}}function tr(n){var r=n.flags;if(r&2){try{e:{for(var a=n.return;a!==null;){if(Lm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(bi(d,""),c.flags&=-33);var f=Mm(n);Gh(n,f,d);break;case 3:case 4:var v=c.stateNode.containerInfo,S=Mm(n);Wh(n,S,v);break;default:throw Error(t(161))}}catch(N){ot(n,n.return,N)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function hw(n,r,a){oe=n,zm(n)}function zm(n,r,a){for(var c=(n.mode&1)!==0;oe!==null;){var d=oe,f=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||pu;if(!v){var S=d.alternate,N=S!==null&&S.memoizedState!==null||Ft;S=pu;var U=Ft;if(pu=v,(Ft=N)&&!U)for(oe=d;oe!==null;)v=oe,N=v.child,v.tag===22&&v.memoizedState!==null?qm(d):N!==null?(N.return=v,oe=N):qm(d);for(;f!==null;)oe=f,zm(f),f=f.sibling;oe=d,pu=S,Ft=U}Bm(n)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,oe=f):Bm(n)}}function Bm(n){for(;oe!==null;){var r=oe;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ft||mu(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Ft)if(a===null)c.componentDidMount();else{var d=r.elementType===r.type?a.memoizedProps:Rn(r.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&$p(r,f,c);break;case 3:var v=r.updateQueue;if(v!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}$p(r,v,a)}break;case 5:var S=r.stateNode;if(a===null&&r.flags&4){a=S;var N=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var U=r.alternate;if(U!==null){var Q=U.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&Kr(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ft||r.flags&512&&Hh(r)}catch(K){ot(r,r.return,K)}}if(r===n){oe=null;break}if(a=r.sibling,a!==null){a.return=r.return,oe=a;break}oe=r.return}}function $m(n){for(;oe!==null;){var r=oe;if(r===n){oe=null;break}var a=r.sibling;if(a!==null){a.return=r.return,oe=a;break}oe=r.return}}function qm(n){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{mu(4,r)}catch(N){ot(r,a,N)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(N){ot(r,d,N)}}var f=r.return;try{Hh(r)}catch(N){ot(r,f,N)}break;case 5:var v=r.return;try{Hh(r)}catch(N){ot(r,v,N)}}}catch(N){ot(r,r.return,N)}if(r===n){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var dw=Math.ceil,gu=xe.ReactCurrentDispatcher,Kh=xe.ReactCurrentOwner,_n=xe.ReactCurrentBatchConfig,Ue=0,It=null,pt=null,Nt=0,cn=0,so=Zr(0),vt=0,Ra=null,ts=0,yu=0,Qh=0,Pa=null,Yt=null,Yh=0,oo=1/0,Cr=null,_u=!1,Xh=null,si=null,vu=!1,oi=null,Eu=0,Na=0,Jh=null,wu=-1,Tu=0;function Wt(){return(Ue&6)!==0?Ye():wu!==-1?wu:wu=Ye()}function ai(n){return(n.mode&1)===0?1:(Ue&2)!==0&&Nt!==0?Nt&-Nt:QE.transition!==null?(Tu===0&&(Tu=Jo()),Tu):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:Os(n.type)),n)}function Dn(n,r,a,c){if(50<Na)throw Na=0,Jh=null,Error(t(185));$i(n,a,c),((Ue&2)===0||n!==It)&&(n===It&&((Ue&2)===0&&(yu|=a),vt===4&&li(n,Nt)),Xt(n,c),a===1&&Ue===0&&(r.mode&1)===0&&(oo=Ye()+500,Yl&&ti()))}function Xt(n,r){var a=n.callbackNode;Bi(n,r);var c=pr(n,n===It?Nt:0);if(c===0)a!==null&&ks(a),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(a!=null&&ks(a),r===1)n.tag===0?KE(Wm.bind(null,n)):Np(Wm.bind(null,n)),qE(function(){(Ue&6)===0&&ti()}),a=null;else{switch(Bn(c)){case 1:a=Rs;break;case 4:a=Qo;break;case 16:a=ji;break;case 536870912:a=Ps;break;default:a=ji}a=eg(a,Hm.bind(null,n))}n.callbackPriority=r,n.callbackNode=a}}function Hm(n,r){if(wu=-1,Tu=0,(Ue&6)!==0)throw Error(t(327));var a=n.callbackNode;if(ao()&&n.callbackNode!==a)return null;var c=pr(n,n===It?Nt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Iu(n,c);else{r=c;var d=Ue;Ue|=2;var f=Km();(It!==n||Nt!==r)&&(Cr=null,oo=Ye()+500,rs(n,r));do try{mw();break}catch(S){Gm(n,S)}while(!0);gh(),gu.current=f,Ue=d,pt!==null?r=0:(It=null,Nt=0,r=vt)}if(r!==0){if(r===2&&(d=Xo(n),d!==0&&(c=d,r=Zh(n,d))),r===1)throw a=Ra,rs(n,0),li(n,c),Xt(n,Ye()),a;if(r===6)li(n,c);else{if(d=n.current.alternate,(c&30)===0&&!fw(d)&&(r=Iu(n,c),r===2&&(f=Xo(n),f!==0&&(c=f,r=Zh(n,f))),r===1))throw a=Ra,rs(n,0),li(n,c),Xt(n,Ye()),a;switch(n.finishedWork=d,n.finishedLanes=c,r){case 0:case 1:throw Error(t(345));case 2:is(n,Yt,Cr);break;case 3:if(li(n,c),(c&130023424)===c&&(r=Yh+500-Ye(),10<r)){if(pr(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=sh(is.bind(null,n,Yt,Cr),r);break}is(n,Yt,Cr);break;case 4:if(li(n,c),(c&4194240)===c)break;for(r=n.eventTimes,d=-1;0<c;){var v=31-nn(c);f=1<<v,v=r[v],v>d&&(d=v),c&=~f}if(c=d,c=Ye()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*dw(c/1960))-c,10<c){n.timeoutHandle=sh(is.bind(null,n,Yt,Cr),c);break}is(n,Yt,Cr);break;case 5:is(n,Yt,Cr);break;default:throw Error(t(329))}}}return Xt(n,Ye()),n.callbackNode===a?Hm.bind(null,n):null}function Zh(n,r){var a=Pa;return n.current.memoizedState.isDehydrated&&(rs(n,r).flags|=256),n=Iu(n,r),n!==2&&(r=Yt,Yt=a,r!==null&&ed(r)),n}function ed(n){Yt===null?Yt=n:Yt.push.apply(Yt,n)}function fw(n){for(var r=n;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],f=d.getSnapshot;d=d.value;try{if(!Cn(f(),d))return!1}catch(v){return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function li(n,r){for(r&=~Qh,r&=~yu,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var a=31-nn(r),c=1<<a;n[a]=-1,r&=~c}}function Wm(n){if((Ue&6)!==0)throw Error(t(327));ao();var r=pr(n,0);if((r&1)===0)return Xt(n,Ye()),null;var a=Iu(n,r);if(n.tag!==0&&a===2){var c=Xo(n);c!==0&&(r=c,a=Zh(n,c))}if(a===1)throw a=Ra,rs(n,0),li(n,r),Xt(n,Ye()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,is(n,Yt,Cr),Xt(n,Ye()),null}function td(n,r){var a=Ue;Ue|=1;try{return n(r)}finally{Ue=a,Ue===0&&(oo=Ye()+500,Yl&&ti())}}function ns(n){oi!==null&&oi.tag===0&&(Ue&6)===0&&ao();var r=Ue;Ue|=1;var a=_n.transition,c=Oe;try{if(_n.transition=null,Oe=1,n)return n()}finally{Oe=c,_n.transition=a,Ue=r,(Ue&6)===0&&ti()}}function nd(){cn=so.current,Je(so)}function rs(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,$E(a)),pt!==null)for(a=pt.return;a!==null;){var c=a;switch(hh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Kl();break;case 3:no(),Je(Gt),Je(Lt),Sh();break;case 5:Th(c);break;case 4:no();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:yh(c.type._context);break;case 22:case 23:nd()}a=a.return}if(It=n,pt=n=ui(n.current,null),Nt=cn=r,vt=0,Ra=null,Qh=yu=ts=0,Yt=Pa=null,Ji!==null){for(r=0;r<Ji.length;r++)if(a=Ji[r],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,f=a.pending;if(f!==null){var v=f.next;f.next=d,c.next=v}a.pending=c}Ji=null}return n}function Gm(n,r){do{var a=pt;try{if(gh(),ou.current=cu,au){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}au=!1}if(es=0,Tt=_t=rt=null,Ia=!1,Sa=0,Kh.current=null,a===null||a.return===null){vt=1,Ra=r,pt=null;break}e:{var f=n,v=a.return,S=a,N=r;if(r=Nt,S.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var U=N,Q=S,Y=Q.tag;if((Q.mode&1)===0&&(Y===0||Y===11||Y===15)){var K=Q.alternate;K?(Q.updateQueue=K.updateQueue,Q.memoizedState=K.memoizedState,Q.lanes=K.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var re=_m(v);if(re!==null){re.flags&=-257,vm(re,v,S,f,r),re.mode&1&&ym(f,U,r),r=re,N=U;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(N),r.updateQueue=le}else ae.add(N);break e}else{if((r&1)===0){ym(f,U,r),rd();break e}N=Error(t(426))}}else if(et&&S.mode&1){var ct=_m(v);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),vm(ct,v,S,f,r),ph(ro(N,S));break e}}f=N=ro(N,S),vt!==4&&(vt=2),Pa===null?Pa=[f]:Pa.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var M=mm(f,N,r);Bp(f,M);break e;case 1:S=N;var b=f.type,F=f.stateNode;if((f.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(si===null||!si.has(F)))){f.flags|=65536,r&=-r,f.lanes|=r;var X=gm(f,S,r);Bp(f,X);break e}}f=f.return}while(f!==null)}Ym(a)}catch(ue){r=ue,pt===a&&a!==null&&(pt=a=a.return);continue}break}while(!0)}function Km(){var n=gu.current;return gu.current=cu,n===null?cu:n}function rd(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||(ts&268435455)===0&&(yu&268435455)===0||li(It,Nt)}function Iu(n,r){var a=Ue;Ue|=2;var c=Km();(It!==n||Nt!==r)&&(Cr=null,rs(n,r));do try{pw();break}catch(d){Gm(n,d)}while(!0);if(gh(),Ue=a,gu.current=c,pt!==null)throw Error(t(261));return It=null,Nt=0,vt}function pw(){for(;pt!==null;)Qm(pt)}function mw(){for(;pt!==null&&!Mi();)Qm(pt)}function Qm(n){var r=Zm(n.alternate,n,cn);n.memoizedProps=n.pendingProps,r===null?Ym(n):pt=r,Kh.current=null}function Ym(n){var r=n;do{var a=r.alternate;if(n=r.return,(r.flags&32768)===0){if(a=aw(a,r,cn),a!==null){pt=a;return}}else{if(a=lw(a,r),a!==null){a.flags&=32767,pt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,pt=null;return}}if(r=r.sibling,r!==null){pt=r;return}pt=r=n}while(r!==null);vt===0&&(vt=5)}function is(n,r,a){var c=Oe,d=_n.transition;try{_n.transition=null,Oe=1,gw(n,r,a,c)}finally{_n.transition=d,Oe=c}return null}function gw(n,r,a,c){do ao();while(oi!==null);if((Ue&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var f=a.lanes|a.childLanes;if($c(n,f),n===It&&(pt=It=null,Nt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||vu||(vu=!0,eg(ji,function(){return ao(),null})),f=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||f){f=_n.transition,_n.transition=null;var v=Oe;Oe=1;var S=Ue;Ue|=4,Kh.current=null,cw(n,a),Um(a,n),LE(rh),yr=!!nh,rh=nh=null,n.current=a,hw(a),fr(),Ue=S,Oe=v,_n.transition=f}else n.current=a;if(vu&&(vu=!1,oi=n,Eu=d),f=n.pendingLanes,f===0&&(si=null),Pl(a.stateNode),Xt(n,Ye()),r!==null)for(c=n.onRecoverableError,a=0;a<r.length;a++)d=r[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(_u)throw _u=!1,n=Xh,Xh=null,n;return(Eu&1)!==0&&n.tag!==0&&ao(),f=n.pendingLanes,(f&1)!==0?n===Jh?Na++:(Na=0,Jh=n):Na=0,ti(),null}function ao(){if(oi!==null){var n=Bn(Eu),r=_n.transition,a=Oe;try{if(_n.transition=null,Oe=16>n?16:n,oi===null)var c=!1;else{if(n=oi,oi=null,Eu=0,(Ue&6)!==0)throw Error(t(331));var d=Ue;for(Ue|=4,oe=n.current;oe!==null;){var f=oe,v=f.child;if((oe.flags&16)!==0){var S=f.deletions;if(S!==null){for(var N=0;N<S.length;N++){var U=S[N];for(oe=U;oe!==null;){var Q=oe;switch(Q.tag){case 0:case 11:case 15:ka(8,Q,f)}var Y=Q.child;if(Y!==null)Y.return=Q,oe=Y;else for(;oe!==null;){Q=oe;var K=Q.sibling,re=Q.return;if(Om(Q),Q===U){oe=null;break}if(K!==null){K.return=re,oe=K;break}oe=re}}}var ae=f.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var ct=le.sibling;le.sibling=null,le=ct}while(le!==null)}}oe=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,oe=v;else e:for(;oe!==null;){if(f=oe,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ka(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,oe=M;break e}oe=f.return}}var b=n.current;for(oe=b;oe!==null;){v=oe;var F=v.child;if((v.subtreeFlags&2064)!==0&&F!==null)F.return=v,oe=F;else e:for(v=b;oe!==null;){if(S=oe,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:mu(9,S)}}catch(ue){ot(S,S.return,ue)}if(S===v){oe=null;break e}var X=S.sibling;if(X!==null){X.return=S.return,oe=X;break e}oe=S.return}}if(Ue=d,ti(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Fi,n)}catch(ue){}c=!0}return c}finally{Oe=a,_n.transition=r}}return!1}function Xm(n,r,a){r=ro(a,r),r=mm(n,r,1),n=ri(n,r,1),r=Wt(),n!==null&&($i(n,1,r),Xt(n,r))}function ot(n,r,a){if(n.tag===3)Xm(n,n,a);else for(;r!==null;){if(r.tag===3){Xm(r,n,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(si===null||!si.has(c))){n=ro(a,n),n=gm(r,n,1),r=ri(r,n,1),n=Wt(),r!==null&&($i(r,1,n),Xt(r,n));break}}r=r.return}}function yw(n,r,a){var c=n.pingCache;c!==null&&c.delete(r),r=Wt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Nt&a)===a&&(vt===4||vt===3&&(Nt&130023424)===Nt&&500>Ye()-Yh?rs(n,0):Qh|=a),Xt(n,r)}function Jm(n,r){r===0&&((n.mode&1)===0?r=1:(r=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var a=Wt();n=Sr(n,r),n!==null&&($i(n,r,a),Xt(n,a))}function _w(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Jm(n,a)}function vw(n,r){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(r),Jm(n,a)}var Zm;Zm=function(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps||Gt.current)Qt=!0;else{if((n.lanes&a)===0&&(r.flags&128)===0)return Qt=!1,ow(n,r,a);Qt=(n.flags&131072)!==0}else Qt=!1,et&&(r.flags&1048576)!==0&&Dp(r,Jl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;fu(n,r),n=r.pendingProps;var d=Qs(r,Lt.current);to(r,a),d=Ch(null,r,c,n,d,a);var f=kh();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Kt(c)?(f=!0,Ql(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Eh(r),d.updater=hu,r.stateNode=d,d._reactInternals=r,bh(r,c,n,a),r=jh(null,r,c,!0,f,a)):(r.tag=0,et&&f&&ch(r),Ht(null,r,d,a),r=r.child),r;case 16:c=r.elementType;e:{switch(fu(n,r),n=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=ww(c),n=Rn(c,n),d){case 0:r=Mh(null,r,c,n,a);break e;case 1:r=Am(null,r,c,n,a);break e;case 11:r=Em(null,r,c,n,a);break e;case 14:r=wm(null,r,c,Rn(c.type,n),a);break e}throw Error(t(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),Mh(n,r,c,d,a);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),Am(n,r,c,d,a);case 3:e:{if(xm(r),n===null)throw Error(t(387));c=r.pendingProps,f=r.memoizedState,d=f.element,zp(n,r),iu(r,c,null,a);var v=r.memoizedState;if(c=v.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=ro(Error(t(423)),r),r=Cm(n,r,c,a,d);break e}else if(c!==d){d=ro(Error(t(424)),r),r=Cm(n,r,c,a,d);break e}else for(un=Jr(r.stateNode.containerInfo.firstChild),ln=r,et=!0,kn=null,a=Fp(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Js(),c===d){r=xr(n,r,a);break e}Ht(n,r,c,a)}r=r.child}return r;case 5:return qp(r),n===null&&fh(r),c=r.type,d=r.pendingProps,f=n!==null?n.memoizedProps:null,v=d.children,ih(c,d)?v=null:f!==null&&ih(c,f)&&(r.flags|=32),Sm(n,r),Ht(n,r,v,a),r.child;case 6:return n===null&&fh(r),null;case 13:return km(n,r,a);case 4:return wh(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Zs(r,null,c,a):Ht(n,r,c,a),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),Em(n,r,c,d,a);case 7:return Ht(n,r,r.pendingProps,a),r.child;case 8:return Ht(n,r,r.pendingProps.children,a),r.child;case 12:return Ht(n,r,r.pendingProps.children,a),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,f=r.memoizedProps,v=d.value,Ke(tu,c._currentValue),c._currentValue=v,f!==null)if(Cn(f.value,v)){if(f.children===d.children&&!Gt.current){r=xr(n,r,a);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var S=f.dependencies;if(S!==null){v=f.child;for(var N=S.firstContext;N!==null;){if(N.context===c){if(f.tag===1){N=Ar(-1,a&-a),N.tag=2;var U=f.updateQueue;if(U!==null){U=U.shared;var Q=U.pending;Q===null?N.next=N:(N.next=Q.next,Q.next=N),U.pending=N}}f.lanes|=a,N=f.alternate,N!==null&&(N.lanes|=a),_h(f.return,a,r),S.lanes|=a;break}N=N.next}}else if(f.tag===10)v=f.type===r.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),_h(v,a,r),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}Ht(n,r,d.children,a),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,to(r,a),d=gn(d),c=c(d),r.flags|=1,Ht(n,r,c,a),r.child;case 14:return c=r.type,d=Rn(c,r.pendingProps),d=Rn(c.type,d),wm(n,r,c,d,a);case 15:return Tm(n,r,r.type,r.pendingProps,a);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:Rn(c,d),fu(n,r),r.tag=1,Kt(c)?(n=!0,Ql(r)):n=!1,to(r,a),fm(r,c,d),bh(r,c,d,a),jh(null,r,c,!0,n,a);case 19:return Pm(n,r,a);case 22:return Im(n,r,a)}throw Error(t(156,r.tag))};function eg(n,r){return Ko(n,r)}function Ew(n,r,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,r,a,c){return new Ew(n,r,a,c)}function id(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ww(n){if(typeof n=="function")return id(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===tt)return 14}return 2}function ui(n,r){var a=n.alternate;return a===null?(a=vn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Su(n,r,a,c,d,f){var v=2;if(c=n,typeof n=="function")id(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case R:return ss(a.children,d,f,r);case A:v=8,d|=8;break;case C:return n=vn(12,a,r,d|2),n.elementType=C,n.lanes=f,n;case x:return n=vn(13,a,r,d),n.elementType=x,n.lanes=f,n;case $e:return n=vn(19,a,r,d),n.elementType=$e,n.lanes=f,n;case Fe:return Au(a,d,f,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:v=10;break e;case D:v=9;break e;case L:v=11;break e;case tt:v=14;break e;case at:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return r=vn(v,a,r,d),r.elementType=n,r.type=c,r.lanes=f,r}function ss(n,r,a,c){return n=vn(7,n,c,r),n.lanes=a,n}function Au(n,r,a,c){return n=vn(22,n,c,r),n.elementType=Fe,n.lanes=a,n.stateNode={isHidden:!1},n}function sd(n,r,a){return n=vn(6,n,null,r),n.lanes=a,n}function od(n,r,a){return r=vn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Tw(n,r,a,c,d){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ad(n,r,a,c,d,f,v,S,N){return n=new Tw(n,r,a,S,N),r===1?(r=1,f===!0&&(r|=8)):r=0,f=vn(3,null,null,r),n.current=f,f.stateNode=n,f.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eh(f),n}function Iw(n,r,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:c==null?null:""+c,children:n,containerInfo:r,implementation:a}}function tg(n){if(!n)return ei;n=n._reactInternals;e:{if(An(n)!==n||n.tag!==1)throw Error(t(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Kt(a))return Rp(n,a,r)}return r}function ng(n,r,a,c,d,f,v,S,N){return n=ad(a,c,!0,n,d,f,v,S,N),n.context=tg(null),a=n.current,c=Wt(),d=ai(a),f=Ar(c,d),f.callback=r!=null?r:null,ri(a,f,d),n.current.lanes=d,$i(n,d,c),Xt(n,c),n}function xu(n,r,a,c){var d=r.current,f=Wt(),v=ai(d);return a=tg(a),r.context===null?r.context=a:r.pendingContext=a,r=Ar(f,v),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=ri(d,r,v),n!==null&&(Dn(n,d,v,f),ru(n,d,v)),v}function Cu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function rg(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function ld(n,r){rg(n,r),(n=n.alternate)&&rg(n,r)}function Sw(){return null}var ig=typeof reportError=="function"?reportError:function(n){console.error(n)};function ud(n){this._internalRoot=n}ku.prototype.render=ud.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(t(409));xu(n,r,null,null)},ku.prototype.unmount=ud.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ns(function(){xu(null,n,null,null)}),r[Er]=null}};function ku(n){this._internalRoot=n}ku.prototype.unstable_scheduleHydration=function(n){if(n){var r=ra();n={blockedOn:null,target:n,priority:r};for(var a=0;a<rn.length&&r!==0&&r<rn[a].priority;a++);rn.splice(a,0,n),a===0&&Vs(n)}};function cd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ru(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function sg(){}function Aw(n,r,a,c,d){if(d){if(typeof c=="function"){var f=c;c=function(){var U=Cu(v);f.call(U)}}var v=ng(r,c,n,0,null,!1,!1,"",sg);return n._reactRootContainer=v,n[Er]=v.current,ma(n.nodeType===8?n.parentNode:n),ns(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var U=Cu(N);S.call(U)}}var N=ad(n,0,!1,null,null,!1,!1,"",sg);return n._reactRootContainer=N,n[Er]=N.current,ma(n.nodeType===8?n.parentNode:n),ns(function(){xu(r,N,a,c)}),N}function Pu(n,r,a,c,d){var f=a._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var S=d;d=function(){var N=Cu(v);S.call(N)}}xu(r,v,n,d)}else v=Aw(a,r,n,d,c);return Cu(v)}ta=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var a=qe(r.pendingLanes);a!==0&&(ea(r,a|1),Xt(r,Ye()),(Ue&6)===0&&(oo=Ye()+500,ti()))}break;case 13:ns(function(){var c=Sr(n,1);if(c!==null){var d=Wt();Dn(c,n,1,d)}}),ld(n,1)}},Ns=function(n){if(n.tag===13){var r=Sr(n,134217728);if(r!==null){var a=Wt();Dn(r,n,134217728,a)}ld(n,134217728)}},na=function(n){if(n.tag===13){var r=ai(n),a=Sr(n,r);if(a!==null){var c=Wt();Dn(a,n,r,c)}ld(n,r)}},ra=function(){return Oe},ia=function(n,r){var a=Oe;try{return Oe=n,r()}finally{Oe=a}},cr=function(n,r,a){switch(r){case"input":if(Vi(n,a),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==n&&c.form===n.form){var d=Gl(c);if(!d)throw Error(t(90));Fo(c),Vi(c,d)}}}break;case"textarea":_l(n,a);break;case"select":r=a.value,r!=null&&In(n,!!a.multiple,r,!1)}},wl=td,Tl=ns;var xw={usingClientEntryPoint:!1,Events:[_a,Gs,Gl,zr,Br,td]},Da={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cw={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Rl(n),n===null?null:n.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||Sw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Fi=Nu.inject(Cw),tn=Nu}catch(n){}}return Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xw,Jt.createPortal=function(n,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cd(r))throw Error(t(200));return Iw(n,r,null,a)},Jt.createRoot=function(n,r){if(!cd(n))throw Error(t(299));var a=!1,c="",d=ig;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=ad(n,1,!1,null,null,a,!1,c,d),n[Er]=r.current,ma(n.nodeType===8?n.parentNode:n),new ud(r)},Jt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Rl(r),n=n===null?null:n.stateNode,n},Jt.flushSync=function(n){return ns(n)},Jt.hydrate=function(n,r,a){if(!Ru(r))throw Error(t(200));return Pu(null,n,r,!0,a)},Jt.hydrateRoot=function(n,r,a){if(!cd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,f="",v=ig;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),r=ng(r,null,n,1,a!=null?a:null,d,!1,f,v),n[Er]=r.current,ma(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,d]:r.mutableSourceEagerHydrationData.push(a,d);return new ku(r)},Jt.render=function(n,r,a){if(!Ru(r))throw Error(t(200));return Pu(null,n,r,!1,a)},Jt.unmountComponentAtNode=function(n){if(!Ru(n))throw Error(t(40));return n._reactRootContainer?(ns(function(){Pu(null,null,n,!1,function(){n._reactRootContainer=null,n[Er]=null})}),!0):!1},Jt.unstable_batchedUpdates=td,Jt.unstable_renderSubtreeIntoContainer=function(n,r,a,c){if(!Ru(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Pu(n,r,a,!1,c)},Jt.version="18.3.1-next-f1338f8080-20240426",Jt}var gg;function Bw(){if(gg)return fd.exports;gg=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fd.exports=zw(),fd.exports}var yg;function $w(){if(yg)return Vu;yg=1;var i=Bw();return Vu.createRoot=i.createRoot,Vu.hydrateRoot=i.hydrateRoot,Vu}var qw=$w();const Hw=Jy(qw),Ww=()=>{};var _g={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Gw=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},e_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,_=g?i[o+2]:0,T=l>>2,I=(l&3)<<4|m>>4;let P=(m&15)<<2|_>>6,B=_&63;g||(B=64,h||(P=64)),s.push(t[T],t[I],t[P],t[B])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Zy(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Gw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const _=o<i.length?t[i.charAt(o)]:64;++o;const I=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||_==null||I==null)throw new Kw;const P=l<<2|m>>4;if(s.push(P),_!==64){const B=m<<4&240|_>>2;if(s.push(B),I!==64){const J=_<<6&192|I;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qw=function(i){const e=Zy(i);return e_.encodeByteArray(e,!0)},tc=function(i){return Qw(i).replace(/\./g,"")},t_=function(i){try{return e_.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=()=>Yw().__FIREBASE_DEFAULTS__,Jw=()=>{if(typeof process=="undefined"||typeof _g=="undefined")return;const i=_g.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Zw=()=>{if(typeof document=="undefined")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=i&&t_(i[1]);return e&&JSON.parse(e)},Ec=()=>{try{return Ww()||Xw()||Jw()||Zw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},n_=i=>{var e,t;return(t=(e=Ec())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},e0=i=>{const e=n_(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},r_=()=>{var i;return(i=Ec())==null?void 0:i.config},i_=i=>{var e;return(e=Ec())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function s_(i){return k(this,null,function*(){return(yield fetch(i,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Ne({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[tc(JSON.stringify(t)),tc(JSON.stringify(h)),""].join(".")}const Ua={};function r0(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ua))Ua[e]?i.emulator.push(e):i.prod.push(e);return i}function i0(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let vg=!1;function o_(i,e){if(typeof window=="undefined"||typeof document=="undefined"||!Po(window.location.host)||Ua[i]===e||Ua[i]||vg)return;Ua[i]=e;function t(P){return`__firebase__banner__${P}`}const s="__firebase__banner",l=r0().prod.length>0;function h(){const P=document.getElementById(s);P&&P.remove()}function m(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function g(P,B){P.setAttribute("width","24"),P.setAttribute("id",B),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function _(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{vg=!0,h()},P}function T(P,B){P.setAttribute("id",B),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function I(){const P=i0(s),B=t("text"),J=document.getElementById(B)||document.createElement("span"),G=t("learnmore"),q=document.getElementById(G)||document.createElement("a"),pe=t("preprendIcon"),de=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const we=P.element;m(we),T(q,G);const xe=_();g(de,pe),we.append(de,J,q,xe),document.body.appendChild(we)}l?(J.innerText="Preview backend disconnected.",de.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(de.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s0(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function o0(){var e;const i=(e=Ec())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(t){return!1}}function a0(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function l0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c0(){const i=$t();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function h0(){return!o0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d0(){try{return typeof indexedDB=="object"}catch(i){return!1}}function f0(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=p0,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?m0(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new br(o,m,s)}}function m0(i,e){return i.replace(g0,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const g0=/\{\$([^}]+)}/g;function y0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function cs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(Eg(l)&&Eg(h)){if(!cs(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Eg(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Oa(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function La(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function _0(i,e){const t=new v0(i,e);return t.subscribe.bind(t)}class v0{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");E0(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=gd),o.error===void 0&&(o.error=gd),o.complete===void 0&&(o.complete=gd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(h){}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console!="undefined"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E0(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i){return i&&i._delegate?i._delegate:i}class hs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new t0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch(o){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var o;const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(o=e==null?void 0:e.optional)!=null?o:!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I0(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch(t){}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch(l){}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return k(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var h;const s=this.normalizeInstanceIdentifier(t),o=(h=this.onInitCallbacks.get(s))!=null?h:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(o){}return s||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T0(i){return i===ls?void 0:i}function I0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new w0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const A0={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},x0=De.INFO,C0={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},k0=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=C0[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=x0,this._logHandler=k0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const R0=(i,e)=>e.some(t=>i instanceof t);let wg,Tg;function P0(){return wg||(wg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N0(){return Tg||(Tg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a_=new WeakMap,Rd=new WeakMap,l_=new WeakMap,yd=new WeakMap,of=new WeakMap;function D0(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(yi(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&a_.set(t,i)}).catch(()=>{}),of.set(e,i),e}function V0(i){if(Rd.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Rd.set(i,e)}let Pd={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Rd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||l_.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yi(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function b0(i){Pd=i(Pd)}function O0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(_d(this),e,...t);return l_.set(s,e.sort?e.sort():[e]),yi(s)}:N0().includes(i)?function(...e){return i.apply(_d(this),e),yi(a_.get(this))}:function(...e){return yi(i.apply(_d(this),e))}}function L0(i){return typeof i=="function"?O0(i):(i instanceof IDBTransaction&&V0(i),R0(i,P0())?new Proxy(i,Pd):i)}function yi(i){if(i instanceof IDBRequest)return D0(i);if(yd.has(i))return yd.get(i);const e=L0(i);return e!==i&&(yd.set(i,e),of.set(e,i)),e}const _d=i=>of.get(i);function M0(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=yi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(yi(h.result),g.oldVersion,g.newVersion,yi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const j0=["get","getKey","getAll","getAllKeys","count"],F0=["put","add","delete","clear"],vd=new Map;function Ig(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vd.get(e))return vd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=F0.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||j0.includes(t)))return;const l=function(h,...m){return k(this,null,function*(){const g=this.transaction(h,o?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(yield Promise.all([_[t](...m),o&&g.done]))[0]})};return vd.set(e,l),l}b0(i=>En(Ne({},i),{get:(e,t,s)=>Ig(e,t)||i.get(e,t,s),has:(e,t)=>!!Ig(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z0(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function z0(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nd="@firebase/app",Sg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new sf("@firebase/app"),B0="@firebase/app-compat",$0="@firebase/analytics-compat",q0="@firebase/analytics",H0="@firebase/app-check-compat",W0="@firebase/app-check",G0="@firebase/auth",K0="@firebase/auth-compat",Q0="@firebase/database",Y0="@firebase/data-connect",X0="@firebase/database-compat",J0="@firebase/functions",Z0="@firebase/functions-compat",eT="@firebase/installations",tT="@firebase/installations-compat",nT="@firebase/messaging",rT="@firebase/messaging-compat",iT="@firebase/performance",sT="@firebase/performance-compat",oT="@firebase/remote-config",aT="@firebase/remote-config-compat",lT="@firebase/storage",uT="@firebase/storage-compat",cT="@firebase/firestore",hT="@firebase/ai",dT="@firebase/firestore-compat",fT="firebase",pT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",mT={[Nd]:"fire-core",[B0]:"fire-core-compat",[q0]:"fire-analytics",[$0]:"fire-analytics-compat",[W0]:"fire-app-check",[H0]:"fire-app-check-compat",[G0]:"fire-auth",[K0]:"fire-auth-compat",[Q0]:"fire-rtdb",[Y0]:"fire-data-connect",[X0]:"fire-rtdb-compat",[J0]:"fire-fn",[Z0]:"fire-fn-compat",[eT]:"fire-iid",[tT]:"fire-iid-compat",[nT]:"fire-fcm",[rT]:"fire-fcm-compat",[iT]:"fire-perf",[sT]:"fire-perf-compat",[oT]:"fire-rc",[aT]:"fire-rc-compat",[lT]:"fire-gcs",[uT]:"fire-gcs-compat",[cT]:"fire-fst",[dT]:"fire-fst-compat",[hT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,gT=new Map,Vd=new Map;function Ag(i,e){try{i.container.addComponent(e)}catch(t){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function To(i){const e=i.name;if(Vd.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,i);for(const t of nc.values())Ag(t,i);for(const t of gT.values())Ag(t,i);return!0}function af(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new rl("app","Firebase",yT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,s){this._isDeleted=!1,this._options=Ne({},e),this._config=Ne({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=pT;function u_(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Ne({name:Dd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw _i.create("bad-app-name",{appName:String(o)});if(t||(t=r_()),!t)throw _i.create("no-options");const l=nc.get(o);if(l){if(cs(t,l.options)&&cs(s,l.config))return l;throw _i.create("duplicate-app",{appName:o})}const h=new S0(o);for(const g of Vd.values())h.addComponent(g);const m=new _T(t,s,h);return nc.set(o,m),m}function c_(i=Dd){const e=nc.get(i);if(!e&&i===Dd&&r_())return u_();if(!e)throw _i.create("no-app",{appName:i});return e}function vi(i,e,t){var h;let s=(h=mT[i])!=null?h:i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const m=[`Unable to register library "${s}" with version "${e}":`];o&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&m.push("and"),l&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(m.join(" "));return}To(new hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebase-heartbeat-database",ET=1,Ga="firebase-heartbeat-store";let Ed=null;function h_(){return Ed||(Ed=M0(vT,ET,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ga)}catch(t){console.warn(t)}}}}).catch(i=>{throw _i.create("idb-open",{originalErrorMessage:i.message})})),Ed}function wT(i){return k(this,null,function*(){try{const t=(yield h_()).transaction(Ga),s=yield t.objectStore(Ga).get(d_(i));return yield t.done,s}catch(e){if(e instanceof br)Pr.warn(e.message);else{const t=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(t.message)}}})}function xg(i,e){return k(this,null,function*(){try{const s=(yield h_()).transaction(Ga,"readwrite");yield s.objectStore(Ga).put(e,d_(i)),yield s.done}catch(t){if(t instanceof br)Pr.warn(t.message);else{const s=_i.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Pr.warn(s.message)}}})}function d_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=1024,IT=30;class ST{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}triggerHeartbeat(){return k(this,null,function*(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Cg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>IT){const h=CT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pr.warn(s)}})}getHeartbeatsHeader(){return k(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Cg(),{heartbeatsToSend:s,unsentEntries:o}=AT(this._heartbeatsCache.heartbeats),l=tc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Pr.warn(t),""}})}}function Cg(){return new Date().toISOString().substring(0,10)}function AT(i,e=TT){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),kg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),kg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class xT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return k(this,null,function*(){return d0()?f0().then(()=>!0).catch(()=>!1):!1})}read(){return k(this,null,function*(){if(yield this._canUseIndexedDBPromise){const t=yield wT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return k(this,null,function*(){var s;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return xg(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return k(this,null,function*(){var s;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return xg(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!=null?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}}function kg(i){return tc(JSON.stringify({version:2,heartbeats:i})).length}function CT(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(i){To(new hs("platform-logger",e=>new U0(e),"PRIVATE")),To(new hs("heartbeat",e=>new ST(e),"PRIVATE")),vi(Nd,Sg,i),vi(Nd,Sg,"esm2020"),vi("fire-js","")}kT("");function f_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RT=f_,p_=new rl("auth","Firebase",f_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new sf("@firebase/auth");function PT(i,...e){rc.logLevel<=De.WARN&&rc.warn(`Auth (${No}): ${i}`,...e)}function Hu(i,...e){rc.logLevel<=De.ERROR&&rc.error(`Auth (${No}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(i,...e){throw lf(i,...e)}function rr(i,...e){return lf(i,...e)}function m_(i,e,t){const s=En(Ne({},RT()),{[e]:t});return new rl("auth","Firebase",s).create(e,{appName:i.name})}function Ei(i){return m_(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lf(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return p_.create(i,...e)}function ve(i,e,...t){if(!i)throw lf(e,...t)}function kr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hu(e),new Error(e)}function Nr(i,e){i||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(){var i;return typeof self!="undefined"&&((i=self.location)==null?void 0:i.href)||""}function NT(){return Rg()==="http:"||Rg()==="https:"}function Rg(){var i;return typeof self!="undefined"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NT()||l0()||"connection"in navigator)?navigator.onLine:!0}function VT(){if(typeof navigator=="undefined")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nr(t>e,"Short delay should be less than long delay!"),this.isMobile=s0()||u0()}get(){return DT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(i,e){Nr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LT=new sl(3e4,6e4);function gs(i,e){return i.tenantId&&!e.tenantId?En(Ne({},e),{tenantId:i.tenantId}):e}function Pi(l,h,m,g){return k(this,arguments,function*(i,e,t,s,o={}){return y_(i,o,()=>k(null,null,function*(){let _={},T={};s&&(e==="GET"?T=s:_={body:JSON.stringify(s)});const I=il(Ne({key:i.config.apiKey},T)).slice(1),P=yield i._getAdditionalHeaders();P["Content-Type"]="application/json",i.languageCode&&(P["X-Firebase-Locale"]=i.languageCode);const B=Ne({method:e,headers:P},_);return a0()||(B.referrerPolicy="no-referrer"),i.emulatorConfig&&Po(i.emulatorConfig.host)&&(B.credentials="include"),g_.fetch()(yield __(i,i.config.apiHost,t,I),B)}))})}function y_(i,e,t){return k(this,null,function*(){i._canInitEmulator=!1;const s=Ne(Ne({},bT),e);try{const o=new jT(i),l=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=yield l.json();if("needConfirmation"in h)throw bu(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,_]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw bu(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw bu(i,"user-disabled",h);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw m_(i,T,_);Ln(i,T)}}catch(o){if(o instanceof br)throw o;Ln(i,"network-request-failed",{message:String(o)})}})}function wc(l,h,m,g){return k(this,arguments,function*(i,e,t,s,o={}){const _=yield Pi(i,e,t,s,o);return"mfaPendingCredential"in _&&Ln(i,"multi-factor-auth-required",{_serverResponse:_}),_})}function __(i,e,t,s){return k(this,null,function*(){const o=`${e}${t}?${s}`,l=i,h=l.config.emulator?uf(i.config,o):`${i.config.apiScheme}://${o}`;return OT.includes(t)&&(yield l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h})}function MT(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(rr(this.auth,"network-request-failed")),LT.get())})}}function bu(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=rr(i,e,s);return o.customData._tokenResponse=t,o}function Pg(i){return i!==void 0&&i.enterprise!==void 0}class FT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MT(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function UT(i,e){return k(this,null,function*(){return Pi(i,"GET","/v2/recaptchaConfig",gs(i,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(i,e){return k(this,null,function*(){return Pi(i,"POST","/v1/accounts:delete",e)})}function ic(i,e){return k(this,null,function*(){return Pi(i,"POST","/v1/accounts:lookup",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function BT(i,e=!1){return k(this,null,function*(){const t=xt(i),s=yield t.getIdToken(e),o=cf(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:za(wd(o.auth_time)),issuedAtTime:za(wd(o.iat)),expirationTime:za(wd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}})}function wd(i){return Number(i)*1e3}function cf(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Hu("JWT malformed, contained fewer than 3 sections"),null;try{const o=t_(t);return o?JSON.parse(o):(Hu("Failed to decode base64 JWT payload"),null)}catch(o){return Hu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ng(i){const e=cf(i);return ve(e,"internal-error"),ve(typeof e.exp!="undefined","internal-error"),ve(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(i,e,t=!1){return k(this,null,function*(){if(t)return e;try{return yield e}catch(s){throw s instanceof br&&$T(s)&&i.auth.currentUser===i&&(yield i.auth.signOut()),s}})}function $T({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!=null?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(()=>k(this,null,function*(){yield this.iteration()}),t)}iteration(){return k(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(i){return k(this,null,function*(){var I;const e=i.auth,t=yield i.getIdToken(),s=yield Ka(i,ic(e,{idToken:t}));ve(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const l=(I=o.providerUserInfo)!=null&&I.length?v_(o.providerUserInfo):[],h=WT(i.providerData,l),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),_=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Od(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(i,T)})}function HT(i){return k(this,null,function*(){const e=xt(i);yield sc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WT(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function v_(i){return i.map(s=>{var o=s,{providerId:e}=o,t=lo(o,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e){return k(this,null,function*(){const t=yield y_(i,{},()=>k(null,null,function*(){const s=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=yield __(i,o,"/v1/token",`key=${l}`),m=yield i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Po(i.emulatorConfig.host)&&(g.credentials="include"),g_.fetch()(h,g)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function KT(i,e){return k(this,null,function*(){return Pi(i,"POST","/v2/accounts:revokeToken",gs(i,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken!="undefined","internal-error"),ve(typeof e.refreshToken!="undefined","internal-error");const t="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Ng(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=Ng(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return k(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return k(this,null,function*(){const{accessToken:s,refreshToken:o,expiresIn:l}=yield GT(e,t);this.updateTokensAndExpiration(s,o,Number(l))})}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new mo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(ve(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(i,e){ve(typeof i=="string"||typeof i=="undefined","internal-error",{appName:e})}class bn{constructor(l){var h=l,{uid:e,auth:t,stsTokenManager:s}=h,o=lo(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Od(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return k(this,null,function*(){const t=yield Ka(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return BT(this,e)}reload(){return HT(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Ne({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bn(En(Ne({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return k(this,null,function*(){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&(yield sc(this)),yield this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)})}delete(){return k(this,null,function*(){if(Vn(this.auth.app))return Promise.reject(Ei(this.auth));const e=yield this.getIdToken();return yield Ka(this,zT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return En(Ne({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Ne({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var de,we,xe,je,Ce,R,A,C;const s=(de=t.displayName)!=null?de:void 0,o=(we=t.email)!=null?we:void 0,l=(xe=t.phoneNumber)!=null?xe:void 0,h=(je=t.photoURL)!=null?je:void 0,m=(Ce=t.tenantId)!=null?Ce:void 0,g=(R=t._redirectEventId)!=null?R:void 0,_=(A=t.createdAt)!=null?A:void 0,T=(C=t.lastLoginAt)!=null?C:void 0,{uid:I,emailVerified:P,isAnonymous:B,providerData:J,stsTokenManager:G}=t;ve(I&&G,e,"internal-error");const q=mo.fromJSON(this.name,G);ve(typeof I=="string",e,"internal-error"),hi(s,e.name),hi(o,e.name),ve(typeof P=="boolean",e,"internal-error"),ve(typeof B=="boolean",e,"internal-error"),hi(l,e.name),hi(h,e.name),hi(m,e.name),hi(g,e.name),hi(_,e.name),hi(T,e.name);const pe=new bn({uid:I,auth:e,email:o,emailVerified:P,displayName:s,isAnonymous:B,photoURL:h,phoneNumber:l,tenantId:m,stsTokenManager:q,createdAt:_,lastLoginAt:T});return J&&Array.isArray(J)&&(pe.providerData=J.map(V=>Ne({},V))),g&&(pe._redirectEventId=g),pe}static _fromIdTokenResponse(e,t,s=!1){return k(this,null,function*(){const o=new mo;o.updateFromServerResponse(t);const l=new bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return yield sc(l),l})}static _fromGetAccountInfoResponse(e,t,s){return k(this,null,function*(){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?v_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new mo;m.updateFromIdToken(s);const g=new bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Od(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,_),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new Map;function Rr(i){Nr(i instanceof Function,"Expected a class definition");let e=Dg.get(i);return e?(Nr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Dg.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return k(this,null,function*(){return!0})}_set(e,t){return k(this,null,function*(){this.storage[e]=t})}_get(e){return k(this,null,function*(){const t=this.storage[e];return t===void 0?null:t})}_remove(e){return k(this,null,function*(){delete this.storage[e]})}_addListener(e,t){}_removeListener(e,t){}}E_.type="NONE";const Vg=E_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(i,e,t){return`firebase:${i}:${e}:${t}`}class go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Wu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Wu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return k(this,null,function*(){const e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=yield ic(this.auth,{idToken:e}).catch(()=>{});return t?bn._fromGetAccountInfoResponse(this.auth,t,e):null}return bn._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return k(this,null,function*(){if(this.persistence===e)return;const t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,s="authUser"){return k(this,null,function*(){if(!t.length)return new go(Rr(Vg),e,s);const o=(yield Promise.all(t.map(_=>k(null,null,function*(){if(yield _._isAvailable())return _})))).filter(_=>_);let l=o[0]||Rr(Vg);const h=Wu(s,e.config.apiKey,e.name);let m=null;for(const _ of t)try{const T=yield _._get(h);if(T){let I;if(typeof T=="string"){const P=yield ic(e,{idToken:T}).catch(()=>{});if(!P)break;I=yield bn._fromGetAccountInfoResponse(e,P,T)}else I=bn._fromJSON(e,T);_!==l&&(m=I),l=_;break}}catch(T){}const g=o.filter(_=>_._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new go(l,e,s):(l=g[0],m&&(yield l._set(h,m.toJSON())),yield Promise.all(t.map(_=>k(null,null,function*(){if(_!==l)try{yield _._remove(h)}catch(T){}}))),new go(l,e,s))})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x_(e))return"Blackberry";if(C_(e))return"Webos";if(T_(e))return"Safari";if((e.includes("chrome/")||I_(e))&&!e.includes("edge/"))return"Chrome";if(A_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function w_(i=$t()){return/firefox\//i.test(i)}function T_(i=$t()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I_(i=$t()){return/crios\//i.test(i)}function S_(i=$t()){return/iemobile/i.test(i)}function A_(i=$t()){return/android/i.test(i)}function x_(i=$t()){return/blackberry/i.test(i)}function C_(i=$t()){return/webos/i.test(i)}function hf(i=$t()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function QT(i=$t()){var e;return hf(i)&&!!((e=window.navigator)!=null&&e.standalone)}function YT(){return c0()&&document.documentMode===10}function k_(i=$t()){return hf(i)||A_(i)||C_(i)||x_(i)||/windows phone/i.test(i)||S_(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(i,e=[]){let t;switch(i){case"Browser":t=bg($t());break;case"Worker":t=`${bg($t())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){return k(this,null,function*(){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)yield s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch(l){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return k(this,arguments,function*(i,e={}){return Pi(i,"GET","/v2/passwordPolicy",gs(i,e))})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=6;class eI{constructor(e){var s,o,l,h;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=t.minPasswordLength)!=null?s:ZT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(o=e.allowedNonAlphanumericCharacters)==null?void 0:o.join(""))!=null?l:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!=null?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,o,l,h,m,g;const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=(s=t.meetsMinPasswordLength)!=null?s:!0),t.isValid&&(t.isValid=(o=t.meetsMaxPasswordLength)!=null?o:!0),t.isValid&&(t.isValid=(l=t.containsLowercaseLetter)!=null?l:!0),t.isValid&&(t.isValid=(h=t.containsUppercaseLetter)!=null?h:!0),t.isValid&&(t.isValid=(m=t.containsNumericCharacter)!=null?m:!0),t.isValid&&(t.isValid=(g=t.containsNonAlphanumericCharacter)!=null?g:!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Og(this),this.idTokenSubscription=new Og(this),this.beforeStateQueue=new XT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(()=>k(this,null,function*(){var s,o,l;if(!this._deleted&&(this.persistenceManager=yield go.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(h){}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return k(this,null,function*(){if(this._deleted)return;const e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return k(this,null,function*(){try{const t=yield ic(this,{idToken:e}),s=yield bn._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return k(this,null,function*(){var l;if(Vn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const t=yield this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const h=(l=this.redirectUser)==null?void 0:l._redirectEventId,m=s==null?void 0:s._redirectEventId,g=yield this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return k(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(s){yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return k(this,null,function*(){try{yield sc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=VT()}_delete(){return k(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return k(this,null,function*(){if(Vn(this.app))return Promise.reject(Ei(this));const t=e?xt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return k(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>k(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return k(this,null,function*(){return Vn(this.app)?Promise.reject(Ei(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Vn(this.app)?Promise.reject(Ei(this)):this.queue(()=>k(this,null,function*(){yield this.assertedPersistence.setPersistence(Rr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return k(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return k(this,null,function*(){const e=yield JT(this),t=new eI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}revokeAccessToken(e){return k(this,null,function*(){if(this.currentUser){const t=yield this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),yield KT(this,s)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}_setRedirectUser(e,t){return k(this,null,function*(){const s=yield this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return k(this,null,function*(){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=yield go.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return k(this,null,function*(){var t,s;return this._isInitialized&&(yield this.queue(()=>k(this,null,function*(){}))),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return k(this,null,function*(){if(e===this.currentUser)return this.queue(()=>k(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=(s=(t=this.currentUser)==null?void 0:t.uid)!=null?s:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}directlySetCurrentUser(e){return k(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return k(this,null,function*(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=yield(o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=yield this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e})}_getAppCheckToken(){return k(this,null,function*(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken();return e!=null&&e.error&&PT(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token})}}function Do(i){return xt(i)}class Og{constructor(e){this.auth=e,this.observer=null,this.addObserver=_0(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc={loadJS(){return k(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(i){Tc=i}function P_(i){return Tc.loadJS(i)}function rI(){return Tc.recaptchaEnterpriseScript}function iI(){return Tc.gapiScript}function sI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class oI{constructor(){this.enterprise=new aI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lI="recaptcha-enterprise",N_="NO_RECAPTCHA";class uI{constructor(e){this.type=lI,this.auth=Do(e)}verify(e="verify",t=!1){return k(this,null,function*(){function s(l){return k(this,null,function*(){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise((h,m)=>k(null,null,function*(){UT(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new FT(g);return l.tenantId==null?l._agentRecaptchaConfig=_:l._tenantRecaptchaConfigs[l.tenantId]=_,h(_.siteKey)}}).catch(g=>{m(g)})}))})}function o(l,h,m){const g=window.grecaptcha;Pg(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(_=>{h(_)}).catch(()=>{h(N_)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oI().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(m=>{if(!t&&Pg(window.grecaptcha))o(m,l,h);else{if(typeof window=="undefined"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=rI();g.length!==0&&(g+=m),P_(g).then(()=>{o(m,l,h)}).catch(_=>{h(_)})}}).catch(m=>{h(m)})})})}}function Lg(i,e,t,s=!1,o=!1){return k(this,null,function*(){const l=new uI(i);let h;if(o)h=N_;else try{h=yield l.verify(t)}catch(g){h=yield l.verify(t,!0)}const m=Ne({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m})}function Mg(i,e,t,s,o){return k(this,null,function*(){var l;if((l=i._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=yield Lg(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(h=>k(null,null,function*(){if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=yield Lg(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)}))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(i,e){const t=af(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(cs(l,e!=null?e:{}))return o;Ln(o,"already-initialized")}return t.initialize({options:e})}function hI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function dI(i,e,t){const s=Do(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=D_(e),{host:h,port:m}=fI(e),g=m===null?"":`:${m}`,_={url:`${l}//${h}${g}/`},T=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(cs(_,s.config.emulator)&&cs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Po(h)?(s_(`${l}//${h}${g}`),o_("Auth",!0)):pI()}function D_(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fI(i){const e=D_(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:jg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:jg(h)}}}function jg(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,t){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}function mI(i,e){return k(this,null,function*(){return Pi(i,"POST","/v1/accounts:signUp",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(i,e){return k(this,null,function*(){return wc(i,"POST","/v1/accounts:signInWithPassword",gs(i,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i,e){return k(this,null,function*(){return wc(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))})}function _I(i,e){return k(this,null,function*(){return wc(i,"POST","/v1/accounts:signInWithEmailLink",gs(i,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends df{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Qa(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Qa(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return k(this,null,function*(){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,t,"signInWithPassword",gI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_linkToIdToken(e,t){return k(this,null,function*(){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mg(e,s,"signUpPassword",mI);case"emailLink":return _I(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(i,e){return k(this,null,function*(){return wc(i,"POST","/v1/accounts:signInWithIdp",gs(i,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class ds extends df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const m=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=m,l=lo(m,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ds(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return yo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yo(e,t)}buildRequest(){const e={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=il(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wI(i){const e=Oa(La(i)).link,t=e?Oa(La(e)).deep_link_id:null,s=Oa(La(i)).deep_link_id;return(s?Oa(La(s)).link:null)||s||t||e||i}class ff{constructor(e){var h,m,g,_,T,I;const t=Oa(La(e)),s=(h=t.apiKey)!=null?h:null,o=(m=t.oobCode)!=null?m:null,l=EI((g=t.mode)!=null?g:null);ve(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=(_=t.continueUrl)!=null?_:null,this.languageCode=(T=t.lang)!=null?T:null,this.tenantId=(I=t.tenantId)!=null?I:null}static parseLink(e){const t=wI(e);try{return new ff(t)}catch(s){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return Qa._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ff.parseLink(t);return ve(s,"argument-error"),Qa._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends V_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends ol{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch(t){return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ds._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return fi.credential(t,s)}catch(o){return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ol{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch(t){return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends ol{constructor(){super("twitter.com")}static credential(e,t){return ds._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return mi.credential(t,s)}catch(o){return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,s,o=!1){return k(this,null,function*(){const l=yield bn._fromIdTokenResponse(e,s,o),h=Fg(s);return new Io({user:l,providerId:h,_tokenResponse:s,operationType:t})})}static _forOperation(e,t,s){return k(this,null,function*(){yield e._updateTokensIfNecessary(s,!0);const o=Fg(s);return new Io({user:e,providerId:o,_tokenResponse:s,operationType:t})})}}function Fg(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends br{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!=null?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new oc(e,t,s,o)}}function b_(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(i,l,e,s):l})}function TI(i,e,t=!1){return k(this,null,function*(){const s=yield Ka(i,e._linkToIdToken(i.auth,yield i.getIdToken()),t);return Io._forOperation(i,"link",s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(i,e,t=!1){return k(this,null,function*(){const{auth:s}=i;if(Vn(s.app))return Promise.reject(Ei(s));const o="reauthenticate";try{const l=yield Ka(i,b_(s,o,e,i),t);ve(l.idToken,s,"internal-error");const h=cf(l.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),Io._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ln(s,"user-mismatch"),l}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(i,e,t=!1){return k(this,null,function*(){if(Vn(i.app))return Promise.reject(Ei(i));const s="signIn",o=yield b_(i,s,e),l=yield Io._fromIdTokenResponse(i,s,o);return t||(yield i._updateCurrentUser(l.user)),l})}function SI(i,e){return k(this,null,function*(){return O_(Do(i),e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(i){return k(this,null,function*(){const e=Do(i);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function xI(i,e,t){return Vn(i.app)?Promise.reject(Ei(i)):SI(xt(i),Vo.credential(e,t)).catch(s=>k(null,null,function*(){throw s.code==="auth/password-does-not-meet-requirements"&&AI(i),s}))}function CI(i,e,t,s){return xt(i).onIdTokenChanged(e,t,s)}function kI(i,e,t){return xt(i).beforeAuthStateChanged(e,t)}function RI(i,e,t,s){return xt(i).onAuthStateChanged(e,t,s)}function PI(i){return xt(i).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=1e3,DI=10;class _o extends L_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);YT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,t){return k(this,null,function*(){yield os(_o.prototype,this,"_set").call(this,e,t),this.localCache[e]=JSON.stringify(t)})}_get(e){return k(this,null,function*(){const t=yield os(_o.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(t),t})}_remove(e){return k(this,null,function*(){yield os(_o.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}_o.type="LOCAL";const VI=_o;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends L_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M_.type="SESSION";const j_=M_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){return Promise.all(i.map(e=>k(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Ic(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}handleEvent(e){return k(this,null,function*(){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(_=>k(this,null,function*(){return _(t.origin,l)})),g=yield bI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ic.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,s=50){return k(this,null,function*(){const o=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const _=pf("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(I){const P=I;if(P.data.eventId===_)switch(P.data.status){case"ack":clearTimeout(T),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(P.data.response);break;default:clearTimeout(T),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function LI(i){ir().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){return typeof ir().WorkerGlobalScope!="undefined"&&typeof ir().importScripts=="function"}function MI(){return k(this,null,function*(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(i){return null}})}function jI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function FI(){return F_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="firebaseLocalStorageDb",UI=1,lc="firebaseLocalStorage",z_="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Sc(i,e){return i.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function zI(){const i=indexedDB.deleteDatabase(U_);return new al(i).toPromise()}function Ld(){const i=indexedDB.open(U_,UI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lc,{keyPath:z_})}catch(o){t(o)}}),i.addEventListener("success",()=>k(null,null,function*(){const s=i.result;s.objectStoreNames.contains(lc)?e(s):(s.close(),yield zI(),e(yield Ld()))}))})}function Ug(i,e,t){return k(this,null,function*(){const s=Sc(i,!0).put({[z_]:e,value:t});return new al(s).toPromise()})}function BI(i,e){return k(this,null,function*(){const t=Sc(i,!1).get(e),s=yield new al(t).toPromise();return s===void 0?null:s.value})}function zg(i,e){const t=Sc(i,!0).delete(e);return new al(t).toPromise()}const $I=800,qI=3;class B_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return k(this,null,function*(){return this.db?this.db:(this.db=yield Ld(),this.db)})}_withRetries(e){return k(this,null,function*(){let t=0;for(;;)try{const s=yield this._openDb();return yield e(s)}catch(s){if(t++>qI)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return k(this,null,function*(){return F_()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return k(this,null,function*(){this.receiver=Ic._getInstance(FI()),this.receiver._subscribe("keyChanged",(e,t)=>k(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(t.key)}})),this.receiver._subscribe("ping",(e,t)=>k(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return k(this,null,function*(){var t,s;if(this.activeServiceWorker=yield MI(),!this.activeServiceWorker)return;this.sender=new OI(this.activeServiceWorker);const e=yield this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return k(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jI()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}})}_isAvailable(){return k(this,null,function*(){try{if(!indexedDB)return!1;const e=yield Ld();return yield Ug(e,ac,"1"),yield zg(e,ac),!0}catch(e){}return!1})}_withPendingWrite(e){return k(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,t){return k(this,null,function*(){return this._withPendingWrite(()=>k(this,null,function*(){return yield this._withRetries(s=>Ug(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)}))})}_get(e){return k(this,null,function*(){const t=yield this._withRetries(s=>BI(s,e));return this.localCache[e]=t,t})}_remove(e){return k(this,null,function*(){return this._withPendingWrite(()=>k(this,null,function*(){return yield this._withRetries(t=>zg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return k(this,null,function*(){const e=yield this._withRetries(o=>{const l=Sc(o,!1).getAll();return new al(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t})}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>k(this,null,function*(){return this._poll()}),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B_.type="LOCAL";const HI=B_;new sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i,e){return e?Rr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GI(i){return O_(i.auth,new mf(i),i.bypassAuthState)}function KI(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),II(t,new mf(i),i.bypassAuthState)}function QI(i){return k(this,null,function*(){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),TI(t,new mf(i),i.bypassAuthState)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>k(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}}))}onAuthEvent(e){return k(this,null,function*(){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(m)(g))}catch(_){this.reject(_)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return QI;case"reauthViaPopup":case"reauthViaRedirect":return KI;default:Ln(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new sl(2e3,1e4);class po extends $_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}executeNotNull(){return k(this,null,function*(){const e=yield this.execute();return ve(e,this.auth,"internal-error"),e})}onExecution(){return k(this,null,function*(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=pf();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YI.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="pendingRedirect",Gu=new Map;class Ba extends $_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}execute(){return k(this,null,function*(){let e=Gu.get(this.auth._key());if(!e){try{const s=(yield JI(this.resolver,this.auth))?yield os(Ba.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Gu.set(this.auth._key(),e)}return this.bypassAuthState||Gu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return k(this,null,function*(){if(e.type==="signInViaRedirect")return os(Ba.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,os(Ba.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return k(this,null,function*(){})}cleanUp(){}}function JI(i,e){return k(this,null,function*(){const t=t1(e),s=e1(i);if(!(yield s._isAvailable()))return!1;const o=(yield s._get(t))==="true";return yield s._remove(t),o})}function ZI(i,e){Gu.set(i._key(),e)}function e1(i){return Rr(i._redirectPersistence)}function t1(i){return Wu(XI,i.config.apiKey,i.name)}function n1(i,e,t=!1){return k(this,null,function*(){if(Vn(i.app))return Promise.reject(Ei(i));const s=Do(i),o=WI(s,e),h=yield new Ba(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,yield s._persistUserIfCurrent(h.user),yield s._setRedirectUser(null,e)),h})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=600*1e3;class i1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!s1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!q_(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bg(e))}saveEventToCache(e){this.cachedEventUids.add(Bg(e)),this.lastProcessedEventTime=Date.now()}}function Bg(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function q_({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function s1(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q_(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){return k(this,arguments,function*(i,e={}){return Pi(i,"GET","/v1/projects",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l1=/^https?/;function u1(i){return k(this,null,function*(){if(i.config.emulator)return;const{authorizedDomains:e}=yield o1(i);for(const t of e)try{if(c1(t))return}catch(s){}Ln(i,"unauthorized-domain")})}function c1(i){const e=bd(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!l1.test(t))return!1;if(a1.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new sl(3e4,6e4);function $g(){const i=ir().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function d1(i){return new Promise((e,t)=>{var o,l,h;function s(){$g(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$g(),t(rr(i,"network-request-failed"))},timeout:h1.get()})}if((l=(o=ir().gapi)==null?void 0:o.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((h=ir().gapi)!=null&&h.load)s();else{const m=sI("iframefcb");return ir()[m]=()=>{gapi.load?s():t(rr(i,"network-request-failed"))},P_(`${iI()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Ku=null,e})}let Ku=null;function f1(i){return Ku=Ku||d1(i),Ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new sl(5e3,15e3),m1="__/auth/iframe",g1="emulator/auth/iframe",y1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v1(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?uf(e,g1):`https://${i.config.authDomain}/${m1}`,s={apiKey:e.apiKey,appName:i.name,v:No},o=_1.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${il(s).slice(1)}`}function E1(i){return k(this,null,function*(){const e=yield f1(i),t=ir().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:v1(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y1,dontclear:!0},s=>new Promise((o,l)=>k(null,null,function*(){yield s.restyle({setHideOnLeave:!1});const h=rr(i,"network-request-failed"),m=ir().setTimeout(()=>{l(h)},p1.get());function g(){ir().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(h)})})))})}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T1=500,I1=600,S1="_blank",A1="http://localhost";class qg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function x1(i,e,t,s=T1,o=I1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=En(Ne({},w1),{width:s.toString(),height:o.toString(),top:l,left:h}),_=$t().toLowerCase();t&&(m=I_(_)?S1:t),w_(_)&&(e=e||A1,g.scrollbars="yes");const T=Object.entries(g).reduce((P,[B,J])=>`${P}${B}=${J},`,"");if(QT(_)&&m!=="_self")return C1(e||"",m),new qg(null);const I=window.open(e||"",m,T);ve(I,i,"popup-blocked");try{I.focus()}catch(P){}return new qg(I)}function C1(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="__/auth/handler",R1="emulator/auth/handler",P1=encodeURIComponent("fac");function Hg(i,e,t,s,o,l){return k(this,null,function*(){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:No,eventId:o};if(e instanceof V_){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",y0(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,I]of Object.entries({}))h[T]=I}if(e instanceof ol){const T=e.getScopes().filter(I=>I!=="");T.length>0&&(h.scopes=T.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=yield i._getAppCheckToken(),_=g?`#${P1}=${encodeURIComponent(g)}`:"";return`${N1(i)}?${il(m).slice(1)}${_}`})}function N1({config:i}){return i.emulator?uf(i,R1):`https://${i.authDomain}/${k1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class D1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j_,this._completeRedirectFn=n1,this._overrideRedirectResult=ZI}_openPopup(e,t,s,o){return k(this,null,function*(){var h;Nr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const l=yield Hg(e,t,s,bd(),o);return x1(e,l,pf())})}_openRedirect(e,t,s,o){return k(this,null,function*(){yield this._originValidation(e);const l=yield Hg(e,t,s,bd(),o);return LI(l),new Promise(()=>{})})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Nr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}initAndGetManager(e){return k(this,null,function*(){const t=yield E1(e),s=new i1(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Td,{type:Td},o=>{var h;const l=(h=o==null?void 0:o[0])==null?void 0:h[Td];l!==void 0&&t(!!l),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=u1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return k_()||T_()||hf()}}const V1=D1;var Wg="@firebase/auth",Gg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}getToken(e){return k(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L1(i){To(new hs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R_(i)},_=new tI(s,o,l,g);return hI(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),To(new hs("auth-internal",e=>{const t=Do(e.getProvider("auth").getImmediate());return(s=>new b1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(Wg,Gg,O1(i)),vi(Wg,Gg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=300,j1=i_("authIdTokenMaxAge")||M1;let Kg=null;const F1=i=>e=>k(null,null,function*(){const t=e&&(yield e.getIdTokenResult()),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>j1)return;const o=t==null?void 0:t.token;Kg!==o&&(Kg=o,yield fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});function U1(i=c_()){const e=af(i,"auth");if(e.isInitialized())return e.getImmediate();const t=cI(i,{popupRedirectResolver:V1,persistence:[HI,VI,j_]}),s=i_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=F1(l.toString());kI(t,h,()=>h(t.currentUser)),CI(t,m=>h(m))}}const o=n_("auth");return o&&dI(t,`http://${o}`),t}function z1(){var i,e;return(e=(i=document.getElementsByTagName("head"))==null?void 0:i[0])!=null?e:document}nI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=rr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",z1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L1("Browser");var B1="firebase",$1="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(B1,$1,"app");var Qg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wi,H_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,D,L){for(var x=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)x[$e-2]=arguments[$e];return A.prototype[D].apply(V,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],D=R.g[2];let L=R.g[3],x;x=A+(L^C&(D^L))+V[0]+3614090360&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(D^A&(C^D))+V[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(C^L&(A^C))+V[2]+606105819&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(A^D&(L^A))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(L^C&(D^L))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(D^A&(C^D))+V[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(C^L&(A^C))+V[6]+2821735955&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(A^D&(L^A))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(L^C&(D^L))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(D^A&(C^D))+V[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(C^L&(A^C))+V[10]+4294925233&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(A^D&(L^A))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(L^C&(D^L))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=L+(D^A&(C^D))+V[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=D+(C^L&(A^C))+V[14]+2792965006&4294967295,D=L+(x<<17&4294967295|x>>>15),x=C+(A^D&(L^A))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=A+(D^L&(C^D))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(A^C))+V[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(L^A))+V[11]+643717713&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(D^L))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(C^D))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(A^C))+V[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(L^A))+V[15]+3634488961&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(D^L))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(C^D))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(A^C))+V[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(L^A))+V[3]+4107603335&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(D^L))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(D^L&(C^D))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=L+(C^D&(A^C))+V[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=D+(A^C&(L^A))+V[7]+1735328473&4294967295,D=L+(x<<14&4294967295|x>>>18),x=C+(L^A&(D^L))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=A+(C^D^L)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^D)+V[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^C)+V[11]+1839030562&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^A)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^L)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^D)+V[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^C)+V[7]+4139469664&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^A)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^L)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^D)+V[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^C)+V[3]+3572445317&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^A)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(C^D^L)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=L+(A^C^D)+V[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=D+(L^A^C)+V[15]+530742520&4294967295,D=L+(x<<16&4294967295|x>>>16),x=C+(D^L^A)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=A+(D^(C|~L))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~D))+V[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~C))+V[14]+2878612391&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~A))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~L))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~D))+V[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~C))+V[10]+4293915773&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~A))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~L))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~D))+V[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~C))+V[6]+2734768916&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~A))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=A+(D^(C|~L))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=L+(C^(A|~D))+V[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=D+(A^(L|~C))+V[2]+718787259&4294967295,D=L+(x<<15&4294967295|x>>>17),x=C+(L^(D|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=C;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<A;)if(V[D++]=R.charCodeAt(L++),D==this.blockSize){o(this,V),D=0;break}}else for(;L<A;)if(V[D++]=R[L++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[A++]=this.g[C]>>>V&255;return R};function l(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function h(R,A){this.h=A;const C=[];let V=!0;for(let D=R.length-1;D>=0;D--){const L=R[D]|0;V&&L==A||(C[D]=L,V=!1)}this.g=C}var m={};function g(R){return-128<=R&&R<128?l(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return I;if(R<0)return q(_(-R));const A=[];let C=1;for(let V=0;R>=C;V++)A[V]=R/C|0,C*=4294967296;return new h(A,0)}function T(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return q(T(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(A,8));let V=I;for(let L=0;L<R.length;L+=8){var D=Math.min(8,R.length-L);const x=parseInt(R.substring(L,L+D),A);D<8?(D=_(Math.pow(A,D)),V=V.j(D).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var I=g(0),P=g(1),B=g(16777216);i=h.prototype,i.m=function(){if(G(this))return-q(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(J(this))return"0";if(G(this))return"-"+q(this).toString(R);const A=_(Math.pow(R,6));var C=this;let V="";for(;;){const D=xe(C,A).g;C=pe(C,D.j(A));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=D,J(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function J(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function G(R){return R.h==-1}i.l=function(R){return R=pe(this,R),G(R)?-1:J(R)?0:1};function q(R){const A=R.g.length,C=[];for(let V=0;V<A;V++)C[V]=~R.g[V];return new h(C,~R.h).add(P)}i.abs=function(){return G(this)?q(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let D=0;D<=A;D++){let L=V+(this.i(D)&65535)+(R.i(D)&65535),x=(L>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=x>>>16,L&=65535,x&=65535,C[D]=x<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function pe(R,A){return R.add(q(A))}i.j=function(R){if(J(this)||J(R))return I;if(G(this))return G(R)?q(this).j(q(R)):q(q(this).j(R));if(G(R))return q(this.j(q(R)));if(this.l(B)<0&&R.l(B)<0)return _(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const L=this.i(V)>>>16,x=this.i(V)&65535,$e=R.i(D)>>>16,tt=R.i(D)&65535;C[2*V+2*D]+=x*tt,de(C,2*V+2*D),C[2*V+2*D+1]+=L*tt,de(C,2*V+2*D+1),C[2*V+2*D+1]+=x*$e,de(C,2*V+2*D+1),C[2*V+2*D+2]+=L*$e,de(C,2*V+2*D+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new h(C,0)};function de(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function we(R,A){this.g=R,this.h=A}function xe(R,A){if(J(A))throw Error("division by zero");if(J(R))return new we(I,I);if(G(R))return A=xe(q(R),A),new we(q(A.g),q(A.h));if(G(A))return A=xe(R,q(A)),new we(q(A.g),A.h);if(R.g.length>30){if(G(R)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var C=P,V=A;V.l(R)<=0;)C=je(C),V=je(V);var D=Ce(C,1),L=Ce(V,1);for(V=Ce(V,2),C=Ce(C,2);!J(V);){var x=L.add(V);x.l(R)<=0&&(D=D.add(C),L=x),V=Ce(V,1),C=Ce(C,1)}return A=pe(R,D.j(A)),new we(D,A)}for(D=I;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(C),x=L.j(A);G(x)||x.l(R)>0;)C-=V,L=_(C),x=L.j(A);J(L)&&(L=P),D=D.add(L),R=pe(R,x)}return new we(D,R)}i.B=function(R){return xe(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&R.i(V);return new h(C,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|R.i(V);return new h(C,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^R.i(V);return new h(C,this.h^R.h)};function je(R){const A=R.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new h(C,R.h)}function Ce(R,A){const C=A>>5;A%=32;const V=R.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=A>0?R.i(L+C)>>>A|R.i(L+C+1)<<32-A:R.i(L+C);return new h(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,H_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=T,wi=h}).apply(typeof Qg!="undefined"?Qg:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Ou=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W_,Ma,G_,Qu,Md,K_,Q_,Y_;(function(){var i,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ou=="object"&&Ou];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var j=u[w];if(!(j in y))break e;y=y[j]}u=u[u.length-1],w=y[u],p=p(w),p!=w&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var y=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&y.push([w,p[w]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,y){return u.call.apply(u.bind,arguments)}function _(u,p,y){return _=g,_.apply(null,arguments)}function T(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function I(u,p){function y(){}y.prototype=p.prototype,u.Z=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(w,j,z){for(var Z=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)Z[Se-2]=arguments[Se];return p.prototype[j].apply(w,Z)}}var P=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const p=u.length;if(p>0){const y=Array(p);for(let w=0;w<p;w++)y[w]=u[w];return y}return[]}function J(u,p){for(let w=1;w<arguments.length;w++){const j=arguments[w];var y=typeof j;if(y=y!="object"?y:j?Array.isArray(j)?"array":y:"null",y=="array"||y=="object"&&typeof j.length=="number"){y=u.length||0;const z=j.length||0;u.length=y+z;for(let Z=0;Z<z;Z++)u[y+Z]=j[Z]}else u.push(j)}}class G{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(u){h.setTimeout(()=>{throw u},0)}function pe(){var u=R;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,y){const w=we.get();w.set(p,y),this.h?this.h.next=w:this.g=w,this.h=w}}var we=new G(()=>new xe,u=>u.reset());class xe{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Ce=!1,R=new de,A=()=>{const u=Promise.resolve(void 0);je=()=>{u.then(C)}};function C(){for(var u;u=pe();){try{u.h.call(u.g)}catch(y){q(y)}var p=we;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,p),h.removeEventListener("test",y,p)}catch(y){}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function $e(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}I($e,D),$e.prototype.init=function(u,p){const y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var tt="closure_listenable_"+(Math.random()*1e6|0),at=0;function Fe(u,p,y,w,j){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!w,this.ha=j,this.key=++at,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,p,y){for(const w in u)p.call(y,u[w],w,u)}function ie(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function O(u){const p={};for(const y in u)p[y]=u[y];return p}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(u,p){let y,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(y in w)u[y]=w[y];for(let z=0;z<W.length;z++)y=W[z],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function te(u){this.src=u,this.g={},this.h=0}te.prototype.add=function(u,p,y,w,j){const z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);const Z=me(u,p,w,j);return Z>-1?(p=u[Z],y||(p.fa=!1)):(p=new Fe(p,this.src,z,!!w,j),p.fa=y,u.push(p)),p};function he(u,p){const y=p.type;if(y in u.g){var w=u.g[y],j=Array.prototype.indexOf.call(w,p,void 0),z;(z=j>=0)&&Array.prototype.splice.call(w,j,1),z&&(ee(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function me(u,p,y,w){for(let j=0;j<u.length;++j){const z=u[j];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==w)return j}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Le={};function ge(u,p,y,w,j){if(Array.isArray(p)){for(let z=0;z<p.length;z++)ge(u,p[z],y,w,j);return null}return y=Uo(y),u&&u[tt]?u.J(p,y,m(w)?!!w.capture:!1,j):qt(u,p,y,!1,w,j)}function qt(u,p,y,w,j,z){if(!p)throw Error("Invalid event type");const Z=m(j)?!!j.capture:!!j;let Se=Ts(u);if(Se||(u[ze]=Se=new te(u)),y=Se.add(p,y,w,Z,z),y.proxy)return y;if(w=Es(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)L||(j=Z),j===void 0&&(j=!1),u.addEventListener(p.toString(),w,j);else if(u.attachEvent)u.attachEvent(ws(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Es(){function u(y){return p.call(u.src,u.listener,y)}const p=yl;return u}function Fo(u,p,y,w,j){if(Array.isArray(p))for(var z=0;z<p.length;z++)Fo(u,p[z],y,w,j);else w=m(w)?!!w.capture:!!w,y=Uo(y),u&&u[tt]?(u=u.i,z=String(p).toString(),z in u.g&&(p=u.g[z],y=me(p,y,w,j),y>-1&&(ee(p[y]),Array.prototype.splice.call(p,y,1),p.length==0&&(delete u.g[z],u.h--)))):u&&(u=Ts(u))&&(p=u.g[p.toString()],u=-1,p&&(u=me(p,y,w,j)),(y=u>-1?p[u]:null)&&Or(y))}function Or(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[tt])he(p.i,u);else{var y=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(y,w,u.capture):p.detachEvent?p.detachEvent(ws(y),w):p.addListener&&p.removeListener&&p.removeListener(w),(y=Ts(p))?(he(y,u),y.h==0&&(y.src=null,p[ze]=null)):ee(u)}}}function ws(u){return u in Le?Le[u]:Le[u]="on"+u}function yl(u,p){if(u.da)u=!0;else{p=new $e(p,this);const y=u.listener,w=u.ha||u.src;u.fa&&Or(u),u=y.call(w,p)}return u}function Ts(u){return u=u[ze],u instanceof te?u:null}var Vi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(u){return typeof u=="function"?u:(u[Vi]||(u[Vi]=function(p){return u.handleEvent(p)}),u[Vi])}function dt(){V.call(this),this.i=new te(this),this.M=this,this.G=null}I(dt,V),dt.prototype[tt]=!0,dt.prototype.removeEventListener=function(u,p,y,w){Fo(this,u,p,y,w)};function lt(u,p){var y,w=u.G;if(w)for(y=[];w;w=w.G)y.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var j=p;p=new D(w,u),ke(p,j)}j=!0;let z,Z;if(y)for(Z=y.length-1;Z>=0;Z--)z=p.g=y[Z],j=In(z,w,!0,p)&&j;if(z=p.g=u,j=In(z,w,!0,p)&&j,j=In(z,w,!1,p)&&j,y)for(Z=0;Z<y.length;Z++)z=p.g=y[Z],j=In(z,w,!1,p)&&j}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const y=u.g[p];for(let w=0;w<y.length;w++)ee(y[w]);delete u.g[p],u.h--}}this.G=null},dt.prototype.J=function(u,p,y,w){return this.i.add(String(u),p,!1,y,w)},dt.prototype.K=function(u,p,y,w){return this.i.add(String(u),p,!0,y,w)};function In(u,p,y,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let j=!0;for(let z=0;z<p.length;++z){const Z=p[z];if(Z&&!Z.da&&Z.capture==y){const Se=Z.listener,ut=Z.ha||Z.src;Z.fa&&he(u.i,Z),j=Se.call(ut,w)!==!1&&j}}return j&&!w.defaultPrevented}function zo(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:h.setTimeout(u,p||0)}function Bo(u){u.g=zo(()=>{u.g=null,u.i&&(u.i=!1,Bo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class _l extends V{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){V.call(this),this.h=u,this.g={}}I(Lr,V);var $o=[];function Is(u){ce(u.g,function(p,y){this.g.hasOwnProperty(y)&&Or(p)},u),u.g={}}Lr.prototype.N=function(){Lr.Z.N.call(this),Is(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mr=h.JSON.stringify,vl=h.JSON.parse,bi=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function jr(){}function El(){}var Fr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){D.call(this,"d")}I(Ss,D);function qo(){D.call(this,"c")}I(qo,D);var Sn={},As=null;function Ur(){return As=As||new dt}Sn.Ia="serverreachability";function xs(u){D.call(this,Sn.Ia,u)}I(xs,D);function cr(u){const p=Ur();lt(p,new xs(p))}Sn.STAT_EVENT="statevent";function hr(u,p){D.call(this,Sn.STAT_EVENT,u),this.stat=p}I(hr,D);function st(u){const p=Ur();lt(p,new hr(p,u))}Sn.Ja="timingevent";function Ho(u,p){D.call(this,Sn.Ja,u),this.size=p}I(Ho,D);function zr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},p)}function Br(){this.g=!0}Br.prototype.ua=function(){this.g=!1};function wl(u,p,y,w,j,z){u.info(function(){if(u.g)if(z){var Z="",Se=z.split("&");for(let We=0;We<Se.length;We++){var ut=Se[We].split("=");if(ut.length>1){const ft=ut[0];ut=ut[1];const an=ft.split("_");Z=an.length>=2&&an[1]=="type"?Z+(ft+"="+ut+"&"):Z+(ft+"=redacted&")}}}else Z=null;else Z=z;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+p+`
`+y+`
`+Z})}function Tl(u,p,y,w,j,z,Z){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+p+`
`+y+`
`+z+" "+Z})}function jn(u,p,y,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Oi(u,y)+(w?" "+w:"")})}function Il(u,p){u.info(function(){return"TIMEOUT: "+p})}Br.prototype.info=function(){};function Oi(u,p){if(!u.g)return p;if(!p)return null;try{const z=JSON.parse(p);if(z){for(u=0;u<z.length;u++)if(Array.isArray(z[u])){var y=z[u];if(!(y.length<2)){var w=y[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let Z=1;Z<w.length;Z++)w[Z]=""}}}}return Mr(z)}catch(z){return p}}var $r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function dr(){}I(dr,jr),dr.prototype.g=function(){return new XMLHttpRequest},Sl=new dr;function Fn(u){return encodeURIComponent(String(u))}function Cs(u){var p=1;u=u.split(":");const y=[];for(;p>0&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function dn(u,p,y,w){this.j=u,this.i=p,this.l=y,this.S=w||1,this.V=new Lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}var xl={},Wo={};function An(u,p,y){u.M=1,u.A=pr(fn(p)),u.u=y,u.R=!0,Go(u,null)}function Go(u,p){u.F=Date.now(),Li(u),u.B=fn(u.A);var y=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ra(y.i,"t",w),u.C=0,y=u.j.L,u.h=new Al,u.g=Ll(u.j,y?p:null,!u.u),u.P>0&&(u.O=new _l(_(u.Y,u,u.g),u.P)),p=u.V,y=u.g,w=u.ba;var j="readystatechange";Array.isArray(j)||(j&&($o[0]=j.toString()),j=$o);for(let z=0;z<j.length;z++){const Z=ge(y,j[z],w||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),cr(),wl(u.i,u.v,u.B,u.l,u.S,u.u)}dn.prototype.ba=function(u){u=u.target;const p=this.O;p&&Wn(u)==3?p.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)e:{const Se=Wn(this.g),ut=this.g.ya(),We=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||bl(this.g)))){this.K||Se!=4||ut==7||(ut==8||We<=0?cr(3):cr(2)),ks(this);var p=this.g.ca();this.X=p;var y=Cl(this);if(this.o=p==200,Tl(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var z=w;break t}}z=null}if(u=z)jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,u);else{this.o=!1,this.m=3,st(12),fr(this),Mi(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<y.length;)if(ft=Rl(this,y),ft==Wo){Se==4&&(this.m=4,st(14),u=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==xl){this.m=4,st(15),jn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else jn(this.i,this.l,ft,null),Ye(this,ft);if(kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||y.length!=0||this.h.h||(this.m=1,st(16),u=!1),this.o=this.o&&u,!u)jn(this.i,this.l,y,"[Invalid Chunked Response]"),fr(this),Mi(this);else if(y.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Wi(Z),Z.P=!0,st(11))}}else jn(this.i,this.l,y,null),Ye(this,y);Se==4&&fr(this),this.o&&!this.K&&(Se==4?js(this.j,this):(this.o=!1,Li(this)))}else sa(this.g),p==400&&y.indexOf("Unknown SID")>0?(this.m=3,st(12)):(this.m=0,st(13)),fr(this),Mi(this)}}}catch(Se){}finally{}};function Cl(u){if(!kl(u))return u.g.la();const p=bl(u.g);if(p==="")return"";let y="";const w=p.length,j=Wn(u.g)==4;if(!u.h.i){if(typeof TextDecoder=="undefined")return fr(u),Mi(u),"";u.h.i=new h.TextDecoder}for(let z=0;z<w;z++)u.h.h=!0,y+=u.h.i.decode(p[z],{stream:!(j&&z==w-1)});return p.length=0,u.h.g+=y,u.C=0,u.h.g}function kl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Rl(u,p){var y=u.C,w=p.indexOf(`
`,y);return w==-1?Wo:(y=Number(p.substring(y,w)),isNaN(y)?xl:(w+=1,w+y>p.length?Wo:(p=p.slice(w,w+y),u.C=w+y,p)))}dn.prototype.cancel=function(){this.K=!0,fr(this)};function Li(u){u.T=Date.now()+u.H,Ko(u,u.H)}function Ko(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=zr(_(u.aa,u),p)}function ks(u){u.D&&(h.clearTimeout(u.D),u.D=null)}dn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Il(this.i,this.B),this.M!=2&&(cr(),st(17)),fr(this),this.m=2,Mi(this)):Ko(this,this.T-u)};function Mi(u){u.j.I==0||u.K||js(u.j,u)}function fr(u){ks(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Is(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ye(u,p){try{var y=u.j;if(y.I!=0&&(y.g==u||Yo(y.h,u))){if(!u.L&&Yo(y.h,u)&&y.I==3){try{var w=y.Ba.g.parse(p)}catch(We){w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Ms(y),sn(y);else break e;Qn(y),st(18)}}else y.xa=j[1],0<y.xa-y.K&&j[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=zr(_(y.Va,y),6e3));ji(y.h)<=1&&y.ta&&(y.ta=void 0)}else on(y,11)}else if((u.L||y.g==u)&&Ms(y),!x(p))for(j=y.Ba.g.parse(p),p=0;p<j.length;p++){let We=j[p];const ft=We[0];if(!(ft<=y.K))if(y.K=ft,We=We[1],y.I==2)if(We[0]=="c"){y.M=We[1],y.ba=We[2];const an=We[3];an!=null&&(y.ka=an,y.j.info("VER="+y.ka));const vr=We[4];vr!=null&&(y.za=vr,y.j.info("SVER="+y.za));const Yn=We[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(w=1.5*Yn,y.O=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const Xn=u.g;if(Xn){const zs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var z=w.h;z.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Ps(z,z.h),z.h=null))}if(w.G){const la=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(w.wa=la,qe(w.J,w.G,la))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),w=y;var Z=u;if(w.na=aa(w,w.L?w.ba:null,w.W),Z.L){Fi(w.h,Z);var Se=Z,ut=w.O;ut&&(Se.H=ut),Se.D&&(ks(Se),Li(Se)),w.g=Z}else Ot(w);y.i.length>0&&_r(y)}else We[0]!="stop"&&We[0]!="close"||on(y,7);else y.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?on(y,7):Os(y):We[0]!="noop"&&y.l&&y.l.qa(We),y.A=0)}}cr(4)}catch(We){}}var Bc=class{constructor(u,p){this.g=u,this.map=p}};function Rs(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ji(u){return u.h?1:u.g?u.g.size:0}function Yo(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Ps(u,p){u.g?u.g.add(p):u.h=p}function Fi(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Rs.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.G);return p}return B(u.i)}var Pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nn(u,p){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const w=u[y].indexOf("=");let j,z=null;w>=0?(j=u[y].substring(0,w),z=u[y].substring(w+1)):j=u[y],p(j,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Un?(this.l=u.l,Ui(this,u.j),this.o=u.o,this.g=u.g,zn(this,u.u),this.h=u.h,Hr(this,ia(u.i)),this.m=u.m):u&&(p=String(u).match(Pl))?(this.l=!1,Ui(this,p[1]||"",!0),this.o=zi(p[2]||""),this.g=zi(p[3]||"",!0),zn(this,p[4]),this.h=zi(p[5]||"",!0),Hr(this,p[6]||"",!0),this.m=zi(p[7]||"")):(this.l=!1,this.i=new Oe(null,this.l))}Un.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Bi(p,Jo,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Bi(p,Jo,!0),"@"),u.push(Fn(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Bi(y,y.charAt(0)=="/"?$i:Zo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Bi(y,ea)),u.join("")},Un.prototype.resolve=function(u){const p=fn(this);let y=!!u.j;y?Ui(p,u.j):y=!!u.o,y?p.o=u.o:y=!!u.g,y?p.g=u.g:y=u.u!=null;var w=u.h;if(y)zn(p,u.u);else if(y=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=p.h.lastIndexOf("/");j!=-1&&(w=p.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const z=[];for(let Z=0;Z<j.length;){const Se=j[Z++];Se=="."?w&&Z==j.length&&z.push(""):Se==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),w&&Z==j.length&&z.push("")):(z.push(Se),w=!0)}w=z.join("/")}else w=j}return y?p.h=w:y=u.i.toString()!=="",y?Hr(p,ia(u.i)):y=!!u.m,y&&(p.m=u.m),p};function fn(u){return new Un(u)}function Ui(u,p,y){u.j=y?zi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zn(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Hr(u,p,y){p instanceof Oe?(u.i=p,Ds(u.i,u.l)):(y||(p=Bi(p,$c)),u.i=new Oe(p,u.l))}function qe(u,p,y){u.i.set(p,y)}function pr(u){return qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Bi(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,Xo),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jo=/[#\/\?@]/g,Zo=/[#\?:]/g,$i=/[#\?]/g,$c=/[#\?@]/g,ea=/#/g;function Oe(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Bn(u){u.g||(u.g=new Map,u.h=0,u.i&&nn(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=Oe.prototype,i.add=function(u,p){Bn(this),this.i=null,u=$n(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function ta(u,p){Bn(u),p=$n(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ns(u,p){return Bn(u),p=$n(u,p),u.g.has(p)}i.forEach=function(u,p){Bn(this),this.g.forEach(function(y,w){y.forEach(function(j){u.call(p,j,w,this)},this)},this)};function na(u,p){Bn(u);let y=[];if(typeof p=="string")Ns(u,p)&&(y=y.concat(u.g.get($n(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)y=y.concat(u[p]);return y}i.set=function(u,p){return Bn(this),this.i=null,u=$n(this,u),Ns(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},i.get=function(u,p){return u?(u=na(this,u),u.length>0?String(u[0]):p):p};function ra(u,p,y){ta(u,p),y.length>0&&(u.i=null,u.g.set($n(u,p),B(y)),u.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var y=p[w];const j=Fn(y);y=na(this,y);for(let z=0;z<y.length;z++){let Z=j;y[z]!==""&&(Z+="="+Fn(y[z])),u.push(Z)}}return this.i=u.join("&")};function ia(u){const p=new Oe;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function $n(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ds(u,p){p&&!u.j&&(Bn(u),u.i=null,u.g.forEach(function(y,w){const j=w.toLowerCase();w!=j&&(ta(this,w),ra(this,j,y))},u)),u.j=p}function qn(u,p){const y=new Br;if(h.Image){const w=new Image;w.onload=T(kt,y,"TestLoadImage: loaded",!0,p,w),w.onerror=T(kt,y,"TestLoadImage: error",!1,p,w),w.onabort=T(kt,y,"TestLoadImage: abort",!1,p,w),w.ontimeout=T(kt,y,"TestLoadImage: timeout",!1,p,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function Hn(u,p){const y=new Br,w=new AbortController,j=setTimeout(()=>{w.abort(),kt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(z=>{clearTimeout(j),z.ok?kt(y,"TestPingServer: ok",!0,p):kt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),kt(y,"TestPingServer: error",!1,p)})}function kt(u,p,y,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(y)}catch(z){}}function qi(){this.g=new bi}function mr(u){this.i=u.Sb||null,this.h=u.ab||!1}I(mr,jr),mr.prototype.g=function(){return new rn(this.i,this.h)};function rn(u,p){dt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(rn,dt),i=rn.prototype,i.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,xn(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||h).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xn(this)),this.g&&(this.readyState=3,xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!="undefined"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Wr(this):xn(this),this.readyState==3&&Nl(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,Wr(this))},i.Na=function(u){this.g&&(this.response=u,Wr(this))},i.ga=function(){this.g&&Wr(this)};function Wr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,xn(u)}i.setRequestHeader=function(u,p){this.A.append(u,p)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Dl(u){let p="";return ce(u,function(y,w){p+=w,p+=":",p+=y,p+=`\r
`}),p}function Vs(u,p,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=Dl(y),typeof u=="string"?y!=null&&Fn(y):qe(u,p,y))}function Ge(u){dt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(Ge,dt);var Vl=/^https?$/i,qc=["POST","PUT"];i=Ge.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,p,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=P(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){Gr(this,z);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)y.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const z of w.keys())y.set(z,w.get(z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),j=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(qc,p,void 0)>=0)||w||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of y)this.g.setRequestHeader(z,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(z){Gr(this,z)}};function Gr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Kr(u),yr(u)}function Kr(u){u.A||(u.A=!0,lt(u,"complete"),lt(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,lt(this,"complete"),lt(this,"abort"),yr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),Ge.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?gr(this):this.Xa())},i.Xa=function(){gr(this)};function gr(u){if(u.h&&typeof l!="undefined"){if(u.v&&Wn(u)==4)setTimeout(u.Ca.bind(u),0);else if(lt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const z=u.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var w;if(w=z===0){let Z=String(u.D).match(Pl)[1]||null;!Z&&h.self&&h.self.location&&(Z=h.self.location.protocol.slice(0,-1)),w=!Vl.test(Z?Z.toLowerCase():"")}y=w}if(y)lt(u,"complete"),lt(u,"success");else{u.o=6;try{var j=Wn(u)>2?u.g.statusText:""}catch(Z){j=""}u.l=j+" ["+u.ca()+"]",Kr(u)}}finally{yr(u)}}}}function yr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,p||lt(u,"ready");try{y.onreadystatechange=null}catch(w){}}}i.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch(u){return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},i.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),vl(p)}};function bl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(p){return null}}function sa(u){const p={};u=(u.g&&Wn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(x(u[w]))continue;var y=Cs(u[w]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=p[j]||[];p[j]=z,z.push(y)}ie(p,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gn(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function bs(u){this.za=0,this.i=[],this.j=new Br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gn("baseRetryDelayMs",5e3,u),this.Za=Gn("retryDelaySeedMs",1e4,u),this.Ta=Gn("forwardChannelMaxRetries",2,u),this.va=Gn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rs(u&&u.concurrentRequestLimit),this.Ba=new qi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=bs.prototype,i.ka=8,i.I=1,i.connect=function(u,p,y,w){st(0),this.W=u,this.H=p||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.J=aa(this,null,this.W),_r(this)};function Os(u){if(Ls(u),u.I==3){var p=u.V++,y=fn(u.J);if(qe(y,"SID",u.M),qe(y,"RID",p),qe(y,"TYPE","terminate"),Kn(u,y),p=new dn(u,u.j,p),p.M=2,p.A=pr(fn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(p.A.toString(),"")}catch(w){}!y&&h.Image&&(new Image().src=p.A,y=!0),y||(p.g=Ll(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Li(p)}Gi(u)}function sn(u){u.g&&(Wi(u),u.g.cancel(),u.g=null)}function Ls(u){sn(u),u.v&&(h.clearTimeout(u.v),u.v=null),Ms(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function _r(u){if(!Qo(u.h)&&!u.m){u.m=!0;var p=u.Ea;je||A(),Ce||(je(),Ce=!0),R.add(p,u),u.D=0}}function Ol(u,p){return ji(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=zr(_(u.Ea,u,p),Fs(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new dn(this,this.j,u);let z=this.o;if(this.U&&(z?(z=O(z),ke(z,this.U)):z=this.U),this.u!==null||this.R||(j.J=z,z=null),this.S)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=oa(this,j,p),y=fn(this.J),qe(y,"RID",u),qe(y,"CVER",22),this.G&&qe(y,"X-HTTP-Session-Id",this.G),Kn(this,y),z&&(this.R?p="headers="+Fn(Dl(z))+"&"+p:this.u&&Vs(y,this.u,z)),Ps(this.h,j),this.Ra&&qe(y,"TYPE","init"),this.S?(qe(y,"$req",p),qe(y,"SID","null"),j.U=!0,An(j,y,null)):An(j,y,p),this.I=2}}else this.I==3&&(u?Hi(this,u):this.i.length==0||Qo(this.h)||Hi(this))};function Hi(u,p){var y;p?y=p.l:y=u.V++;const w=fn(u.J);qe(w,"SID",u.M),qe(w,"RID",y),qe(w,"AID",u.K),Kn(u,w),u.u&&u.o&&Vs(w,u.u,u.o),y=new dn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),p&&(u.i=p.G.concat(u.i)),p=oa(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ps(u.h,y),An(y,w,p)}function Kn(u,p){u.H&&ce(u.H,function(y,w){qe(p,w,y)}),u.l&&ce({},function(y,w){qe(p,w,y)})}function oa(u,p,y){y=Math.min(u.i.length,y);const w=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Se=-1;for(;;){const ut=["count="+y];Se==-1?y>0?(Se=j[0].g,ut.push("ofs="+Se)):Se=0:ut.push("ofs="+Se);let We=!0;for(let ft=0;ft<y;ft++){var z=j[ft].g;const an=j[ft].map;if(z-=Se,z<0)Se=Math.max(0,j[ft].g-100),We=!1;else try{z="req"+z+"_"||"";try{var Z=an instanceof Map?an:Object.entries(an);for(const[vr,Yn]of Z){let Xn=Yn;m(Yn)&&(Xn=Mr(Yn)),ut.push(z+vr+"="+encodeURIComponent(Xn))}}catch(vr){throw ut.push(z+"type="+encodeURIComponent("_badmap")),vr}}catch(vr){w&&w(an)}}if(We){Z=ut.join("&");break e}}Z=void 0}return u=u.i.splice(0,y),p.G=u,Z}function Ot(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;je||A(),Ce||(je(),Ce=!0),R.add(p,u),u.A=0}}function Qn(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=zr(_(u.Da,u),Fs(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Qr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=zr(_(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,st(10),sn(this),Qr(this))};function Wi(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function Qr(u){u.g=new dn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=fn(u.na);qe(p,"RID","rpc"),qe(p,"SID",u.M),qe(p,"AID",u.K),qe(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&qe(p,"TO",u.ia),qe(p,"TYPE","xmlhttp"),Kn(u,p),u.u&&u.o&&Vs(p,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=pr(fn(p)),y.u=null,y.R=!0,Go(y,u)}i.Va=function(){this.C!=null&&(this.C=null,sn(this),Qn(this),st(19))};function Ms(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function js(u,p){var y=null;if(u.g==p){Ms(u),Wi(u),u.g=null;var w=2}else if(Yo(u.h,p))y=p.G,Fi(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){y=p.u?p.u.length:0,p=Date.now()-p.F;var j=u.D;w=Ur(),lt(w,new Ho(w,y)),_r(u)}else Ot(u);else if(j=p.m,j==3||j==0&&p.X>0||!(w==1&&Ol(u,p)||w==2&&Qn(u)))switch(y&&y.length>0&&(p=u.h,p.i=p.i.concat(y)),j){case 1:on(u,5);break;case 4:on(u,10);break;case 3:on(u,6);break;default:on(u,2)}}}function Fs(u,p){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*p}function on(u,p){if(u.j.info("Error code "+p),p==2){var y=_(u.bb,u),w=u.Ua;const j=!w;w=new Un(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ui(w,"https"),pr(w),j?qn(w.toString(),y):Hn(w.toString(),y)}else st(2);u.I=0,u.l&&u.l.pa(p),Gi(u),Ls(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Gi(u){if(u.I=0,u.ja=[],u.l){const p=tn(u.h);(p.length!=0||u.i.length!=0)&&(J(u.ja,p),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function aa(u,p,y){var w=y instanceof Un?fn(y):new Un(y);if(w.g!="")p&&(w.g=p+"."+w.g),zn(w,w.u);else{var j=h.location;w=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;const z=new Un(null);w&&Ui(z,w),p&&(z.g=p),j&&zn(z,j),y&&(z.h=y),w=z}return y=u.G,p=u.wa,y&&p&&qe(w,y,p),qe(w,"VER",u.ka),Kn(u,w),w}function Ll(u,p,y){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new Ge(new mr({ab:y})):new Ge(u.ma),p.Fa(u.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ml(){}i=Ml.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Us(){}Us.prototype.g=function(u,p){return new Rt(u,p)};function Rt(u,p){dt.call(this),this.g=new bs(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!x(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yr(this)}I(Rt,dt),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Os(this.g)},Rt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Mr(u),u=y);p.i.push(new Bc(p.Ya++,u)),p.I==3&&_r(p)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Os(this.g),delete this.g,Rt.Z.N.call(this)};function jl(u){Ss.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}I(jl,Ss);function Fl(){qo.call(this),this.status=1}I(Fl,qo);function Yr(u){this.g=u}I(Yr,Ml),Yr.prototype.ra=function(){lt(this.g,"a")},Yr.prototype.qa=function(u){lt(this.g,new jl(u))},Yr.prototype.pa=function(u){lt(this.g,new Fl)},Yr.prototype.oa=function(){lt(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,Y_=function(){return new Us},Q_=function(){return Ur()},K_=Sn,Md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$r.NO_ERROR=0,$r.TIMEOUT=8,$r.HTTP_ERROR=6,Qu=$r,qr.COMPLETE="complete",G_=qr,El.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Ma=El,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,W_=Ge}).apply(typeof Ou!="undefined"?Ou:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Yg="@firebase/firestore",Xg="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new sf("@firebase/firestore");function uo(){return fs.logLevel}function se(i,...e){if(fs.logLevel<=De.DEBUG){const t=e.map(gf);fs.debug(`Firestore (${bo}): ${i}`,...t)}}function Dr(i,...e){if(fs.logLevel<=De.ERROR){const t=e.map(gf);fs.error(`Firestore (${bo}): ${i}`,...t)}}function So(i,...e){if(fs.logLevel<=De.WARN){const t=e.map(gf);fs.warn(`Firestore (${bo}): ${i}`,...t)}}function gf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch(e){return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,X_(i,s,t)}function X_(i,e,t){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch(o){s+=" CONTEXT: "+t}throw Dr(s),new Error(s)}function He(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||X_(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class H1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class W1{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ti,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((()=>k(this,null,function*(){yield g.promise,yield o(this.currentUser)})))},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ti)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new J_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class G1{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K1{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new G1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=l=>{l.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jg(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(i){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Y1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function jd(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),l=e.charAt(s);if(o!==l)return Id(o)===Id(l)?Ve(o,l):Id(o)?1:-1}return Ve(i.length,e.length)}const X1=55296,J1=57343;function Id(i){const e=i.charCodeAt(0);return e>=X1&&e<=J1}function Ao(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="__name__";class nr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=nr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const s=nr.isNumericId(e),o=nr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?nr.extractNumericId(e).compare(nr.extractNumericId(t)):jd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wi.fromString(e.substring(4,e.length-2))}}class Qe extends nr{construct(e,t,s){return new Qe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ne($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Qe(t)}static emptyPath(){return new Qe([])}}const Z1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends nr{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return Z1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zg}static keyField(){return new Vt([Zg])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ne($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ne($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new ne($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Qe.fromString(e))}static fromName(e){return new fe(Qe.fromString(e).popFirst(5))}static empty(){return new fe(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i,e,t){if(!t)throw new ne($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function eS(i,e,t,s){if(e===!0&&s===!0)throw new ne($.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ey(i){if(!fe.isDocumentKey(i))throw new ne($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ty(i){if(fe.isDocumentKey(i))throw new ne($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ev(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ac(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function ps(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ne($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ac(i);throw new ne($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i,e){const t={typeString:i};return e&&(t.value=e),t}function ll(i,e){if(!ev(i))throw new ne($.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ne($.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=-62135596800,ry=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*ry);return new Ze(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ny)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ry}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ll(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ny;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:yt("string",Ze._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ze(0,0))}static max(){return new Ie(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=-1;function tS(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new Ze(t+1,0):new Ze(t,s));return new Si(o,fe.empty(),e)}function nS(i){return new Si(i.readTime,i.key,Ya)}class Si{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Si(Ie.min(),fe.empty(),Ya)}static max(){return new Si(Ie.max(),fe.empty(),Ya)}}function rS(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=fe.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(i){return k(this,null,function*(){if(i.code!==$.FAILED_PRECONDITION||i.message!==iS)throw i;se("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,s)=>{t(e)}))}static reject(e){return new H(((t,s)=>{s(e)}))}static waitFor(e){return new H(((t,s)=>{let o=0,l=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++l,h&&l===o&&t()}),(g=>s(g)))})),h=!0,l===o&&t()}))}static or(e){let t=H.resolve(!1);for(const s of e)t=t.next((o=>o?H.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new H(((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next((T=>{h[_]=T,++m,m===l&&s(h)}),(T=>o(T)))}}))}static doWhile(e,t){return new H(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function oS(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;function Cc(i){return i==null}function uc(i){return i===0&&1/i==-1/0}function aS(i){return typeof i=="number"&&Number.isInteger(i)&&!uc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="";function lS(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=iy(e)),e=uS(i.get(t),e);return iy(e)}function uS(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case tv:t+="";break;default:t+=l}}return t}function iy(i){return i+tv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ni(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function nv(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s!=null?s:Dt.RED,this.left=o!=null?o:Dt.EMPTY,this.right=l!=null?l:Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dt(e!=null?e:this.key,t!=null?t:this.value,s!=null?s:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new hn([])}unionWith(e){let t=new wt(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new rv("Invalid base64 string: "+l):l}})(e);return new bt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const cS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=cS.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(i.seconds),nanos:ht(i.nanos)}}function ht(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xi(i){return typeof i=="string"?bt.fromBase64String(i):bt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="server_timestamp",sv="__type__",ov="__previous_value__",av="__local_write_time__";function vf(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[sv])==null?void 0:s.stringValue)===iv}function kc(i){const e=i.mapValue.fields[ov];return vf(e)?kc(e):e}function Xa(i){const e=Ai(i.mapValue.fields[av].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t,s,o,l,h,m,g,_,T){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const cc="(default)";class Ja{constructor(e,t){this.projectId=e,this.database=t||cc}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__type__",dS="__max__",Mu={mapValue:{}},uv="__vector__",hc="value";function Ci(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vf(i)?4:pS(i)?9007199254740991:fS(i)?10:11:Ee(28295,{value:i})}function ur(i,e){if(i===e)return!0;const t=Ci(i);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xa(i).isEqual(Xa(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ai(o.timestampValue),m=Ai(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,l){return xi(o.bytesValue).isEqual(xi(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,l){return ht(o.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(l.geoPointValue.longitude)})(i,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ht(o.integerValue)===ht(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ht(o.doubleValue),m=ht(l.doubleValue);return h===m?uc(h)===uc(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Ao(i.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(sy(h)!==sy(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!ur(h[g],m[g])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function Za(i,e){return(i.values||[]).find((t=>ur(t,e)))!==void 0}function xo(i,e){if(i===e)return 0;const t=Ci(i),s=Ci(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(l,h){const m=ht(l.integerValue||l.doubleValue),g=ht(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return ay(i.timestampValue,e.timestampValue);case 4:return ay(Xa(i),Xa(e));case 5:return jd(i.stringValue,e.stringValue);case 6:return(function(l,h){const m=xi(l),g=xi(h);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,h){const m=l.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const T=Ve(m[_],g[_]);if(T!==0)return T}return Ve(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,h){const m=Ve(ht(l.latitude),ht(h.latitude));return m!==0?m:Ve(ht(l.longitude),ht(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return ly(i.arrayValue,e.arrayValue);case 10:return(function(l,h){var P,B,J,G;const m=l.fields||{},g=h.fields||{},_=(P=m[hc])==null?void 0:P.arrayValue,T=(B=g[hc])==null?void 0:B.arrayValue,I=Ve(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((G=T==null?void 0:T.values)==null?void 0:G.length)||0);return I!==0?I:ly(_,T)})(i.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Mu.mapValue&&h===Mu.mapValue)return 0;if(l===Mu.mapValue)return 1;if(h===Mu.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=h.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let I=0;I<g.length&&I<T.length;++I){const P=jd(g[I],T[I]);if(P!==0)return P;const B=xo(m[g[I]],_[T[I]]);if(B!==0)return B}return Ve(g.length,T.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function ay(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=Ai(i),s=Ai(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function ly(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=xo(t[o],s[o]);if(l)return l}return Ve(t.length,s.length)}function Co(i){return Fd(i)}function Fd(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=Ai(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return xi(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return fe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Fd(l);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Fd(t.fields[h])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function Yu(i){switch(Ci(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(i);return e?16+Yu(e):16;case 5:return 2*i.stringValue.length;case 6:return xi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Yu(l)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ni(s.fields,((l,h)=>{o+=l.length+Yu(h)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function uy(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ud(i){return!!i&&"integerValue"in i}function Ef(i){return!!i&&"arrayValue"in i}function cy(i){return!!i&&"nullValue"in i}function hy(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xu(i){return!!i&&"mapValue"in i}function fS(i){var t,s;return((s=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[lv])==null?void 0:s.stringValue)===uv}function $a(i){if(i.geoPointValue)return{geoPointValue:Ne({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Ne({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ni(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=$a(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$a(i.arrayValue.values[t]);return e}return Ne({},i)}function pS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===dS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$a(t)}setAll(e){let t=Vt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=$a(h):o.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());Xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ni(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new en($a(this.value))}}function cv(i){const e=[];return Ni(i.fields,((t,s)=>{const o=new Vt([t]);if(Xu(s)){const l=cv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Bt(e,0,Ie.min(),Ie.min(),Ie.min(),en.empty(),0)}static newFoundDocument(e,t,s,o){return new Bt(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ie.min(),Ie.min(),en.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ie.min(),Ie.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.position=e,this.inclusive=t}}function dy(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=fe.comparator(fe.fromName(h.referenceValue),t.key):s=xo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function fy(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ur(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t="asc"){this.field=e,this.dir=t}}function mS(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{}class gt extends hv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new yS(e,t,s):t==="array-contains"?new ES(e,s):t==="in"?new wS(e,s):t==="not-in"?new TS(e,s):t==="array-contains-any"?new IS(e,s):new gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _S(e,s):new vS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(xo(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends hv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mn(e,t)}matches(e){return dv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dv(i){return i.op==="and"}function fv(i){return gS(i)&&dv(i)}function gS(i){for(const e of i.filters)if(e instanceof Mn)return!1;return!0}function zd(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(fv(i))return i.filters.map((e=>zd(e))).join(",");{const e=i.filters.map((t=>zd(t))).join(",");return`${i.op}(${e})`}}function pv(i,e){return i instanceof gt?(function(s,o){return o instanceof gt&&s.op===o.op&&s.field.isEqual(o.field)&&ur(s.value,o.value)})(i,e):i instanceof Mn?(function(s,o){return o instanceof Mn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,m)=>l&&pv(h,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function mv(i){return i instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`})(i):i instanceof Mn?(function(t){return t.op.toString()+" {"+t.getFilters().map(mv).join(" ,")+"}"})(i):"Filter"}class yS extends gt{constructor(e,t,s){super(e,t,s),this.key=fe.fromName(s.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class _S extends gt{constructor(e,t){super(e,"in",t),this.keys=gv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vS extends gt{constructor(e,t){super(e,"not-in",t),this.keys=gv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gv(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>fe.fromName(s.referenceValue)))}class ES extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ef(t)&&Za(t.arrayValue,this.value)}}class wS extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class TS extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Za(this.value.arrayValue,t)}}class IS extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Za(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Te=null}}function py(i,e=null,t=[],s=[],o=null,l=null,h=null){return new SS(i,e,t,s,o,l,h)}function wf(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>zd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=t}return e.Te}function Tf(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!mS(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!pv(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fy(i.startAt,e.startAt)&&fy(i.endAt,e.endAt)}function Bd(i){return fe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AS(i,e,t,s,o,l,h,m){return new Mo(i,e,t,s,o,l,h,m)}function yv(i){return new Mo(i)}function my(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _v(i){return i.collectionGroup!==null}function qa(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new wt(Vt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new el(l,s))})),t.has(Vt.keyField().canonicalString())||e.Ie.push(new el(Vt.keyField(),s))}return e.Ie}function sr(i){const e=Ae(i);return e.Ee||(e.Ee=xS(e,qa(i))),e.Ee}function xS(i,e){if(i.limitType==="F")return py(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new el(o.field,l)}));const t=i.endAt?new dc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new dc(i.startAt.position,i.startAt.inclusive):null;return py(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function $d(i,e){const t=i.filters.concat([e]);return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function qd(i,e,t){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Rc(i,e){return Tf(sr(i),sr(e))&&i.limitType===e.limitType}function vv(i){return`${wf(sr(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>mv(o))).join(", ")}]`),Cc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Co(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(sr(i))}; limitType=${i.limitType})`}function Pc(i,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):fe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(i,e)&&(function(s,o){for(const l of qa(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,g){const _=dy(h,m,g);return h.inclusive?_<=0:_<0})(s.startAt,qa(s),o)||s.endAt&&!(function(h,m,g){const _=dy(h,m,g);return h.inclusive?_>=0:_>0})(s.endAt,qa(s),o))})(i,e)}function CS(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ev(i){return(e,t)=>{let s=!1;for(const o of qa(i)){const l=kS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function kS(i,e,t){const s=i.field.isKeyField()?fe.comparator(e.key,t.key):(function(l,h,m){const g=h.data.field(l),_=m.data.field(l);return g!==null&&_!==null?xo(g,_):Ee(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return nv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new it(fe.comparator);function Vr(){return RS}const wv=new it(fe.comparator);function ja(...i){let e=wv;for(const t of i)e=e.insert(t.key,t);return e}function Tv(i){let e=wv;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function us(){return Ha()}function Iv(){return Ha()}function Ha(){return new ys((i=>i.toString()),((i,e)=>i.isEqual(e)))}const PS=new it(fe.comparator),NS=new wt(fe.comparator);function be(...i){let e=NS;for(const t of i)e=e.add(t);return e}const DS=new wt(Ve);function VS(){return DS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Sv(i){return{integerValue:""+i}}function bS(i,e){return aS(e)?Sv(e):If(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this._=void 0}}function OS(i,e,t){return i instanceof fc?(function(o,l){const h={fields:{[sv]:{stringValue:iv},[av]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&vf(l)&&(l=kc(l)),l&&(h.fields[ov]=l),{mapValue:h}})(t,e):i instanceof tl?xv(i,e):i instanceof nl?Cv(i,e):(function(o,l){const h=Av(o,l),m=gy(h)+gy(o.Ae);return Ud(h)&&Ud(o.Ae)?Sv(m):If(o.serializer,m)})(i,e)}function LS(i,e,t){return i instanceof tl?xv(i,e):i instanceof nl?Cv(i,e):t}function Av(i,e){return i instanceof pc?(function(s){return Ud(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class fc extends Nc{}class tl extends Nc{constructor(e){super(),this.elements=e}}function xv(i,e){const t=kv(e);for(const s of i.elements)t.some((o=>ur(o,s)))||t.push(s);return{arrayValue:{values:t}}}class nl extends Nc{constructor(e){super(),this.elements=e}}function Cv(i,e){let t=kv(e);for(const s of i.elements)t=t.filter((o=>!ur(o,s)));return{arrayValue:{values:t}}}class pc extends Nc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gy(i){return ht(i.integerValue||i.doubleValue)}function kv(i){return Ef(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function MS(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof tl&&o instanceof tl||s instanceof nl&&o instanceof nl?Ao(s.elements,o.elements,ur):s instanceof pc&&o instanceof pc?ur(s.Ae,o.Ae):s instanceof fc&&o instanceof fc})(i.transform,e.transform)}class jS{constructor(e,t){this.version=e,this.transformResults=t}}class On{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Dc{}function Rv(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Sf(i.key,On.none()):new ul(i.key,i.data,On.none());{const t=i.data,s=en.empty();let o=new wt(Vt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Di(i.key,s,new hn(o.toArray()),On.none())}}function FS(i,e,t){i instanceof ul?(function(o,l,h){const m=o.value.clone(),g=_y(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Di?(function(o,l,h){if(!Ju(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=_y(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(Pv(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Wa(i,e,t,s){return i instanceof ul?(function(l,h,m,g){if(!Ju(l.precondition,h))return m;const _=l.value.clone(),T=vy(l.fieldTransforms,g,h);return _.setAll(T),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null})(i,e,t,s):i instanceof Di?(function(l,h,m,g){if(!Ju(l.precondition,h))return m;const _=vy(l.fieldTransforms,g,h),T=h.data;return T.setAll(Pv(l)),T.setAll(_),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((I=>I.field)))})(i,e,t,s):(function(l,h,m){return Ju(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,t)}function US(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Av(s.transform,o||null);l!=null&&(t===null&&(t=en.empty()),t.set(s.field,l))}return t||null}function yy(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,((l,h)=>MS(l,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ul extends Dc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Di extends Dc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function _y(i,e,t){const s=new Map;He(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,LS(h,m,t[o]))}return s}function vy(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,OS(l,h,e))}return s}class Sf extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zS extends Dc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&FS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Iv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=Rv(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),be())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,((t,s)=>yy(t,s)))&&Ao(this.baseMutations,e.baseMutations,((t,s)=>yy(t,s)))}}class Af{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return PS})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Af(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Me;function HS(i){switch(i){case $.OK:return Ee(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Nv(i){if(i===void 0)return Dr("GRPC error has no .code"),$.UNKNOWN;switch(i){case mt.OK:return $.OK;case mt.CANCELLED:return $.CANCELLED;case mt.UNKNOWN:return $.UNKNOWN;case mt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case mt.INTERNAL:return $.INTERNAL;case mt.UNAVAILABLE:return $.UNAVAILABLE;case mt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case mt.NOT_FOUND:return $.NOT_FOUND;case mt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case mt.ABORTED:return $.ABORTED;case mt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case mt.DATA_LOSS:return $.DATA_LOSS;default:return Ee(39323,{code:i})}}(Me=mt||(mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new wi([4294967295,4294967295],0);function Ey(i){const e=WS().encode(i),t=new H_;return t.update(e),new Uint8Array(t.digest())}function wy(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new wi([t,s],0),new wi([o,l],0)]}class xf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fa(`Invalid padding: ${t}`);if(s<0)throw new Fa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=wi.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(wi.fromNumber(s)));return o.compare(GS)===1&&(o=new wi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ey(e),[s,o]=wy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new xf(l,o,t);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const t=Ey(e),[s,o]=wy(t);for(let l=0;l<this.hashCount;l++){const h=this.ye(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vc(Ie.min(),o,new it(Ve),Vr(),be())}}class cl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new cl(s,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class Dv{constructor(e,t){this.targetId=e,this.Ce=t}}class Vv{constructor(e,t,s=bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Ty{constructor(){this.ve=0,this.Fe=Iy(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),s=be();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:l})}})),new cl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Iy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=ju(),this.He=ju(),this.Ye=new it(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Bd(l))if(s===0){const h=new fe(l.path);this.et(t,h,Bt.newNoDocument(h,Ie.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,_)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=xi(s).toUint8Array()}catch(g){if(g instanceof rv)return So("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new xf(h,o,l)}catch(g){return So(g instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,h)=>{const m=this.ot(h);if(m){if(l.current&&Bd(m.target)){const g=new fe(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Bt.newNoDocument(g,e))}l.Be&&(t.set(h,l.ke()),l.qe())}}));let s=be();this.He.forEach(((l,h)=>{let m=!0;h.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(l))})),this.je.forEach(((l,h)=>h.setReadTime(e)));const o=new Vc(e,t,this.Ye,this.je,s);return this.je=Vr(),this.Je=ju(),this.He=ju(),this.Ye=new it(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ty,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new wt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new wt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ty),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ju(){return new it(fe.comparator)}function Iy(){return new it(fe.comparator)}const QS={asc:"ASCENDING",desc:"DESCENDING"},YS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XS={and:"AND",or:"OR"};class JS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hd(i,e){return i.useProto3Json||Cc(e)?e:{value:e}}function mc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bv(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ZS(i,e){return mc(i,e.toTimestamp())}function or(i){return He(!!i,49232),Ie.fromTimestamp((function(t){const s=Ai(t);return new Ze(s.seconds,s.nanos)})(i))}function Cf(i,e){return Wd(i,e).canonicalString()}function Wd(i,e){const t=(function(o){return new Qe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Ov(i){const e=Qe.fromString(i);return He(Uv(e),10190,{key:e.toString()}),e}function Gd(i,e){return Cf(i.databaseId,e.path)}function Sd(i,e){const t=Ov(e);if(t.get(1)!==i.databaseId.projectId)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ne($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fe(Mv(t))}function Lv(i,e){return Cf(i.databaseId,e)}function eA(i){const e=Ov(i);return e.length===4?Qe.emptyPath():Mv(e)}function Kd(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Mv(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Sy(i,e,t){return{name:Gd(i,e),fields:t.value.mapValue.fields}}function tA(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(_,T){return _.useProto3Json?(He(T===void 0||typeof T=="string",58123),bt.fromBase64String(T||"")):(He(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),bt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(_){const T=_.code===void 0?$.UNKNOWN:Nv(_.code);return new ne(T,_.message||"")})(h);t=new Vv(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sd(i,s.document.name),l=or(s.document.updateTime),h=s.document.createTime?or(s.document.createTime):Ie.min(),m=new en({mapValue:{fields:s.document.fields}}),g=Bt.newFoundDocument(o,l,h,m),_=s.targetIds||[],T=s.removedTargetIds||[];t=new Zu(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sd(i,s.document),l=s.readTime?or(s.readTime):Ie.min(),h=Bt.newNoDocument(o,l),m=s.removedTargetIds||[];t=new Zu([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sd(i,s.document),l=s.removedTargetIds||[];t=new Zu([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new qS(o,l),m=s.targetId;t=new Dv(m,h)}}return t}function nA(i,e){let t;if(e instanceof ul)t={update:Sy(i,e.key,e.value)};else if(e instanceof Sf)t={delete:Gd(i,e.key)};else if(e instanceof Di)t={update:Sy(i,e.key,e.data),updateMask:hA(e.fieldMask)};else{if(!(e instanceof zS))return Ee(16599,{Vt:e.type});t={verify:Gd(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const m=h.transform;if(m instanceof fc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof tl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof nl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pc)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:ZS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(i,e.precondition)),t}function rA(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map((t=>(function(o,l){let h=o.updateTime?or(o.updateTime):or(l);return h.isEqual(Ie.min())&&(h=or(l)),new jS(h,o.transformResults||[])})(t,e)))):[]}function iA(i,e){return{documents:[Lv(i,e.path)]}}function sA(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Lv(i,o);const l=(function(_){if(_.length!==0)return Fv(Mn.create(_,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(_){if(_.length!==0)return _.map((T=>(function(P){return{field:ho(P.field),direction:lA(P.dir)}})(T)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Hd(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:t,parent:o}}function oA(i){let e=eA(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){He(s===1,65062);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=(function(I){const P=jv(I);return P instanceof Mn&&fv(P)?P.getFilters():[P]})(t.where));let h=[];t.orderBy&&(h=(function(I){return I.map((P=>(function(J){return new el(fo(J.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(P)))})(t.orderBy));let m=null;t.limit&&(m=(function(I){let P;return P=typeof I=="object"?I.value:I,Cc(P)?null:P})(t.limit));let g=null;t.startAt&&(g=(function(I){const P=!!I.before,B=I.values||[];return new dc(B,P)})(t.startAt));let _=null;return t.endAt&&(_=(function(I){const P=!I.before,B=I.values||[];return new dc(B,P)})(t.endAt)),AS(e,o,h,l,m,"F",g,_)}function aA(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jv(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=fo(t.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fo(t.unaryFilter.field);return gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(t){return gt.create(fo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Mn.create(t.compositeFilter.filters.map((s=>jv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(i):Ee(30097,{filter:i})}function lA(i){return QS[i]}function uA(i){return YS[i]}function cA(i){return XS[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Vt.fromServerFormat(i.fieldPath)}function Fv(i){return i instanceof gt?(function(t){if(t.op==="=="){if(hy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(cy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(cy(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:uA(t.op),value:t.value}}})(i):i instanceof Mn?(function(t){const s=t.getFilters().map((o=>Fv(o)));return s.length===1?s[0]:{compositeFilter:{op:cA(t.op),filters:s}}})(i):Ee(54877,{filter:i})}function hA(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Uv(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,s,o,l=Ie.min(),h=Ie.min(),m=bt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.yt=e}}function fA(i){const e=oA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.Cn=new mA}addToCollectionParentIndex(e,t){return this.Cn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Si.min())}updateCollectionGroup(e,t,s){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class mA{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new wt(Qe.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zv=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(zv,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LruGarbageCollector",gA=1048576;function Cy([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class yA{constructor(e){this.Ir=e,this.buffer=new wt(Cy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Cy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _A{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){se(xy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(()=>k(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?se(xy,"Ignoring IndexedDB error during garbage collection: ",t):yield Oo(t)}yield this.Vr(3e5)})))}}class vA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(xc.ce);const s=new yA(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Ay)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ay):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,h,m,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o)))).next((I=>(s=I,m=Date.now(),this.removeTargets(e,s,t)))).next((I=>(l=I,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((I=>(_=Date.now(),uo()<=De.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I}))))}}function EA(i,e){return new vA(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.changes=new ys((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?H.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Wa(s.mutation,o,hn.empty(),Ze.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,be()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=be()){const o=us();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=ja();return l.forEach(((m,g)=>{h=h.insert(m,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=us();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,be())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,m)=>{t.set(h,m)}))}))}computeViews(e,t,s,o){let l=Vr();const h=Ha(),m=(function(){return Ha()})();return t.forEach(((g,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Di)?l=l.insert(_.key,_):T!==void 0?(h.set(_.key,T.mutation.getFieldMask()),Wa(T.mutation,_,T.mutation.getFieldMask(),Ze.now())):h.set(_.key,hn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((_,T)=>h.set(_,T))),t.forEach(((_,T)=>{var I;return m.set(_,new TA(T,(I=h.get(_))!=null?I:null))})),m)))}recalculateAndSaveOverlays(e,t){const s=Ha();let o=new it(((h,m)=>h-m)),l=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const m of h)m.keys().forEach((g=>{const _=t.get(g);if(_===null)return;let T=s.get(g)||hn.empty();T=m.applyToLocalView(_,T),s.set(g,T);const I=(o.get(m.batchId)||be()).add(g);o=o.insert(m.batchId,I)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,T=g.value,I=Iv();T.forEach((P=>{if(!l.has(P)){const B=Rv(t.get(P),s.get(P));B!==null&&I.set(P,B),l=l.add(P)}})),h.push(this.documentOverlayCache.saveOverlays(e,_,I))}return H.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return fe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_v(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):H.resolve(us());let m=Ya,g=l;return h.next((_=>H.forEach(_,((T,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),l.get(T)?H.resolve():this.remoteDocumentCache.getEntry(e,T).next((P=>{g=g.insert(T,P)}))))).next((()=>this.populateOverlays(e,_,l))).next((()=>this.computeViews(e,g,_,be()))).next((T=>({batchId:m,changes:Tv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next((s=>{let o=ja();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=ja();return this.indexManager.getCollectionParents(e,l).next((m=>H.forEach(m,(g=>{const _=(function(I,P){return new Mo(P,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((T=>{T.forEach(((I,P)=>{h=h.insert(I,P)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((g,_)=>{const T=_.getKey();h.get(T)===null&&(h=h.insert(T,Bt.newInvalidDocument(T)))}));let m=ja();return h.forEach(((g,_)=>{const T=l.get(g);T!==void 0&&Wa(T.mutation,_,hn.empty(),Ze.now()),Pc(t,_)&&(m=m.insert(g,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return H.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:or(o.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:fA(o.bundledQuery),readTime:or(o.readTime)}})(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.overlays=new it(fe.comparator),this.qr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const s=us();return H.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),H.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),H.resolve()}getOverlaysForCollection(e,t,s){const o=us(),l=t.length+1,h=new fe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new it(((_,T)=>_-T));const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let T=l.get(_.largestBatchId);T===null&&(T=us(),l=l.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=us(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>m.set(_,T))),!(m.size()>=o)););return H.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $S(t,s));let l=this.qr.get(t);l===void 0&&(l=be(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.Qr=new wt(At.$r),this.Ur=new wt(At.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new At(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new At(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new fe(new Qe([])),s=new At(t,e),o=new At(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),l.push(h.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new fe(new Qe([])),s=new At(t,e),o=new At(t,e+1);let l=be();return this.Ur.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new At(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return fe.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||fe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new wt(At.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new BS(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new At(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return H.resolve(h)}lookupMutationBatch(e,t){return H.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?_f:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);l.push(m)})),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new wt(Ve);return t.forEach((o=>{const l=new At(o,0),h=new At(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,h],(m=>{s=s.add(m.Yr)}))})),H.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;fe.isDocumentKey(l)||(l=l.child(""));const h=new At(new fe(l),0);let m=new wt(Ve);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(g.Yr)),!0)}),h),H.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){He(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return H.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new At(t,0),o=this.Zr.firstAfterOrEqual(s);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.ri=e,this.docs=(function(){return new it(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return H.resolve(s?s.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Bt.newInvalidDocument(o))})),H.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const h=t.path,m=new fe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||rS(nS(T),s)<=0||(o.has(T.key)||Pc(t,T))&&(l=l.insert(T.key,T.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return H.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new RA(this)}getSize(e){return H.resolve(this.size)}}class RA extends wA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),H.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.persistence=e,this.si=new ys((t=>wf(t)),Tf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new kf,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),H.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Pr(t),H.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),H.waitFor(l).next((()=>o))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return H.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),H.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return H.resolve(s)}containsKey(e,t){return H.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t){this.ui={},this.overlays={},this.ci=new xc(0),this.li=!1,this.li=!0,this.hi=new xA,this.referenceDelegate=e(this),this.Pi=new PA(this),this.indexManager=new pA,this.remoteDocumentCache=(function(o){return new kA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new dA(t),this.Ii=new SA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new CA(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){se("MemoryPersistence","Starting transaction:",e);const o=new NA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return H.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class NA extends sS{constructor(e){super(),this.currentSequenceNumber=e}}class Rf{constructor(e){this.persistence=e,this.Ri=new kf,this.Vi=null}static mi(e){return new Rf(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),H.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,(s=>{const o=fe.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class gc{constructor(e,t){this.persistence=e,this.pi=new ys((s=>lS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=EA(this,t)}static mi(e,t){return new gc(e,t)}Ei(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return H.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?H.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((m=>{m||(s++,l.removeEntry(h,Ie.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yu(e.data.value)),t}br(e,t,s){return H.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return H.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=be(),o=be();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Pf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h0()?8:oS($t())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new DA;return this.Ss(e,t,h).next((m=>{if(l.result=m,this.Vs)return this.bs(e,t,h,m.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(uo()<=De.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(uo()<=De.DEBUG&&se("QueryEngine","Query:",co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(uo()<=De.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(t))):H.resolve())}ys(e,t){if(my(t))return H.resolve(null);let s=sr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=qd(t,null,"F"),s=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=be(...l);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const _=this.Ds(t,m);return this.Cs(t,_,h,g.readTime)?this.ys(e,qd(t,null,"F")):this.vs(e,_,t,g)}))))})))))}ws(e,t,s,o){return my(t)||o.isEqual(Ie.min())?H.resolve(null):this.ps.getDocuments(e,s).next((l=>{const h=this.Ds(t,l);return this.Cs(t,h,s,o)?H.resolve(null):(uo()<=De.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(t)),this.vs(e,h,t,tS(o,Ya)).next((m=>m)))}))}Ds(e,t){let s=new wt(Ev(e));return t.forEach(((o,l)=>{Pc(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return uo()<=De.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",co(t)),this.ps.getDocumentsMatchingQuery(e,t,Si.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="LocalStore",bA=3e8;class OA{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(Ve),this.xs=new ys((l=>wf(l)),Tf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function LA(i,e,t,s){return new OA(i,e,t,s)}function $v(i,e){return k(this,null,function*(){const t=Ae(i);return yield t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],m=[];let g=be();for(const _ of o){h.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of l){m.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(s,g).next((_=>({Ls:_,removedBatchIds:h,addedBatchIds:m})))}))}))})}function MA(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,_,T){const I=_.batch,P=I.keys();let B=H.resolve();return P.forEach((J=>{B=B.next((()=>T.getEntry(g,J))).next((G=>{const q=_.docVersions.get(J);He(q!==null,48541),G.version.compareTo(q)<0&&(I.applyToRemoteDocument(G,_),G.isValidDocument()&&(G.setReadTime(_.commitVersion),T.addEntry(G)))}))})),B.next((()=>m.mutationQueue.removeMutationBatch(g,I)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=be();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function qv(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jA(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((T,I)=>{const P=o.get(I);if(!P)return;m.push(t.Pi.removeMatchingKeys(l,T.removedDocuments,I).next((()=>t.Pi.addMatchingKeys(l,T.addedDocuments,I))));let B=P.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?B=B.withResumeToken(bt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):T.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(T.resumeToken,s)),o=o.insert(I,B),(function(G,q,pe){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=bA?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(P,B,T)&&m.push(t.Pi.updateTargetData(l,B))}));let g=Vr(),_=be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))})),m.push(FA(l,h,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!s.isEqual(Ie.min())){const T=t.Pi.getLastRemoteSnapshotVersion(l).next((I=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));m.push(T)}return H.waitFor(m).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,_))).next((()=>g))})).then((l=>(t.Ms=o,l)))}function FA(i,e,t){let s=be(),o=be();return t.forEach((l=>s=s.add(l))),e.getEntries(i,s).next((l=>{let h=Vr();return t.forEach(((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):se(Nf,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function UA(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_f),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zA(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,H.resolve(o)):t.Pi.allocateTargetId(s).next((h=>(o=new gi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}function Qd(i,e,t){return k(this,null,function*(){const s=Ae(i),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o))))}catch(h){if(!Lo(h))throw h;se(Nf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)})}function ky(i,e,t){const s=Ae(i);let o=Ie.min(),l=be();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,_,T){const I=Ae(g),P=I.xs.get(T);return P!==void 0?H.resolve(I.Ms.get(P)):I.Pi.getTargetData(_,T)})(s,h,sr(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((g=>{l=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?l:be()))).next((m=>(BA(s,CS(e),m),{documents:m,Qs:l})))))}function BA(i,e,t){let s=i.Os.get(e)||Ie.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),i.Os.set(e,s)}class Ry{constructor(){this.activeTargetIds=VS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $A{constructor(){this.Mo=new Ry,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ry,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="ConnectivityMonitor";class Ny{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){se(Py,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){se(Py,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function Yd(){return Fu===null?Fu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="RestConnection",HA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const h=Yd(),m=this.zo(e,t.toUriEncodedString());se(Ad,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,l);const{host:_}=new URL(m),T=Po(_);return this.Jo(e,m,g,s,T).then((I=>(se(Ad,`Received RPC '${e}' ${h}: `,I),I)),(I=>{throw So(Ad,`RPC '${e}' ${h} failed with error: `,I,"url: ",m,"request:",s),I}))}Ho(e,t,s,o,l,h){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=HA[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class KA extends WA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const h=Yd();return new Promise(((m,g)=>{const _=new W_;_.setWithCredentials(!0),_.listenOnce(G_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const I=_.getResponseJson();se(Ut,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(I)),m(I);break;case Qu.TIMEOUT:se(Ut,`RPC '${e}' ${h} timed out`),g(new ne($.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const P=_.getStatus();if(se(Ut,`RPC '${e}' ${h} failed with status:`,P,"response text:",_.getResponseText()),P>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B==null?void 0:B.error;if(J&&J.status&&J.message){const G=(function(pe){const de=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(de)>=0?de:$.UNKNOWN})(J.status);g(new ne(G,J.message))}else g(new ne($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ne($.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{se(Ut,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);se(Ut,`RPC '${e}' ${h} sending request:`,o),_.send(t,"POST",T,s,15)}))}T_(e,t,s){const o=Yd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Y_(),m=Q_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const T=l.join("");se(Ut,`Creating RPC '${e}' stream ${o}: ${T}`,g);const I=h.createWebChannel(T,g);this.I_(I);let P=!1,B=!1;const J=new GA({Yo:q=>{B?se(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(P||(se(Ut,`Opening RPC '${e}' stream ${o} transport.`),I.open(),P=!0),se(Ut,`RPC '${e}' stream ${o} sending:`,q),I.send(q))},Zo:()=>I.close()}),G=(q,pe,de)=>{q.listen(pe,(we=>{try{de(we)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return G(I,Ma.EventType.OPEN,(()=>{B||(se(Ut,`RPC '${e}' stream ${o} transport opened.`),J.o_())})),G(I,Ma.EventType.CLOSE,(()=>{B||(B=!0,se(Ut,`RPC '${e}' stream ${o} transport closed`),J.a_(),this.E_(I))})),G(I,Ma.EventType.ERROR,(q=>{B||(B=!0,So(Ut,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),J.a_(new ne($.UNAVAILABLE,"The operation could not be completed")))})),G(I,Ma.EventType.MESSAGE,(q=>{var pe;if(!B){const de=q.data[0];He(!!de,16349);const we=de,xe=(we==null?void 0:we.error)||((pe=we[0])==null?void 0:pe.error);if(xe){se(Ut,`RPC '${e}' stream ${o} received error:`,xe);const je=xe.status;let Ce=(function(C){const V=mt[C];if(V!==void 0)return Nv(V)})(je),R=xe.message;Ce===void 0&&(Ce=$.INTERNAL,R="Unknown error status: "+je+" with message "+xe.message),B=!0,J.a_(new ne(Ce,R)),I.close()}else se(Ut,`RPC '${e}' stream ${o} received:`,de),J.u_(de)}})),G(m,K_.STAT_EVENT,(q=>{q.stat===Md.PROXY?se(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Md.NOPROXY&&se(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function xd(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(i){return new JS(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="PersistentStream";class Wv{constructor(e,t,s,o,l,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Hv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return k(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}k_(){return k(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return k(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(t)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ne($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((()=>k(this,null,function*(){this.state=0,this.start()})))}z_(e){return se(Dy,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(se(Dy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QA extends Wv{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=tA(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?or(h.readTime):Ie.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Kd(this.serializer),t.addTarget=(function(l,h){let m;const g=h.target;if(m=Bd(g)?{documents:iA(l,g)}:{query:sA(l,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=bv(l,h.resumeToken);const _=Hd(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=mc(l,h.snapshotVersion.toTimestamp());const _=Hd(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const s=aA(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Kd(this.serializer),t.removeTarget=e,this.q_(t)}}class YA extends Wv{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=rA(e.writeResults,e.commitTime),s=or(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Kd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>nA(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{}class JA extends XA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Go(e,Wd(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ne($.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Wd(t,s),o,h,m,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ne($.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(t),this.aa=!1):se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class ex{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((h=>{s.enqueueAndForget((()=>k(this,null,function*(){_s(this)&&(se(ms,"Restarting streams for network reachability change."),yield(function(g){return k(this,null,function*(){const _=Ae(g);_.Ea.add(4),yield hl(_),_.Ra.set("Unknown"),_.Ea.delete(4),yield Oc(_)})})(this))})))})),this.Ra=new ZA(s,o)}}function Oc(i){return k(this,null,function*(){if(_s(i))for(const e of i.da)yield e(!0)})}function hl(i){return k(this,null,function*(){for(const e of i.da)yield e(!1)})}function Gv(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Of(t)?bf(t):jo(t).O_()&&Vf(t,e))}function Df(i,e){const t=Ae(i),s=jo(t);t.Ia.delete(e),s.O_()&&Kv(t,e),t.Ia.size===0&&(s.O_()?s.L_():_s(t)&&t.Ra.set("Unknown"))}function Vf(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jo(i).Y_(e)}function Kv(i,e){i.Va.Ue(e),jo(i).Z_(e)}function bf(i){i.Va=new KS({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jo(i).start(),i.Ra.ua()}function Of(i){return _s(i)&&!jo(i).x_()&&i.Ia.size>0}function _s(i){return Ae(i).Ea.size===0}function Qv(i){i.Va=void 0}function tx(i){return k(this,null,function*(){i.Ra.set("Online")})}function nx(i){return k(this,null,function*(){i.Ia.forEach(((e,t)=>{Vf(i,e)}))})}function rx(i,e){return k(this,null,function*(){Qv(i),Of(i)?(i.Ra.ha(e),bf(i)):i.Ra.set("Unknown")})}function ix(i,e,t){return k(this,null,function*(){if(i.Ra.set("Online"),e instanceof Vv&&e.state===2&&e.cause)try{yield(function(o,l){return k(this,null,function*(){const h=l.cause;for(const m of l.targetIds)o.Ia.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})})(i,e)}catch(s){se(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield yc(i,s)}else if(e instanceof Zu?i.Va.Ze(e):e instanceof Dv?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ie.min()))try{const s=yield qv(i.localStore);t.compareTo(s)>=0&&(yield(function(l,h){const m=l.Va.Tt(h);return m.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=l.Ia.get(_);T&&l.Ia.set(_,T.withResumeToken(g.resumeToken,h))}})),m.targetMismatches.forEach(((g,_)=>{const T=l.Ia.get(g);if(!T)return;l.Ia.set(g,T.withResumeToken(bt.EMPTY_BYTE_STRING,T.snapshotVersion)),Kv(l,g);const I=new gi(T.target,g,_,T.sequenceNumber);Vf(l,I)})),l.remoteSyncer.applyRemoteEvent(m)})(i,t))}catch(s){se(ms,"Failed to raise snapshot:",s),yield yc(i,s)}})}function yc(i,e,t){return k(this,null,function*(){if(!Lo(e))throw e;i.Ea.add(1),yield hl(i),i.Ra.set("Offline"),t||(t=()=>qv(i.localStore)),i.asyncQueue.enqueueRetryable((()=>k(null,null,function*(){se(ms,"Retrying IndexedDB access"),yield t(),i.Ea.delete(1),yield Oc(i)})))})}function Yv(i,e){return e().catch((t=>yc(i,t,e)))}function Lc(i){return k(this,null,function*(){const e=Ae(i),t=ki(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_f;for(;sx(e);)try{const o=yield UA(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,ox(e,o)}catch(o){yield yc(e,o)}Xv(e)&&Jv(e)})}function sx(i){return _s(i)&&i.Ta.length<10}function ox(i,e){i.Ta.push(e);const t=ki(i);t.O_()&&t.X_&&t.ea(e.mutations)}function Xv(i){return _s(i)&&!ki(i).x_()&&i.Ta.length>0}function Jv(i){ki(i).start()}function ax(i){return k(this,null,function*(){ki(i).ra()})}function lx(i){return k(this,null,function*(){const e=ki(i);for(const t of i.Ta)e.ea(t.mutations)})}function ux(i,e,t){return k(this,null,function*(){const s=i.Ta.shift(),o=Af.from(s,e,t);yield Yv(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),yield Lc(i)})}function cx(i,e){return k(this,null,function*(){e&&ki(i).X_&&(yield(function(s,o){return k(this,null,function*(){if((function(h){return HS(h)&&h!==$.ABORTED})(o.code)){const l=s.Ta.shift();ki(s).B_(),yield Yv(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),yield Lc(s)}})})(i,e)),Xv(i)&&Jv(i)})}function Vy(i,e){return k(this,null,function*(){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),se(ms,"RemoteStore received new credentials");const s=_s(t);t.Ea.add(3),yield hl(t),s&&t.Ra.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),yield Oc(t)})}function hx(i,e){return k(this,null,function*(){const t=Ae(i);e?(t.Ea.delete(2),yield Oc(t)):e||(t.Ea.add(2),yield hl(t),t.Ra.set("Unknown"))})}function jo(i){return i.ma||(i.ma=(function(t,s,o){const l=Ae(t);return l.sa(),new QA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:tx.bind(null,i),t_:nx.bind(null,i),r_:rx.bind(null,i),H_:ix.bind(null,i)}),i.da.push((e=>k(null,null,function*(){e?(i.ma.B_(),Of(i)?bf(i):i.Ra.set("Unknown")):(yield i.ma.stop(),Qv(i))})))),i.ma}function ki(i){return i.fa||(i.fa=(function(t,s,o){const l=Ae(t);return l.sa(),new YA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:ax.bind(null,i),r_:cx.bind(null,i),ta:lx.bind(null,i),na:ux.bind(null,i)}),i.da.push((e=>k(null,null,function*(){e?(i.fa.B_(),yield Lc(i)):(yield i.fa.stop(),i.Ta.length>0&&(se(ms,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new Lf(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),Lo(i))return new ne($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{static emptySet(e){return new vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||fe.comparator(t.key,s.key):(t,s)=>fe.comparator(t.key,s.key),this.keyedMap=ja(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.ga=new it(fe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ro{constructor(e,t,s,o,l,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,t,vo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fx{constructor(){this.queries=Oy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=Oy(),l.forEach(((h,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ne($.ABORTED,"Firestore shutting down"))}}function Oy(){return new ys((i=>vv(i)),Rc)}function px(i,e){return k(this,null,function*(){const t=Ae(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new dx,s=e.Da()?0:1);try{switch(s){case 0:l.wa=yield t.onListen(o,!0);break;case 1:l.wa=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(h){const m=Mf(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jf(t)})}function mx(i,e){return k(this,null,function*(){const t=Ae(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}})}function gx(i,e){const t=Ae(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&jf(t)}function yx(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function jf(i){i.Ca.forEach((e=>{e.next()}))}var Xd,Ly;(Ly=Xd||(Xd={})).Ma="default",Ly.Cache="cache";class _x{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class vx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=Ev(e),this.tu=new vo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new by,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,I)=>{const P=o.get(T),B=Pc(this.query,I)?I:null,J=!!P&&this.mutatedKeys.has(P.key),G=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let q=!1;P&&B?P.data.isEqual(B.data)?J!==G&&(s.track({type:3,doc:B}),q=!0):this.su(P,B)||(s.track({type:2,doc:B}),q=!0,(g&&this.eu(B,g)>0||_&&this.eu(B,_)<0)&&(m=!0)):!P&&B?(s.track({type:0,doc:B}),q=!0):P&&!B&&(s.track({type:1,doc:P}),q=!0,(g||_)&&(m=!0)),q&&(B?(h=h.add(B),l=G?l.add(T):l.delete(T)):(h=h.delete(T),l=l.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),l=l.delete(T.key),s.track({type:1,doc:T})}return{tu:h,iu:s,Cs:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,I)=>(function(B,J){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return G(B)-G(J)})(T.type,I.type)||this.eu(T.doc,I.doc))),this.ou(s),o=o!=null?o:!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,_=g!==this.Za;return this.Za=g,h.length!==0||_?{snapshot:new Ro(this.query,e.tu,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new by,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new eE(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new Zv(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ff="SyncEngine";class Ex{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wx{constructor(e){this.key=e,this.hu=!1}}class Tx{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ys((m=>vv(m)),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new it(fe.comparator),this.Au=new Map,this.Ru=new kf,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function Ix(i,e,t=!0){return k(this,null,function*(){const s=oE(i);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=yield tE(s,e,t,!0),o})}function Sx(i,e){return k(this,null,function*(){const t=oE(i);yield tE(t,e,!0,!1)})}function tE(i,e,t,s){return k(this,null,function*(){const o=yield zA(i.localStore,sr(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=yield Ax(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Gv(i.remoteStore,o),m})}function Ax(i,e,t,s,o){return k(this,null,function*(){i.pu=(I,P,B)=>(function(G,q,pe,de){return k(this,null,function*(){let we=q.view.ru(pe);we.Cs&&(we=yield ky(G.localStore,q.query,!1).then((({documents:R})=>q.view.ru(R,we))));const xe=de&&de.targetChanges.get(q.targetId),je=de&&de.targetMismatches.get(q.targetId)!=null,Ce=q.view.applyChanges(we,G.isPrimaryClient,xe,je);return jy(G,q.targetId,Ce.au),Ce.snapshot})})(i,I,P,B);const l=yield ky(i.localStore,e,!0),h=new vx(e,l.Qs),m=h.ru(l.documents),g=cl.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),_=h.applyChanges(m,i.isPrimaryClient,g);jy(i,t,_.au);const T=new Ex(e,t,h);return i.Tu.set(e,T),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),_.snapshot})}function xx(i,e,t){return k(this,null,function*(){const s=Ae(i),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((h=>!Rc(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Qd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Df(s.remoteStore,o.targetId),Jd(s,o.targetId)})).catch(Oo))):(Jd(s,o.targetId),yield Qd(s.localStore,o.targetId,!0))})}function Cx(i,e){return k(this,null,function*(){const t=Ae(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Df(t.remoteStore,s.targetId))})}function kx(i,e,t){return k(this,null,function*(){const s=Ox(i);try{const o=yield(function(h,m){const g=Ae(h),_=Ze.now(),T=m.reduce(((B,J)=>B.add(J.key)),be());let I,P;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=Vr(),G=be();return g.Ns.getEntries(B,T).next((q=>{J=q,J.forEach(((pe,de)=>{de.isValidDocument()||(G=G.add(pe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,J))).next((q=>{I=q;const pe=[];for(const de of m){const we=US(de,I.get(de.key).overlayedDocument);we!=null&&pe.push(new Di(de.key,we,cv(we.value.mapValue),On.exists(!0)))}return g.mutationQueue.addMutationBatch(B,_,pe,m)})).next((q=>{P=q;const pe=q.applyToLocalDocumentSet(I,G);return g.documentOverlayCache.saveOverlays(B,q.batchId,pe)}))})).then((()=>({batchId:P.batchId,changes:Tv(I)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,g){let _=h.Vu[h.currentUser.toKey()];_||(_=new it(Ve)),_=_.insert(m,g),h.Vu[h.currentUser.toKey()]=_})(s,o.batchId,t),yield dl(s,o.changes),yield Lc(s.remoteStore)}catch(o){const l=Mf(o,"Failed to persist write");t.reject(l)}})}function nE(i,e){return k(this,null,function*(){const t=Ae(i);try{const s=yield jA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Au.get(l);h&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?He(h.hu,14607):o.removedDocuments.size>0&&(He(h.hu,42227),h.hu=!1))})),yield dl(t,s,e)}catch(s){yield Oo(s)}})}function My(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const g=Ae(h);g.onlineState=m;let _=!1;g.queries.forEach(((T,I)=>{for(const P of I.Sa)P.va(m)&&(_=!0)})),_&&jf(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Rx(i,e,t){return k(this,null,function*(){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let h=new it(fe.comparator);h=h.insert(l,Bt.newNoDocument(l,Ie.min()));const m=be().add(l),g=new Vc(Ie.min(),new Map,new it(Ve),h,m);yield nE(s,g),s.du=s.du.remove(l),s.Au.delete(e),Uf(s)}else yield Qd(s.localStore,e,!1).then((()=>Jd(s,e,t))).catch(Oo)})}function Px(i,e){return k(this,null,function*(){const t=Ae(i),s=e.batch.batchId;try{const o=yield MA(t.localStore,e);iE(t,s,null),rE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield dl(t,o)}catch(o){yield Oo(o)}})}function Nx(i,e,t){return k(this,null,function*(){const s=Ae(i);try{const o=yield(function(h,m){const g=Ae(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,m).next((I=>(He(I!==null,37113),T=I.keys(),g.mutationQueue.removeMutationBatch(_,I)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);iE(s,e,t),rE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield dl(s,o)}catch(o){yield Oo(o)}})}function rE(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function iE(i,e,t){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Jd(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||sE(i,s)}))}function sE(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Df(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),Uf(i))}function jy(i,e,t){for(const s of t)s instanceof Zv?(i.Ru.addReference(s.key,e),Dx(i,s)):s instanceof eE?(se(Ff,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||sE(i,s.key)):Ee(19791,{wu:s})}function Dx(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(se(Ff,"New document in limbo: "+t),i.Eu.add(s),Uf(i))}function Uf(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new fe(Qe.fromString(e)),s=i.fu.next();i.Au.set(s,new wx(t)),i.du=i.du.insert(t,s),Gv(i.remoteStore,new gi(sr(yv(t.path)),s,"TargetPurposeLimboResolution",xc.ce))}}function dl(i,e,t){return k(this,null,function*(){const s=Ae(i),o=[],l=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{h.push(s.pu(g,e,t).then((_=>{var T;if((_||t)&&s.isPrimaryClient){const I=_?!_.fromCache:(T=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:T.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(_){o.push(_);const I=Pf.As(g.targetId,_);l.push(I)}})))})),yield Promise.all(h),s.Pu.H_(o),yield(function(g,_){return k(this,null,function*(){const T=Ae(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>H.forEach(_,(P=>H.forEach(P.Es,(B=>T.persistence.referenceDelegate.addReference(I,P.targetId,B))).next((()=>H.forEach(P.ds,(B=>T.persistence.referenceDelegate.removeReference(I,P.targetId,B)))))))))}catch(I){if(!Lo(I))throw I;se(Nf,"Failed to update sequence numbers: "+I)}for(const I of _){const P=I.targetId;if(!I.fromCache){const B=T.Ms.get(P),J=B.snapshotVersion,G=B.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(P,G)}}})})(s.localStore,l))})}function Vx(i,e){return k(this,null,function*(){const t=Ae(i);if(!t.currentUser.isEqual(e)){se(Ff,"User change. New user:",e.toKey());const s=yield $v(t.localStore,e);t.currentUser=e,(function(l,h){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new ne($.CANCELLED,h))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield dl(t,s.Ls)}})}function bx(i,e){const t=Ae(i),s=t.Au.get(e);if(s&&s.hu)return be().add(s.key);{let o=be();const l=t.Iu.get(e);if(!l)return o;for(const h of l){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function oE(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=nE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rx.bind(null,e),e.Pu.H_=gx.bind(null,e.eventManager),e.Pu.yu=yx.bind(null,e.eventManager),e}function Ox(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Px.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nx.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return k(this,null,function*(){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,t){return null}Mu(e,t){return null}vu(e){return LA(this.persistence,new VA,e.initialUser,this.serializer)}Cu(e){return new Bv(Rf.mi,this.serializer)}Du(e){return new $A}terminate(){return k(this,null,function*(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}_c.provider={build:()=>new _c};class Lx extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){He(this.persistence.referenceDelegate instanceof gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _A(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Bv((s=>gc.mi(s,t)),this.serializer)}}class Zd{initialize(e,t){return k(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>My(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vx.bind(null,this.syncEngine),yield hx(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new fx})()}createDatastore(e){const t=bc(e.databaseInfo.databaseId),s=(function(l){return new KA(l)})(e.databaseInfo);return(function(l,h,m,g){return new JA(l,h,m,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,m){return new ex(s,o,l,h,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>My(this.syncEngine,t,0)),(function(){return Ny.v()?new Ny:new qA})())}createSyncEngine(e,t){return(function(o,l,h,m,g,_,T){const I=new Tx(o,l,h,m,g,_);return T&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return k(this,null,function*(){var e,t;yield(function(o){return k(this,null,function*(){const l=Ae(o);se(ms,"RemoteStore shutting down."),l.Ea.add(5),yield hl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()})}}Zd.provider={build:()=>new Zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class jx{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(h=>k(this,null,function*(){se(Ri,"Received user=",h.uid),yield this.authCredentialListener(h),this.user=h}))),this.appCheckCredentials.start(s,(h=>(se(Ri,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((()=>k(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Mf(t,"Failed to shutdown persistence");e.reject(s)}}))),e.promise}}function Cd(i,e){return k(this,null,function*(){i.asyncQueue.verifyOperationInProgress(),se(Ri,"Initializing OfflineComponentProvider");const t=i.configuration;yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((o=>k(null,null,function*(){s.isEqual(o)||(yield $v(e.localStore,o),s=o)}))),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e})}function Fy(i,e){return k(this,null,function*(){i.asyncQueue.verifyOperationInProgress();const t=yield Fx(i);se(Ri,"Initializing OnlineComponentProvider"),yield e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>Vy(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>Vy(e.remoteStore,o))),i._onlineComponents=e})}function Fx(i){return k(this,null,function*(){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se(Ri,"Using user provided OfflineComponentProvider");try{yield Cd(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),yield Cd(i,new _c)}}else se(Ri,"Using default OfflineComponentProvider"),yield Cd(i,new Lx(void 0));return i._offlineComponents})}function aE(i){return k(this,null,function*(){return i._onlineComponents||(i._uninitializedComponentsProvider?(se(Ri,"Using user provided OnlineComponentProvider"),yield Fy(i,i._uninitializedComponentsProvider._online)):(se(Ri,"Using default OnlineComponentProvider"),yield Fy(i,new Zd))),i._onlineComponents})}function Ux(i){return aE(i).then((e=>e.syncEngine))}function zx(i){return k(this,null,function*(){const e=yield aE(i),t=e.eventManager;return t.onListen=Ix.bind(null,e.syncEngine),t.onUnlisten=xx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Sx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cx.bind(null,e.syncEngine),t})}function Bx(i,e,t={}){const s=new Ti;return i.asyncQueue.enqueueAndForget((()=>k(null,null,function*(){return(function(l,h,m,g,_){const T=new Mx({next:P=>{T.Nu(),h.enqueueAndForget((()=>mx(l,I))),P.fromCache&&g.source==="server"?_.reject(new ne($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(P)},error:P=>_.reject(P)}),I=new _x(m,T,{includeMetadataChanges:!0,qa:!0});return px(l,I)})(yield zx(i),i.asyncQueue,e,t,s)}))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firestore.googleapis.com",zy=!0;class By{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ne($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=zy}else this.host=e.host,this.ssl=(t=e.ssl)!=null?t:zy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gA)throw new ne($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE((s=e.experimentalLongPollingOptions)!=null?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ne($.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new q1;switch(s.type){case"firstParty":return new K1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ne($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return k(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Uy.get(t);s&&(se("ComponentProvider","Removing Datastore"),Uy.delete(t),s.terminate())})(this),Promise.resolve()}}function $x(i,e,t,s={}){var _;i=ps(i,Mc);const o=Po(e),l=i._getSettings(),h=En(Ne({},l),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${t}`;o&&(s_(`https://${m}`),o_("Firestore",!0)),l.host!==uE&&l.host!==m&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=En(Ne({},l),{host:m,ssl:o,emulatorOptions:s});if(!cs(g,h)&&(i._setSettings(g),s.mockUserToken)){let T,I;if(typeof s.mockUserToken=="string")T=s.mockUserToken,I=zt.MOCK_USER;else{T=n0(s.mockUserToken,(_=i._app)==null?void 0:_.options.projectId);const P=s.mockUserToken.sub||s.mockUserToken.user_id;if(!P)throw new ne($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new zt(P)}i._authCredentials=new H1(new J_(T,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Et{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(ll(t,Et._jsonSchema))return new Et(e,s||null,new fe(Qe.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:yt("string",Et._jsonSchemaVersion),referencePath:yt("string")};class Ii extends vs{constructor(e,t,s){super(e,t,yv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new fe(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function ba(i,e,...t){if(i=xt(i),Z_("collection","path",e),i instanceof Mc){const s=Qe.fromString(e,...t);return ty(s),new Ii(i,null,s)}{if(!(i instanceof Et||i instanceof Ii))throw new ne($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...t));return ty(s),new Ii(i.firestore,null,s)}}function ef(i,e,...t){if(i=xt(i),arguments.length===1&&(e=yf.newId()),Z_("doc","path",e),i instanceof Mc){const s=Qe.fromString(e,...t);return ey(s),new Et(i,null,new fe(s))}{if(!(i instanceof Et||i instanceof Ii))throw new ne($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...t));return ey(s),new Et(i.firestore,i instanceof Ii?i.converter:null,new fe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="AsyncQueue";class qy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Hv(this,"async_queue_retry"),this._c=()=>{const s=xd();s&&se($y,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=xd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}lc(){return k(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;se($y,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}})}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",Hy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Lf.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Hy(this.nc)})}verifyOperationInProgress(){}Tc(){return k(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hy(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class fl extends Mc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new qy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return k(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,yield e}})}}function qx(i,e){const t=typeof i=="object"?i:c_(),s=typeof i=="string"?i:cc,o=af(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=e0("firestore");l&&$x(o,...l)}return o}function cE(i){if(i._terminated)throw new ne($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Hx(i),i._firestoreClient}function Hx(i){var s,o,l;const e=i._freezeSettings(),t=(function(m,g,_,T){return new hS(m,g,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,lE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new jx(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(bt.fromBase64String(e))}catch(t){throw new ne($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new wn(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ll(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:yt("string",wn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(ll(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:yt("string",ar._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ll(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new lr(e.vectorValues);throw new ne($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:yt("string",lr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^__.*__$/;class Gx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,t,this.fieldTransforms):new ul(e,this.data,t,this.fieldTransforms)}}class hE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Di(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Bf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bf(Ne(Ne({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dE(this.Ac)&&Wx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Kx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||bc(e)}Cc(e,t,s,o=!1){return new Bf({Ac:e,methodName:t,Dc:s,path:Vt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $f(i){const e=i._freezeSettings(),t=bc(i._databaseId);return new Kx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Qx(i,e,t,s,o,l={}){const h=i.Cc(l.merge||l.mergeFields?2:0,e,t,o);qf("Data must be an object, but it was:",h,s);const m=fE(s,h);let g,_;if(l.merge)g=new hn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const T=[];for(const I of l.mergeFields){const P=tf(e,I,t);if(!h.contains(P))throw new ne($.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);mE(T,P)||T.push(P)}g=new hn(T),_=h.fieldTransforms.filter((I=>g.covers(I.field)))}else g=null,_=h.fieldTransforms;return new Gx(new en(m),g,_)}class Fc extends zf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fc}}function Yx(i,e,t,s){const o=i.Cc(1,e,t);qf("Data must be an object, but it was:",o,s);const l=[],h=en.empty();Ni(s,((g,_)=>{const T=Hf(e,g,t);_=xt(_);const I=o.yc(T);if(_ instanceof Fc)l.push(T);else{const P=pl(_,I);P!=null&&(l.push(T),h.set(T,P))}}));const m=new hn(l);return new hE(h,m,o.fieldTransforms)}function Xx(i,e,t,s,o,l){const h=i.Cc(1,e,t),m=[tf(e,s,t)],g=[o];if(l.length%2!=0)throw new ne($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)m.push(tf(e,l[P])),g.push(l[P+1]);const _=[],T=en.empty();for(let P=m.length-1;P>=0;--P)if(!mE(_,m[P])){const B=m[P];let J=g[P];J=xt(J);const G=h.yc(B);if(J instanceof Fc)_.push(B);else{const q=pl(J,G);q!=null&&(_.push(B),T.set(B,q))}}const I=new hn(_);return new hE(T,I,h.fieldTransforms)}function Jx(i,e,t,s=!1){return pl(t,i.Cc(s?4:3,e))}function pl(i,e){if(pE(i=xt(i)))return qf("Unsupported field value:",e,i),fE(i,e);if(i instanceof zf)return(function(s,o){if(!dE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const m of s){let g=pl(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(i,e)}return(function(s,o){if((s=xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:mc(o.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mc(o.serializer,l)}}if(s instanceof ar)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:bv(o.serializer,s._byteString)};if(s instanceof Et){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof lr)return(function(h,m){return{mapValue:{fields:{[lv]:{stringValue:uv},[hc]:{arrayValue:{values:h.toArray().map((_=>{if(typeof _!="number")throw m.Sc("VectorValues must only contain numeric values.");return If(m.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ac(s)}`)})(i,e)}function fE(i,e){const t={};return nv(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(i,((s,o)=>{const l=pl(o,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function pE(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ze||i instanceof ar||i instanceof wn||i instanceof Et||i instanceof zf||i instanceof lr)}function qf(i,e,t){if(!pE(t)||!ev(t)){const s=Ac(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function tf(i,e,t){if((e=xt(e))instanceof jc)return e._internalPath;if(typeof e=="string")return Hf(i,e);throw vc("Field path arguments must be of type string or ",i,!1,void 0,t)}const Zx=new RegExp("[~\\*/\\[\\]]");function Hf(i,e,t){if(e.search(Zx)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new jc(...e.split("."))._internalPath}catch(s){throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function vc(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ne($.INVALID_ARGUMENT,m+i+g)}function mE(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class eC extends gE{data(){return super.data()}}function Wf(i,e){return typeof e=="string"?Hf(i,e):e instanceof jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ne($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class yE extends Gf{}function Uu(i,e,...t){let s=[];e instanceof Gf&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((g=>g instanceof Qf)).length,m=l.filter((g=>g instanceof Kf)).length;if(h>1||h>0&&m>0)throw new ne($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Kf extends yE{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kf(e,t,s)}_apply(e){const t=this._parse(e);return _E(e._query,t),new vs(e.firestore,e.converter,$d(e._query,t))}_parse(e){const t=$f(e.firestore);return(function(l,h,m,g,_,T,I){let P;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ne($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Gy(I,T);const J=[];for(const G of I)J.push(Wy(g,l,G));P={arrayValue:{values:J}}}else P=Wy(g,l,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Gy(I,T),P=Jx(m,h,I,T==="in"||T==="not-in");return gt.create(_,T,P)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qf extends Gf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qf(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Mn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const m=l.getFlattenedFilters();for(const g of m)_E(h,g),h=$d(h,g)})(e._query,t),new vs(e.firestore,e.converter,$d(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yf extends yE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yf(e,t)}_apply(e){const t=(function(o,l,h){if(o.startAt!==null)throw new ne($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ne($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new el(l,h)})(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,(function(o,l){const h=o.explicitOrderBy.concat([l]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function zu(i,e="asc"){const t=e,s=Wf("orderBy",i);return Yf._create(s,t)}function Wy(i,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new ne($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_v(e)&&t.indexOf("/")!==-1)throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Qe.fromString(t));if(!fe.isDocumentKey(s))throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uy(i,new fe(s))}if(t instanceof Et)return uy(i,t._key);throw new ne($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ac(t)}.`)}function Gy(i,e){if(!Array.isArray(i)||i.length===0)throw new ne($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _E(i,e){const t=(function(o,l){for(const h of o)for(const m of h.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nC{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ni(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,o,l;const t=(l=(o=(s=e.fields)==null?void 0:s[hc].arrayValue)==null?void 0:o.values)==null?void 0:l.map((h=>ht(h.doubleValue)));return new lr(t)}convertGeoPoint(e){return new ar(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Qe.fromString(e);He(Uv(s),9688,{name:e});const o=new Ja(s.get(1),s.get(3)),l=new fe(s.popFirst(5));return o.isEqual(t)||Dr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eo extends gE{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Eo._jsonSchema={type:yt("string",Eo._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class ec extends Eo{data(e={}){return super.data(e)}}class wo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new ec(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ne($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const g=new ec(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new ec(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:iC(m.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iC(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}wo._jsonSchemaVersion="firestore/querySnapshot/1.0",wo._jsonSchema={type:yt("string",wo._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class sC extends nC{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function $u(i){i=ps(i,vs);const e=ps(i.firestore,fl),t=cE(e),s=new sC(e);return tC(i._query),Bx(t,i._query).then((o=>new wo(e,s,i,o)))}function oC(i,e,t,...s){i=ps(i,Et);const o=ps(i.firestore,fl),l=$f(o);let h;return h=typeof(e=xt(e))=="string"||e instanceof jc?Xx(l,"updateDoc",i._key,e,t,s):Yx(l,"updateDoc",i._key,e),Xf(o,[h.toMutation(i._key,On.exists(!0))])}function aC(i){return Xf(ps(i.firestore,fl),[new Sf(i._key,On.none())])}function lC(i,e){const t=ps(i.firestore,fl),s=ef(i),o=rC(i.converter,e);return Xf(t,[Qx($f(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then((()=>s))}function Xf(i,e){return(function(s,o){const l=new Ti;return s.asyncQueue.enqueueAndForget((()=>k(null,null,function*(){return kx(yield Ux(s),o,l)}))),l.promise})(cE(i),e)}(function(e,t=!0){(function(o){bo=o})(No),To(new hs("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new fl(new W1(s.getProvider("auth-internal")),new Q1(h,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ne($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(_.options.projectId,T)})(h,o),h);return l=Ne({useFetchStreams:t},l),m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),vi(Yg,Xg,e),vi(Yg,Xg,"esm2020")})();const uC={apiKey:"AIzaSyBNVnhGUlYw6z-mjapdJuj9Hp3l5z_ESCY",authDomain:"my-portfolio-db-8e7ac.firebaseapp.com",projectId:"my-portfolio-db-8e7ac",storageBucket:"my-portfolio-db-8e7ac.firebasestorage.app",messagingSenderId:"640921515154",appId:"1:640921515154:web:528be384c173cf632e224b"},vE=u_(uC),as=qx(vE),kd=U1(vE),cC=()=>{const[i,e]=Re.useState(null),[t,s]=Re.useState(!0),[o,l]=Re.useState("");return Re.useEffect(()=>{const g=RI(kd,_=>{e(_),s(!1)});return()=>g()},[]),{user:i,loading:t,loginError:o,login:(g,_)=>k(null,null,function*(){try{return l(""),yield xI(kd,g,_),!0}catch(T){return l("Login failed. Check your email/password."),!1}}),logout:()=>k(null,null,function*(){yield PI(kd)}),setLoginError:l}},hC=()=>{const[i,e]=Re.useState([]),[t,s]=Re.useState([]),[o,l]=Re.useState([]),[h,m]=Re.useState([]),[g,_]=Re.useState(!0),[T,I]=Re.useState(null),P=Re.useCallback(()=>k(null,null,function*(){_(!0),I(null);let G=null;try{const q=new Promise((R,A)=>{G=setTimeout(()=>{A(new Error("Request timeout. Please check your internet connection."))},8e3)}),pe=Promise.all([$u(Uu(ba(as,"projects"),zu("createdAt","desc"))),$u(Uu(ba(as,"experiences"),zu("order","asc"))),$u(Uu(ba(as,"educations"),zu("order","asc"))),$u(Uu(ba(as,"skills"),zu("order","asc")))]),de=yield Promise.race([pe,q]);G&&clearTimeout(G);const[we,xe,je,Ce]=de;e(we.docs.map(R=>Ne({id:R.id},R.data()))),s(xe.docs.map(R=>Ne({id:R.id},R.data()))),l(je.docs.map(R=>Ne({id:R.id},R.data()))),m(Ce.docs.map(R=>Ne({id:R.id},R.data())))}catch(q){G&&clearTimeout(G),console.error("Error fetching data: ",q),I(q.message||"Failed to fetch data"),e([]),s([]),l([]),m([])}finally{_(!1)}}),[]);return{projects:i,experiences:t,educations:o,skills:h,loading:g,error:T,fetchData:P,saveDocument:(G,q,pe)=>k(null,null,function*(){try{return pe?yield oC(ef(as,G,pe),q):yield lC(ba(as,G),q),yield P(),!0}catch(de){return console.error("Error saving document: ",de),I(de.message||"Failed to save document"),!1}}),deleteDocument:(G,q)=>k(null,null,function*(){try{return yield aC(ef(as,G,q)),yield P(),!0}catch(pe){return console.error("Error deleting document: ",pe),I(pe.message||"Failed to delete document"),!1}})}},dC=(i=50)=>{const[e,t]=Re.useState(!1);return Re.useEffect(()=>{const s=()=>{t(window.scrollY>i)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[i]),e};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EE=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Re.forwardRef((_,g)=>{var T=_,{color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:h}=T,m=lo(T,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return Re.createElement("svg",Ne(En(Ne({ref:g},pC),{width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:EE("lucide",o)}),m),[...h.map(([I,P])=>Re.createElement(I,P)),...Array.isArray(l)?l:[l]])});/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(i,e)=>{const t=Re.forwardRef((h,l)=>{var m=h,{className:s}=m,o=lo(m,["className"]);return Re.createElement(mC,Ne({ref:l,iconNode:e,className:EE(`lucide-${fC(i)}`,s)},o))});return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=Ct("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Ct("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=Ct("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=Ct("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=Ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=Ct("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Ct("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ct("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=Ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=Ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Ct("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Ct("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xy=["About","Experience","Projects","Skills","Contact"],SC=({scrolled:i,isMenuOpen:e,onToggleMenu:t,onNavigate:s})=>E.jsxs("nav",{className:`fixed w-full z-40 transition-all duration-500 ${i?"bg-background/80 backdrop-blur-xl border-b border-border shadow-lg":"bg-transparent py-2"}`,children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[E.jsxs("div",{onClick:()=>s("home"),className:"text-2xl font-black text-foreground cursor-pointer hover:text-primary transition-colors font-display",role:"button",tabIndex:0,onKeyDown:o=>o.key==="Enter"&&s("home"),"aria-label":"Go to home",children:["HK",E.jsx("span",{className:"text-primary",children:"."})]}),E.jsx("div",{className:"hidden md:flex items-center gap-1",children:Xy.map(o=>E.jsx("button",{onClick:()=>s(o.toLowerCase()),className:"px-5 py-2.5 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-secondary/50 rounded-full transition-all",children:o},o))}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:t,className:"text-foreground p-2 hover:bg-secondary rounded-lg transition-colors","aria-label":e?"Close menu":"Open menu","aria-expanded":e,children:e?E.jsx(TE,{size:24}):E.jsx(vC,{size:24})})})]}),e&&E.jsx("div",{className:"md:hidden bg-card/95 backdrop-blur-xl border-b border-border animate-slide-down absolute w-full",children:E.jsx("div",{className:"px-6 py-4 flex flex-col space-y-2",children:Xy.map(o=>E.jsx("button",{onClick:()=>s(o.toLowerCase()),className:"text-left px-4 py-3 text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-secondary rounded-xl transition-all",children:o},o))})})]}),AC=({isOpen:i,onClose:e,onLogin:t,loginError:s})=>{const[o,l]=Re.useState(""),[h,m]=Re.useState("");if(!i)return null;const g=_=>k(null,null,function*(){_.preventDefault(),(yield t(o,h))&&(l(""),m(""))});return E.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[101] flex items-center justify-center p-4 animate-fade-in",children:E.jsxs("div",{className:"glass-panel p-8 rounded-3xl w-full max-w-md shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h2",{className:"text-2xl font-bold text-foreground font-display",children:"Admin Login"}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-secondary rounded-full transition-colors","aria-label":"Close login modal",children:E.jsx(TE,{className:"text-muted-foreground hover:text-foreground"})})]}),E.jsxs("form",{onSubmit:g,className:"space-y-5",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Email"}),E.jsx("input",{type:"email",value:o,onChange:_=>l(_.target.value),className:"input-field",placeholder:"admin@example.com",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"Password"}),E.jsx("input",{type:"password",value:h,onChange:_=>m(_.target.value),className:"input-field",placeholder:"",required:!0})]}),s&&E.jsx("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg text-destructive text-sm text-center",children:s}),E.jsx("button",{type:"submit",className:"w-full btn-primary py-4 text-base",children:"Access Dashboard"})]})]})})},xC=({user:i,isAdminMode:e,onToggleAdminMode:t,onLogout:s})=>E.jsx("div",{className:"fixed bottom-8 right-8 z-[100]",children:i?E.jsxs("div",{className:"flex gap-3 items-center animate-fade-in-up",children:[E.jsx("span",{className:"bg-primary/90 backdrop-blur text-primary-foreground px-4 py-2 rounded-full text-xs font-bold shadow-lg",children:"Admin Mode"}),E.jsx("button",{onClick:s,className:"p-4 bg-destructive/90 backdrop-blur-xl text-destructive-foreground rounded-full shadow-2xl hover:bg-destructive hover:scale-110 transition-all duration-300",title:"Logout","aria-label":"Logout",children:E.jsx(_C,{size:20})})]}):E.jsx("button",{onClick:t,className:"p-4 bg-card/90 backdrop-blur-xl rounded-full shadow-2xl border border-border hover:bg-secondary hover:scale-110 transition-all duration-300 group",title:"Admin Login","aria-label":"Open admin login",children:E.jsx(yC,{size:20,className:"text-muted-foreground group-hover:text-foreground"})})}),CC=({onNavigate:i})=>E.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center px-6 relative pt-20",children:E.jsxs("div",{className:"max-w-5xl mx-auto text-center relative z-10",children:[E.jsxs("div",{className:"inline-flex items-center gap-2 mb-8 px-5 py-2.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-semibold animate-fade-in-up",children:[E.jsx(TC,{size:16}),"Content Strategist & Producer"]}),E.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black text-foreground mb-8 leading-[0.95] tracking-tight animate-fade-in-up delay-100 font-display",children:["Hyeongmo"," ",E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-amber-400",children:"Kim"})]}),E.jsxs("p",{className:"text-xl md:text-2xl text-muted-foreground mb-12 max-w-2xl mx-auto leading-relaxed font-light animate-fade-in-up delay-200",children:["Combining ",E.jsx("span",{className:"text-foreground font-medium",children:"Content"}),","," ",E.jsx("span",{className:"text-foreground font-medium",children:"AI"}),", and"," ",E.jsx("span",{className:"text-foreground font-medium",children:"Psychology"})," to create impactful digital experiences."]}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-5 animate-fade-in-up delay-300",children:[E.jsxs("button",{onClick:()=>i("contact"),className:"btn-primary py-4 px-8 text-lg flex items-center justify-center gap-3",children:[E.jsx(wE,{size:20})," Get in Touch"]}),E.jsxs("a",{href:"https://www.linkedin.com/in/hmstory0111",target:"_blank",rel:"noreferrer",className:"btn-secondary py-4 px-8 text-lg flex items-center justify-center gap-3",children:[E.jsx(gC,{size:20})," LinkedIn"]})]}),E.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 animate-float",children:E.jsx("div",{className:"w-6 h-10 border-2 border-muted-foreground/30 rounded-full flex justify-center pt-2",children:E.jsx("div",{className:"w-1.5 h-3 bg-primary rounded-full animate-bounce"})})})]})}),zc=({type:i,editingItem:e,formData:t,onFormDataChange:s,onSave:o,onCancel:l})=>{const h=e&&e.type===i,m=(g,_)=>{s(En(Ne({},t),{[g]:_}))};return E.jsxs("div",{className:"glass-panel p-6 rounded-2xl mb-8 animate-fade-in-up border-primary/30 ring-1 ring-primary/20",children:[E.jsxs("h4",{className:"text-lg font-bold text-foreground mb-6 flex items-center gap-2 font-display",children:[h?E.jsx(ml,{size:20,className:"text-primary"}):E.jsx(gl,{size:20,className:"text-primary"}),h?"Edit Item":"Add New Item"]}),E.jsxs("div",{className:"grid gap-5",children:[i==="project"&&E.jsxs(E.Fragment,{children:[E.jsx("input",{className:"input-field",placeholder:"Title",value:t.title||"",onChange:g=>m("title",g.target.value),required:!0}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("select",{className:"input-field",value:t.type||"blog",onChange:g=>m("type",g.target.value),required:!0,children:[E.jsx("option",{value:"blog",children:"Blog"}),E.jsx("option",{value:"video",children:"Video"}),E.jsx("option",{value:"podcast",children:"Podcast"})]}),E.jsx("input",{className:"input-field",placeholder:"Link Text",value:t.linkText||"",onChange:g=>m("linkText",g.target.value),required:!0})]}),E.jsx("textarea",{className:"input-field min-h-[100px]",placeholder:"Description",value:t.description||"",onChange:g=>m("description",g.target.value),required:!0}),t.type==="video"?E.jsx("input",{className:"input-field",placeholder:"YouTube Video ID",value:t.videoId||"",onChange:g=>m("videoId",g.target.value),required:!0}):E.jsx("input",{className:"input-field",placeholder:"Link URL",value:t.link||"",onChange:g=>m("link",g.target.value),required:!0})]}),i==="experience"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsx("input",{className:"input-field",placeholder:"Role / Job Title",value:t.role||"",onChange:g=>m("role",g.target.value),required:!0}),E.jsx("input",{className:"input-field",placeholder:"Company",value:t.company||"",onChange:g=>m("company",g.target.value),required:!0})]}),E.jsx("input",{className:"input-field",placeholder:"Period (e.g. 2022 - 2024)",value:t.period||"",onChange:g=>m("period",g.target.value),required:!0}),E.jsx("textarea",{className:"input-field min-h-[150px]",placeholder:"Details (One item per line)",value:t.detailsStr||"",onChange:g=>m("detailsStr",g.target.value)})]}),i==="education"&&E.jsxs(E.Fragment,{children:[E.jsx("input",{className:"input-field",placeholder:"School Name",value:t.school||"",onChange:g=>m("school",g.target.value),required:!0}),E.jsx("input",{className:"input-field",placeholder:"Degree / Major",value:t.degree||"",onChange:g=>m("degree",g.target.value),required:!0}),E.jsx("input",{className:"input-field",placeholder:"Period / Location",value:t.period||"",onChange:g=>m("period",g.target.value),required:!0}),E.jsx("textarea",{className:"input-field min-h-[100px]",placeholder:"Description",value:t.description||"",onChange:g=>m("description",g.target.value)})]}),i==="skill"&&E.jsxs(E.Fragment,{children:[E.jsx("input",{className:"input-field",placeholder:"Category",value:t.category||"",onChange:g=>m("category",g.target.value),required:!0}),E.jsx("textarea",{className:"input-field min-h-[100px]",placeholder:"Skills (Comma separated)",value:t.items||"",onChange:g=>m("items",g.target.value),required:!0})]}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsxs("button",{onClick:o,className:"btn-primary px-6 py-3 flex items-center gap-2",children:[E.jsx(wC,{size:18})," Save"]}),E.jsxs("button",{onClick:l,className:"btn-secondary px-6 py-3 flex items-center gap-2",children:[E.jsx(EC,{size:18})," Cancel"]})]})]})]})},kC=({user:i,educations:e,isAdding:t,editingItem:s,formData:o,onStartAdd:l,onStartEdit:h,onDelete:m,onFormDataChange:g,onSave:_,onCancel:T})=>E.jsx("section",{id:"about",className:"py-32 px-6",children:E.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-2 gap-16 items-start",children:[E.jsxs("div",{className:"animate-fade-in-up",children:[E.jsx("h2",{className:"section-title mb-8",children:"Professional Summary"}),E.jsxs("div",{className:"space-y-6 text-lg text-muted-foreground leading-relaxed",children:[E.jsxs("p",{children:["I am a multidisciplinary professional working across"," ",E.jsx("span",{className:"text-foreground font-medium",children:"content strategy, production, and operations"}),". My passion lies in bridging the gap between creative storytelling and analytical rigor."]}),E.jsxs("p",{children:["Currently, I am expanding my expertise by pursuing an"," ",E.jsx("span",{className:"text-primary font-semibold",children:"M.A. Psychological Science in Digital Innovation"}),", specifically studying how AI and data can inform audience behavior analysis and decision-making processes."]})]})]}),E.jsxs("div",{className:"glass-panel p-8 rounded-3xl shadow-xl relative animate-fade-in-up delay-200",children:[E.jsxs("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-border",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-primary/10 rounded-xl text-primary",children:E.jsx(nf,{size:28})}),E.jsx("h3",{className:"text-2xl font-bold text-foreground font-display",children:"Education"})]}),i&&E.jsx("button",{onClick:()=>l("education"),className:"icon-btn-add","aria-label":"Add education",children:E.jsx(gl,{size:20})})]}),(t==="education"||(s==null?void 0:s.type)==="education")&&E.jsx(zc,{type:"education",editingItem:s,formData:o,onFormDataChange:g,onSave:()=>_("education"),onCancel:T}),E.jsx("div",{className:"space-y-8",children:e.length>0?e.map(I=>E.jsxs("div",{className:"relative pl-8 border-l-2 border-border group hover:border-primary/50 transition-colors",children:[E.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-secondary border-4 border-background group-hover:bg-primary transition-colors"}),i&&E.jsxs("div",{className:"absolute right-0 top-0 flex gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>h("education",I),className:"icon-btn-edit","aria-label":"Edit education",children:E.jsx(ml,{size:14})}),E.jsx("button",{onClick:()=>m("education",I.id),className:"icon-btn-delete","aria-label":"Delete education",children:E.jsx(Uc,{size:14})})]}),E.jsx("h4",{className:"text-xl font-bold text-foreground mb-1 font-display",children:I.school}),E.jsxs("p",{className:"text-primary font-medium text-sm mb-3 uppercase tracking-wide",children:[I.degree,"  ",I.period]}),E.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed bg-secondary/30 p-4 rounded-xl",children:I.description})]},I.id)):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"relative pl-8 border-l-2 border-primary/30",children:[E.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-primary shadow-lg shadow-primary/50"}),E.jsx("h4",{className:"text-xl font-bold text-foreground mb-1 font-display",children:"Yonsei University Graduate School of Innovative Psychological Science"}),E.jsxs("div",{className:"flex items-center gap-3 text-primary font-medium text-sm mb-3",children:[E.jsx(Ky,{size:14}),E.jsx("span",{children:"M.A. Digital Innovation (Expected 2027)"})]}),E.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Focus: Psychology-based AI, Generative AI, Psychological Statistics, Cognitive Engineering Psychology, Gamification & Reinforcement Systems, Cognitive Neuroscience of Memory"})]}),E.jsxs("div",{className:"relative pl-8 border-l-2 border-border",children:[E.jsx("div",{className:"absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-secondary border-2 border-border"}),E.jsx("h4",{className:"text-xl font-bold text-foreground mb-1 font-display",children:"Yonsei University"}),E.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground text-sm mb-3",children:[E.jsx(Ky,{size:14}),E.jsx("span",{children:"B.A. International Relations (Wonju) & Psychology (Sinchon)  2005 - 2013"})]})]})]})})]})]})}),RC=({user:i,experiences:e,isAdding:t,editingItem:s,formData:o,onStartAdd:l,onStartEdit:h,onDelete:m,onFormDataChange:g,onSave:_,onCancel:T})=>E.jsxs("section",{id:"experience",className:"py-32 px-6 relative",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-secondary/20 via-transparent to-secondary/20 pointer-events-none"}),E.jsxs("div",{className:"max-w-5xl mx-auto relative z-10",children:[E.jsxs("div",{className:"flex items-center justify-between mb-16",children:[E.jsx("h2",{className:"section-title",children:"Professional Experience"}),i&&E.jsxs("button",{onClick:()=>l("experience"),className:"btn-primary py-3 px-5 text-sm flex items-center gap-2","aria-label":"Add experience",children:[E.jsx(gl,{size:18})," Add"]})]}),(t==="experience"||(s==null?void 0:s.type)==="experience")&&E.jsx(zc,{type:"experience",editingItem:s,formData:o,onFormDataChange:g,onSave:()=>_("experience"),onCancel:T}),E.jsx("div",{className:"space-y-8",children:e.length>0?e.map(I=>E.jsxs("div",{className:"glass-card p-8 rounded-3xl group relative",children:[i&&E.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>h("experience",I),className:"icon-btn-edit","aria-label":"Edit experience",children:E.jsx(ml,{size:16})}),E.jsx("button",{onClick:()=>m("experience",I.id),className:"icon-btn-delete","aria-label":"Delete experience",children:E.jsx(Uc,{size:16})})]}),E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors font-display",children:I.role}),E.jsx("p",{className:"text-lg text-muted-foreground font-medium",children:I.company})]}),E.jsx("span",{className:"px-4 py-2 bg-secondary text-secondary-foreground text-sm font-semibold rounded-full border border-border",children:I.period})]}),E.jsx("ul",{className:"space-y-3",children:I.details&&I.details.map((P,B)=>E.jsxs("li",{className:"flex items-start gap-3 text-muted-foreground leading-relaxed group-hover:text-secondary-foreground transition-colors",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:P})]},B))})]},I.id)):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"glass-card p-8 rounded-3xl group",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors font-display",children:"Podcast & Video Producer"}),E.jsx("p",{className:"text-lg text-muted-foreground font-medium",children:"Krafton - Publishing Platform Division"})]}),E.jsx("span",{className:"px-4 py-2 bg-primary/10 text-primary text-sm font-semibold rounded-full border border-primary/20",children:"2025 - Present"})]}),E.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Produced internal podcasts and videos for 200+ staff"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Full production cycle: script, host, record, film, edit"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Used AI tools for faster editing and new storytelling"})]})]})]}),E.jsxs("div",{className:"glass-card p-8 rounded-3xl group",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors font-display",children:"Content Strategy & Operations"}),E.jsx("p",{className:"text-lg text-muted-foreground font-medium",children:"Krafton - Deep Learning Division (AUDIC)"})]}),E.jsx("span",{className:"px-4 py-2 bg-secondary text-secondary-foreground text-sm font-semibold rounded-full border border-border",children:"2022 - 2024"})]}),E.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Led content strategy for AI-based voice UGC platform"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Analyzed user data to guide programming and growth"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Onboarded 4 creator communities; sustained WAU  3,000"})]})]})]}),E.jsxs("div",{className:"glass-card p-8 rounded-3xl group",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors font-display",children:"Producer & Writer"}),E.jsx("p",{className:"text-lg text-muted-foreground font-medium",children:"Radio & Podcast (TBS, EBS, Gugak FM)"})]}),E.jsx("span",{className:"px-4 py-2 bg-secondary text-secondary-foreground text-sm font-semibold rounded-full border border-border",children:"2015 - 2021"})]}),E.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Won 2017 Korean PD Award (TBS)"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Won 2018 Program of the Month Award (EBS)"})]}),E.jsxs("li",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"mt-2 w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0"}),E.jsx("span",{children:"Directed 200+ guest interviews per year"})]})]})]})]})})]})]}),PC=({user:i,projects:e,isAdding:t,editingItem:s,formData:o,onStartAdd:l,onStartEdit:h,onDelete:m,onFormDataChange:g,onSave:_,onCancel:T})=>E.jsx("section",{id:"projects",className:"py-32 px-6",children:E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs("div",{className:"flex items-center justify-between mb-16",children:[E.jsx("h2",{className:"section-title",children:"Selected Works"}),i&&E.jsxs("button",{onClick:()=>l("project"),className:"btn-primary py-3 px-5 text-sm flex items-center gap-2","aria-label":"Add project",children:[E.jsx(gl,{size:18})," Add"]})]}),(t==="project"||(s==null?void 0:s.type)==="project")&&E.jsx(zc,{type:"project",editingItem:s,formData:o,onFormDataChange:g,onSave:()=>_("project"),onCancel:T}),E.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden group flex flex-col",children:[E.jsxs("div",{className:"h-56 bg-secondary flex items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent group-hover:from-primary/20 transition-colors"}),E.jsx(nf,{size:56,className:"text-muted-foreground group-hover:text-primary transition-colors z-10 group-hover:scale-110 transition-transform duration-500"})]}),E.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[E.jsx("h3",{className:"text-xl font-bold text-foreground mb-3 group-hover:text-primary transition-colors font-display",children:"Film Review Blog"}),E.jsx("p",{className:"text-muted-foreground mb-6 text-sm leading-relaxed flex-1",children:"A comprehensive film review platform analyzing cinematic techniques and storytelling structures."}),E.jsxs("a",{href:"https://medium.com/@hmstory0111",target:"_blank",rel:"noreferrer",className:"mt-auto inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-primary/80 transition-colors group/link",children:["View Blog ",E.jsx(qu,{size:16,className:"group-hover/link:translate-x-1 transition-transform"})]})]})]}),E.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden group flex flex-col",children:[E.jsxs("div",{className:"h-56 bg-secondary flex items-center justify-center relative overflow-hidden",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-transparent group-hover:from-purple-500/20 transition-colors"}),E.jsx(Yy,{size:56,className:"text-muted-foreground group-hover:text-purple-400 transition-colors z-10 group-hover:scale-110 transition-transform duration-500"})]}),E.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[E.jsx("h3",{className:"text-xl font-bold text-foreground mb-3 group-hover:text-purple-400 transition-colors font-display",children:"Film Review Podcast"}),E.jsx("p",{className:"text-muted-foreground mb-6 text-sm leading-relaxed flex-1",children:"Proof of concept audio series exploring film narratives. Produced, hosted, and edited solo."}),E.jsxs("a",{href:"https://youtu.be/ZafaT7ibW9I",target:"_blank",rel:"noreferrer",className:"mt-auto inline-flex items-center gap-2 text-sm font-semibold text-purple-400 hover:text-purple-300 transition-colors group/link",children:["Listen on YouTube"," ",E.jsx(qu,{size:16,className:"group-hover/link:translate-x-1 transition-transform"})]})]})]}),E.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden group flex flex-col",children:[E.jsx("div",{className:"h-56 bg-secondary flex items-center justify-center relative overflow-hidden",children:E.jsx("img",{src:"https://img.youtube.com/vi/kcb8OI46uTA/hqdefault.jpg",alt:"AI Video",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"})}),E.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[E.jsx("h3",{className:"text-xl font-bold text-foreground mb-3 group-hover:text-red-400 transition-colors font-display",children:"AI Creative Video"}),E.jsx("p",{className:"text-muted-foreground mb-6 text-sm leading-relaxed flex-1",children:"Experimental video content created using Generative AI tools for new visual storytelling."}),E.jsxs("a",{href:"https://youtu.be/kcb8OI46uTA",target:"_blank",rel:"noreferrer",className:"mt-auto inline-flex items-center gap-2 text-sm font-semibold text-red-400 hover:text-red-300 transition-colors group/link",children:["Watch on YouTube"," ",E.jsx(qu,{size:16,className:"group-hover/link:translate-x-1 transition-transform"})]})]})]}),e.map(I=>E.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden group relative flex flex-col",children:[i&&E.jsxs("div",{className:"absolute top-3 right-3 z-20 flex gap-2 opacity-0 group-hover:opacity-100 transition-all bg-background/50 p-1.5 rounded-full backdrop-blur-md",children:[E.jsx("button",{onClick:()=>h("project",I),className:"icon-btn-edit","aria-label":"Edit project",children:E.jsx(ml,{size:14})}),E.jsx("button",{onClick:()=>m("project",I.id),className:"icon-btn-delete","aria-label":"Delete project",children:E.jsx(Uc,{size:14})})]}),E.jsx("div",{className:"h-56 bg-secondary flex items-center justify-center relative overflow-hidden",children:I.type==="video"&&I.videoId?E.jsx("img",{src:`https://img.youtube.com/vi/${I.videoId}/hqdefault.jpg`,alt:I.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent"}),I.type==="podcast"?E.jsx(Yy,{size:56,className:"text-muted-foreground group-hover:text-purple-400 z-10"}):E.jsx(nf,{size:56,className:"text-muted-foreground group-hover:text-primary z-10"})]})}),E.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[E.jsx("h3",{className:"text-xl font-bold text-foreground mb-3 group-hover:text-primary transition-colors font-display",children:I.title}),E.jsx("p",{className:"text-muted-foreground mb-6 text-sm line-clamp-3 leading-relaxed flex-1",children:I.description}),E.jsxs("a",{href:I.type==="video"?`https://youtu.be/${I.videoId}`:I.link,target:"_blank",rel:"noreferrer",className:"mt-auto inline-flex items-center gap-2 text-sm font-semibold text-primary hover:text-primary/80 transition-colors group/link",children:[I.linkText||"View Detail"," ",E.jsx(qu,{size:16,className:"group-hover/link:translate-x-1 transition-transform"})]})]})]},I.id))]})]})}),NC=({user:i,skills:e,isAdding:t,editingItem:s,formData:o,onStartAdd:l,onStartEdit:h,onDelete:m,onFormDataChange:g,onSave:_,onCancel:T})=>E.jsxs("section",{id:"skills",className:"py-32 px-6 relative",children:[E.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-secondary/20 via-transparent to-secondary/20 pointer-events-none"}),E.jsxs("div",{className:"max-w-5xl mx-auto relative z-10",children:[E.jsxs("div",{className:"flex items-center justify-center gap-4 mb-16 relative",children:[E.jsx("h2",{className:"section-title text-center",children:"Skills & Expertise"}),i&&E.jsx("button",{onClick:()=>l("skill"),className:"absolute right-0 top-1 btn-primary py-2 px-3 text-xs","aria-label":"Add skill",children:E.jsx(gl,{size:16})})]}),(t==="skill"||(s==null?void 0:s.type)==="skill")&&E.jsx(zc,{type:"skill",editingItem:s,formData:o,onFormDataChange:g,onSave:()=>_("skill"),onCancel:T}),E.jsx("div",{className:"grid md:grid-cols-2 gap-10",children:e.length>0?e.map(I=>E.jsxs("div",{className:"relative group",children:[i&&E.jsxs("div",{className:"absolute -top-2 -right-2 z-20 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[E.jsx("button",{onClick:()=>h("skill",I),className:"icon-btn-edit","aria-label":"Edit skill",children:E.jsx(ml,{size:12})}),E.jsx("button",{onClick:()=>m("skill",I.id),className:"icon-btn-delete","aria-label":"Delete skill",children:E.jsx(Uc,{size:12})})]}),E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:E.jsx(Qy,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-foreground font-display",children:I.category})]}),E.jsx("div",{className:"flex flex-wrap gap-3",children:I.items&&I.items.map((P,B)=>E.jsx("span",{className:"px-4 py-2 bg-secondary hover:bg-muted text-secondary-foreground rounded-lg text-sm border border-border hover:border-primary/30 transition-all cursor-default",children:P},B))})]},I.id)):E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:E.jsx(Qy,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-foreground font-display",children:"Strategy & Data"})]}),E.jsx("div",{className:"flex flex-wrap gap-3",children:["Audience Insights","Content Analytics","Roadmapping","Cross-functional Ops"].map(I=>E.jsx("span",{className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-lg text-sm border border-border hover:border-primary/30 transition-all",children:I},I))})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg text-primary",children:E.jsx(IC,{size:24})}),E.jsx("h3",{className:"text-xl font-bold text-foreground font-display",children:"Production & Tools"})]}),E.jsx("div",{className:"flex flex-wrap gap-3",children:["Pro Tools","Premiere Pro","Final Cut Pro","AI Editing Tools"].map(I=>E.jsx("span",{className:"px-4 py-2 bg-secondary text-secondary-foreground rounded-lg text-sm border border-border hover:border-primary/30 transition-all",children:I},I))})]})]})})]})]}),DC=()=>E.jsx("section",{id:"contact",className:"py-32 px-6",children:E.jsxs("div",{className:"max-w-3xl mx-auto text-center glass-panel p-12 rounded-3xl shadow-2xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-amber-400 to-primary"}),E.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-primary/10 rounded-full blur-3xl"}),E.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-primary/10 rounded-full blur-3xl"}),E.jsx("h2",{className:"text-4xl font-bold text-foreground mb-8 font-display relative z-10",children:"Ready to Collaborate?"}),E.jsx("p",{className:"text-muted-foreground mb-10 text-lg relative z-10",children:"I'm always open to discussing content strategy, AI applications in media, or production opportunities."}),E.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-6 relative z-10",children:E.jsxs("a",{href:"mailto:hmstory0111@gmail.com",className:"btn-primary py-4 px-8 text-lg flex items-center justify-center gap-3 w-full sm:w-auto",children:[E.jsx(wE,{size:22})," hmstory0111@gmail.com"]})}),E.jsx("div",{className:"mt-16 pt-8 border-t border-border text-muted-foreground text-sm font-medium relative z-10",children:E.jsx("p",{children:" 2025 Hyeongmo Kim. All rights reserved."})})]})}),VC=()=>{const[i,e]=Re.useState(!1),[t,s]=Re.useState(!1),[o,l]=Re.useState(null),[h,m]=Re.useState(null),[g,_]=Re.useState({}),[T,I]=Re.useState(null),[P,B]=Re.useState(!1),J=dC(),{user:G,loginError:q,login:pe,logout:de,setLoginError:we}=cC(),{projects:xe,experiences:je,educations:Ce,skills:R,loading:A,error:C,fetchData:V,saveDocument:D,deleteDocument:L}=hC();Re.useEffect(()=>{V()},[V]),Re.useEffect(()=>{C&&I(C)},[C]),Re.useEffect(()=>{const te=setTimeout(()=>{B(!0)},1e4);return()=>clearTimeout(te)},[]);const x=Re.useCallback(te=>{const he=document.getElementById(te);he&&(he.scrollIntoView({behavior:"smooth"}),e(!1))},[]),$e=Re.useCallback((te,he=null)=>{te==="project"?_(he||{title:"",description:"",link:"",linkText:"View Project",type:"blog",videoId:""}):te==="experience"?_(he||{role:"",company:"",period:"",description:"",details:[]}):te==="education"?_(he||{school:"",degree:"",period:"",description:""}):te==="skill"&&_(he||{category:"",items:""})},[]),tt=Re.useCallback(te=>{m(te),l(null),$e(te)},[$e]),at=Re.useCallback((te,he)=>{l({type:te,id:he.id}),m(null);let me=Ne({},he);te==="skill"&&Array.isArray(he.items)&&(me.items=he.items.join(", ")),te==="experience"&&Array.isArray(he.details)&&(me.detailsStr=he.details.join(`
`)),$e(te,me)},[$e]),Fe=Re.useCallback(()=>{m(null),l(null),_({}),I(null)},[]),ee=Re.useCallback(te=>k(null,null,function*(){var he;try{if(te==="project"){const ge=g;if(!ge.title||!ge.description||!ge.linkText){I("Please fill in all required fields");return}if(ge.type==="video"&&!ge.videoId){I("Please provide a YouTube Video ID for video projects");return}if(ge.type!=="video"&&!ge.link){I("Please provide a link URL");return}}else if(te==="experience"){const ge=g;if(!ge.role||!ge.company||!ge.period){I("Please fill in all required fields");return}}else if(te==="education"){const ge=g;if(!ge.school||!ge.degree||!ge.period){I("Please fill in all required fields");return}}else if(te==="skill"){const ge=g;if(!ge.category||!ge.items){I("Please fill in all required fields");return}}I(null);let me=En(Ne({},g),{createdAt:new Date});me.order||(me.order=Date.now()),te==="skill"&&(me.items=g.items.split(",").map(ge=>ge.trim()).filter(ge=>ge)),te==="experience"&&g.detailsStr&&(me.details=(he=g.detailsStr)==null?void 0:he.split(`
`).filter(ge=>ge.trim()),delete me.detailsStr);const ze=`${te}s`;(yield D(ze,me,o&&o.type===te?o.id:void 0))&&Fe()}catch(me){I(me.message||"Failed to save document")}}),[g,o,D,Fe]),ce=Re.useCallback((te,he)=>k(null,null,function*(){if(!window.confirm("Are you sure you want to delete this item?"))return;const me=`${te}s`;yield L(me,he)}),[L]),ie=Re.useCallback((te,he)=>k(null,null,function*(){const me=yield pe(te,he);return me&&s(!1),me}),[pe]),O=Re.useCallback(()=>k(null,null,function*(){yield de(),s(!1),Fe()}),[de,Fe]),W=Re.useMemo(()=>E.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[150px] animate-pulse-glow"}),E.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[40%] h-[40%] bg-primary/3 rounded-full blur-[120px]"}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60%] h-[60%] bg-secondary/30 rounded-full blur-[200px]"})]}),[]);return A&&xe.length===0&&je.length===0&&Ce.length===0&&R.length===0&&!P&&!C?E.jsx("div",{className:"min-h-screen bg-background text-foreground flex items-center justify-center",children:E.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):E.jsxs("div",{className:"min-h-screen bg-background text-foreground selection:bg-primary selection:text-primary-foreground relative overflow-x-hidden",children:[W,E.jsx(xC,{user:G,isAdminMode:t,onToggleAdminMode:()=>s(!t),onLogout:O}),E.jsx(AC,{isOpen:t&&!G,onClose:()=>{s(!1),we("")},onLogin:ie,loginError:q}),T&&E.jsxs("div",{className:"fixed top-20 left-1/2 -translate-x-1/2 z-[102] bg-destructive/90 text-destructive-foreground px-6 py-3 rounded-lg shadow-lg animate-fade-in",children:[T,E.jsx("button",{onClick:()=>I(null),className:"ml-4 underline","aria-label":"Dismiss error",children:"Dismiss"})]}),E.jsx(SC,{scrolled:J,isMenuOpen:i,onToggleMenu:()=>e(!i),onNavigate:x}),E.jsx(CC,{onNavigate:x}),E.jsx(kC,{user:G,educations:Ce,isAdding:h,editingItem:o,formData:g,onStartAdd:tt,onStartEdit:at,onDelete:ce,onFormDataChange:_,onSave:ee,onCancel:Fe}),E.jsx(RC,{user:G,experiences:je,isAdding:h,editingItem:o,formData:g,onStartAdd:tt,onStartEdit:at,onDelete:ce,onFormDataChange:_,onSave:ee,onCancel:Fe}),E.jsx(PC,{user:G,projects:xe,isAdding:h,editingItem:o,formData:g,onStartAdd:tt,onStartEdit:at,onDelete:ce,onFormDataChange:_,onSave:ee,onCancel:Fe}),E.jsx(NC,{user:G,skills:R,isAdding:h,editingItem:o,formData:g,onStartAdd:tt,onStartEdit:at,onDelete:ce,onFormDataChange:_,onSave:ee,onCancel:Fe}),E.jsx(DC,{})]})};Hw.createRoot(document.getElementById("root")).render(E.jsx(jw.StrictMode,{children:E.jsx(VC,{})}))});export default bC();
